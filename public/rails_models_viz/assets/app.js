var Ux=Object.defineProperty;var Vx=(e,r,i)=>r in e?Ux(e,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[r]=i;var De=(e,r,i)=>Vx(e,typeof r!="symbol"?r+"":r,i);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function i(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(s){if(s.ep)return;s.ep=!0;const u=i(s);fetch(s.href,u)}})();function oa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qu={exports:{}},Yo={},Zu={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function Wx(){if(Ep)return He;Ep=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),a=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),f=Symbol.iterator;function m(L){return L===null||typeof L!="object"?null:(L=f&&L[f]||L["@@iterator"],typeof L=="function"?L:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function _(L,V,U){this.props=L,this.context=V,this.refs=E,this.updater=U||v}_.prototype.isReactComponent={},_.prototype.setState=function(L,V){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,V,"setState")},_.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function k(){}k.prototype=_.prototype;function S(L,V,U){this.props=L,this.context=V,this.refs=E,this.updater=U||v}var b=S.prototype=new k;b.constructor=S,w(b,_.prototype),b.isPureReactComponent=!0;var C=Array.isArray,A=Object.prototype.hasOwnProperty,T={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function R(L,V,U){var q,Q={},re=null,ae=null;if(V!=null)for(q in V.ref!==void 0&&(ae=V.ref),V.key!==void 0&&(re=""+V.key),V)A.call(V,q)&&!D.hasOwnProperty(q)&&(Q[q]=V[q]);var oe=arguments.length-2;if(oe===1)Q.children=U;else if(1<oe){for(var se=Array(oe),me=0;me<oe;me++)se[me]=arguments[me+2];Q.children=se}if(L&&L.defaultProps)for(q in oe=L.defaultProps,oe)Q[q]===void 0&&(Q[q]=oe[q]);return{$$typeof:e,type:L,key:re,ref:ae,props:Q,_owner:T.current}}function O(L,V){return{$$typeof:e,type:L.type,key:V,ref:L.ref,props:L.props,_owner:L._owner}}function G(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function z(L){var V={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(U){return V[U]})}var j=/\/+/g;function ee(L,V){return typeof L=="object"&&L!==null&&L.key!=null?z(""+L.key):V.toString(36)}function P(L,V,U,q,Q){var re=typeof L;(re==="undefined"||re==="boolean")&&(L=null);var ae=!1;if(L===null)ae=!0;else switch(re){case"string":case"number":ae=!0;break;case"object":switch(L.$$typeof){case e:case r:ae=!0}}if(ae)return ae=L,Q=Q(ae),L=q===""?"."+ee(ae,0):q,C(Q)?(U="",L!=null&&(U=L.replace(j,"$&/")+"/"),P(Q,V,U,"",function(me){return me})):Q!=null&&(G(Q)&&(Q=O(Q,U+(!Q.key||ae&&ae.key===Q.key?"":(""+Q.key).replace(j,"$&/")+"/")+L)),V.push(Q)),1;if(ae=0,q=q===""?".":q+":",C(L))for(var oe=0;oe<L.length;oe++){re=L[oe];var se=q+ee(re,oe);ae+=P(re,V,U,se,Q)}else if(se=m(L),typeof se=="function")for(L=se.call(L),oe=0;!(re=L.next()).done;)re=re.value,se=q+ee(re,oe++),ae+=P(re,V,U,se,Q);else if(re==="object")throw V=String(L),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return ae}function J(L,V,U){if(L==null)return L;var q=[],Q=0;return P(L,q,"","",function(re){return V.call(U,re,Q++)}),q}function F(L){if(L._status===-1){var V=L._result;V=V(),V.then(function(U){(L._status===0||L._status===-1)&&(L._status=1,L._result=U)},function(U){(L._status===0||L._status===-1)&&(L._status=2,L._result=U)}),L._status===-1&&(L._status=0,L._result=V)}if(L._status===1)return L._result.default;throw L._result}var X={current:null},I={transition:null},$={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:I,ReactCurrentOwner:T};function H(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:J,forEach:function(L,V,U){J(L,function(){V.apply(this,arguments)},U)},count:function(L){var V=0;return J(L,function(){V++}),V},toArray:function(L){return J(L,function(V){return V})||[]},only:function(L){if(!G(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},He.Component=_,He.Fragment=i,He.Profiler=s,He.PureComponent=S,He.StrictMode=l,He.Suspense=h,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,He.act=H,He.cloneElement=function(L,V,U){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var q=w({},L.props),Q=L.key,re=L.ref,ae=L._owner;if(V!=null){if(V.ref!==void 0&&(re=V.ref,ae=T.current),V.key!==void 0&&(Q=""+V.key),L.type&&L.type.defaultProps)var oe=L.type.defaultProps;for(se in V)A.call(V,se)&&!D.hasOwnProperty(se)&&(q[se]=V[se]===void 0&&oe!==void 0?oe[se]:V[se])}var se=arguments.length-2;if(se===1)q.children=U;else if(1<se){oe=Array(se);for(var me=0;me<se;me++)oe[me]=arguments[me+2];q.children=oe}return{$$typeof:e,type:L.type,key:Q,ref:re,props:q,_owner:ae}},He.createContext=function(L){return L={$$typeof:a,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:u,_context:L},L.Consumer=L},He.createElement=R,He.createFactory=function(L){var V=R.bind(null,L);return V.type=L,V},He.createRef=function(){return{current:null}},He.forwardRef=function(L){return{$$typeof:d,render:L}},He.isValidElement=G,He.lazy=function(L){return{$$typeof:g,_payload:{_status:-1,_result:L},_init:F}},He.memo=function(L,V){return{$$typeof:p,type:L,compare:V===void 0?null:V}},He.startTransition=function(L){var V=I.transition;I.transition={};try{L()}finally{I.transition=V}},He.unstable_act=H,He.useCallback=function(L,V){return X.current.useCallback(L,V)},He.useContext=function(L){return X.current.useContext(L)},He.useDebugValue=function(){},He.useDeferredValue=function(L){return X.current.useDeferredValue(L)},He.useEffect=function(L,V){return X.current.useEffect(L,V)},He.useId=function(){return X.current.useId()},He.useImperativeHandle=function(L,V,U){return X.current.useImperativeHandle(L,V,U)},He.useInsertionEffect=function(L,V){return X.current.useInsertionEffect(L,V)},He.useLayoutEffect=function(L,V){return X.current.useLayoutEffect(L,V)},He.useMemo=function(L,V){return X.current.useMemo(L,V)},He.useReducer=function(L,V,U){return X.current.useReducer(L,V,U)},He.useRef=function(L){return X.current.useRef(L)},He.useState=function(L){return X.current.useState(L)},He.useSyncExternalStore=function(L,V,U){return X.current.useSyncExternalStore(L,V,U)},He.useTransition=function(){return X.current.useTransition()},He.version="18.3.1",He}var _p;function gs(){return _p||(_p=1,Zu.exports=Wx()),Zu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function Gx(){if(bp)return Yo;bp=1;var e=gs(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function a(d,h,p){var g,f={},m=null,v=null;p!==void 0&&(m=""+p),h.key!==void 0&&(m=""+h.key),h.ref!==void 0&&(v=h.ref);for(g in h)l.call(h,g)&&!u.hasOwnProperty(g)&&(f[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)f[g]===void 0&&(f[g]=h[g]);return{$$typeof:r,type:d,key:m,ref:v,props:f,_owner:s.current}}return Yo.Fragment=i,Yo.jsx=a,Yo.jsxs=a,Yo}var kp;function qx(){return kp||(kp=1,Qu.exports=Gx()),Qu.exports}var M=qx(),Z=gs();const Yx=oa(Z);var kl={},Ju={exports:{}},Qt={},ec={exports:{}},tc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function Xx(){return Sp||(Sp=1,(function(e){function r(I,$){var H=I.length;I.push($);e:for(;0<H;){var L=H-1>>>1,V=I[L];if(0<s(V,$))I[L]=$,I[H]=V,H=L;else break e}}function i(I){return I.length===0?null:I[0]}function l(I){if(I.length===0)return null;var $=I[0],H=I.pop();if(H!==$){I[0]=H;e:for(var L=0,V=I.length,U=V>>>1;L<U;){var q=2*(L+1)-1,Q=I[q],re=q+1,ae=I[re];if(0>s(Q,H))re<V&&0>s(ae,Q)?(I[L]=ae,I[re]=H,L=re):(I[L]=Q,I[q]=H,L=q);else if(re<V&&0>s(ae,H))I[L]=ae,I[re]=H,L=re;else break e}}return $}function s(I,$){var H=I.sortIndex-$.sortIndex;return H!==0?H:I.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var a=Date,d=a.now();e.unstable_now=function(){return a.now()-d}}var h=[],p=[],g=1,f=null,m=3,v=!1,w=!1,E=!1,_=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var $=i(p);$!==null;){if($.callback===null)l(p);else if($.startTime<=I)l(p),$.sortIndex=$.expirationTime,r(h,$);else break;$=i(p)}}function C(I){if(E=!1,b(I),!w)if(i(h)!==null)w=!0,F(A);else{var $=i(p);$!==null&&X(C,$.startTime-I)}}function A(I,$){w=!1,E&&(E=!1,k(R),R=-1),v=!0;var H=m;try{for(b($),f=i(h);f!==null&&(!(f.expirationTime>$)||I&&!z());){var L=f.callback;if(typeof L=="function"){f.callback=null,m=f.priorityLevel;var V=L(f.expirationTime<=$);$=e.unstable_now(),typeof V=="function"?f.callback=V:f===i(h)&&l(h),b($)}else l(h);f=i(h)}if(f!==null)var U=!0;else{var q=i(p);q!==null&&X(C,q.startTime-$),U=!1}return U}finally{f=null,m=H,v=!1}}var T=!1,D=null,R=-1,O=5,G=-1;function z(){return!(e.unstable_now()-G<O)}function j(){if(D!==null){var I=e.unstable_now();G=I;var $=!0;try{$=D(!0,I)}finally{$?ee():(T=!1,D=null)}}else T=!1}var ee;if(typeof S=="function")ee=function(){S(j)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,J=P.port2;P.port1.onmessage=j,ee=function(){J.postMessage(null)}}else ee=function(){_(j,0)};function F(I){D=I,T||(T=!0,ee())}function X(I,$){R=_(function(){I(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,F(A))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return i(h)},e.unstable_next=function(I){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var H=m;m=$;try{return I()}finally{m=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,$){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var H=m;m=I;try{return $()}finally{m=H}},e.unstable_scheduleCallback=function(I,$,H){var L=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?L+H:L):H=L,I){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=H+V,I={id:g++,callback:$,priorityLevel:I,startTime:H,expirationTime:V,sortIndex:-1},H>L?(I.sortIndex=H,r(p,I),i(h)===null&&I===i(p)&&(E?(k(R),R=-1):E=!0,X(C,H-L))):(I.sortIndex=V,r(h,I),w||v||(w=!0,F(A))),I},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(I){var $=m;return function(){var H=m;m=$;try{return I.apply(this,arguments)}finally{m=H}}}})(tc)),tc}var Np;function Kx(){return Np||(Np=1,ec.exports=Xx()),ec.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function Qx(){if(Cp)return Qt;Cp=1;var e=gs(),r=Kx();function i(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,s={};function u(t,n){a(t,n),a(t+"Capture",n)}function a(t,n){for(s[t]=n,t=0;t<n.length;t++)l.add(n[t])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},f={};function m(t){return h.call(f,t)?!0:h.call(g,t)?!1:p.test(t)?f[t]=!0:(g[t]=!0,!1)}function v(t,n,o,c){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function w(t,n,o,c){if(n===null||typeof n>"u"||v(t,n,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function E(t,n,o,c,y,x,N){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=c,this.attributeNamespace=y,this.mustUseProperty=o,this.propertyName=t,this.type=n,this.sanitizeURL=x,this.removeEmptyString=N}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_[t]=new E(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];_[n]=new E(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){_[t]=new E(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_[t]=new E(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_[t]=new E(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){_[t]=new E(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){_[t]=new E(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){_[t]=new E(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){_[t]=new E(t,5,!1,t.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function S(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(k,S);_[n]=new E(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(k,S);_[n]=new E(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(k,S);_[n]=new E(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){_[t]=new E(t,1,!1,t.toLowerCase(),null,!1,!1)}),_.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){_[t]=new E(t,1,!1,t.toLowerCase(),null,!0,!0)});function b(t,n,o,c){var y=_.hasOwnProperty(n)?_[n]:null;(y!==null?y.type!==0:c||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(w(n,o,y,c)&&(o=null),c||y===null?m(n)&&(o===null?t.removeAttribute(n):t.setAttribute(n,""+o)):y.mustUseProperty?t[y.propertyName]=o===null?y.type===3?!1:"":o:(n=y.attributeName,c=y.attributeNamespace,o===null?t.removeAttribute(n):(y=y.type,o=y===3||y===4&&o===!0?"":""+o,c?t.setAttributeNS(c,n,o):t.setAttribute(n,o))))}var C=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),T=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),z=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),I=Symbol.iterator;function $(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var H=Object.assign,L;function V(t){if(L===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);L=n&&n[1]||""}return`
`+L+t}var U=!1;function q(t,n){if(!t||U)return"";U=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(ie){var c=ie}Reflect.construct(t,[],n)}else{try{n.call()}catch(ie){c=ie}t.call(n.prototype)}else{try{throw Error()}catch(ie){c=ie}t()}}catch(ie){if(ie&&c&&typeof ie.stack=="string"){for(var y=ie.stack.split(`
`),x=c.stack.split(`
`),N=y.length-1,B=x.length-1;1<=N&&0<=B&&y[N]!==x[B];)B--;for(;1<=N&&0<=B;N--,B--)if(y[N]!==x[B]){if(N!==1||B!==1)do if(N--,B--,0>B||y[N]!==x[B]){var Y=`
`+y[N].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=N&&0<=B);break}}}finally{U=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?V(t):""}function Q(t){switch(t.tag){case 5:return V(t.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return t=q(t.type,!1),t;case 11:return t=q(t.type.render,!1),t;case 1:return t=q(t.type,!0),t;default:return""}}function re(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case T:return"Portal";case O:return"Profiler";case R:return"StrictMode";case ee:return"Suspense";case P:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case z:return(t.displayName||"Context")+".Consumer";case G:return(t._context.displayName||"Context")+".Provider";case j:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return n=t.displayName||null,n!==null?n:re(t.type)||"Memo";case F:n=t._payload,t=t._init;try{return re(t(n))}catch{}}return null}function ae(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(n);case 8:return n===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function oe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function se(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function me(t){var n=se(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),c=""+t[n];if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var y=o.get,x=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return y.call(this)},set:function(N){c=""+N,x.call(this,N)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(N){c=""+N},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Te(t){t._valueTracker||(t._valueTracker=me(t))}function Ee(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var o=n.getValue(),c="";return t&&(c=se(t)?t.checked?"true":"false":t.value),t=c,t!==o?(n.setValue(t),!0):!1}function ye(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Le(t,n){var o=n.checked;return H({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function We(t,n){var o=n.defaultValue==null?"":n.defaultValue,c=n.checked!=null?n.checked:n.defaultChecked;o=oe(n.value!=null?n.value:o),t._wrapperState={initialChecked:c,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Be(t,n){n=n.checked,n!=null&&b(t,"checked",n,!1)}function ht(t,n){Be(t,n);var o=oe(n.value),c=n.type;if(o!=null)c==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?$t(t,n.type,o):n.hasOwnProperty("defaultValue")&&$t(t,n.type,oe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function Jt(t,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var c=n.type;if(!(c!=="submit"&&c!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,o||n===t.value||(t.value=n),t.defaultValue=n}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function $t(t,n,o){(n!=="number"||ye(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var It=Array.isArray;function Ut(t,n,o,c){if(t=t.options,n){n={};for(var y=0;y<o.length;y++)n["$"+o[y]]=!0;for(o=0;o<t.length;o++)y=n.hasOwnProperty("$"+t[o].value),t[o].selected!==y&&(t[o].selected=y),y&&c&&(t[o].defaultSelected=!0)}else{for(o=""+oe(o),n=null,y=0;y<t.length;y++){if(t[y].value===o){t[y].selected=!0,c&&(t[y].defaultSelected=!0);return}n!==null||t[y].disabled||(n=t[y])}n!==null&&(n.selected=!0)}}function vn(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(i(91));return H({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xn(t,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(i(92));if(It(o)){if(1<o.length)throw Error(i(93));o=o[0]}n=o}n==null&&(n=""),o=n}t._wrapperState={initialValue:oe(o)}}function Vt(t,n){var o=oe(n.value),c=oe(n.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),n.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),c!=null&&(t.defaultValue=""+c)}function Dn(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function Lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wt(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?Lt(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $n,bi=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,c,y){MSApp.execUnsafeLocalFunction(function(){return t(n,o,c,y)})}:t})(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for($n=$n||document.createElement("div"),$n.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=$n.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function wn(t,n){if(n){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=n;return}}t.textContent=n}var Zn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},co=["Webkit","ms","Moz","O"];Object.keys(Zn).forEach(function(t){co.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),Zn[n]=Zn[t]})});function ki(t,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||Zn.hasOwnProperty(t)&&Zn[t]?(""+n).trim():n+"px"}function Vr(t,n){t=t.style;for(var o in n)if(n.hasOwnProperty(o)){var c=o.indexOf("--")===0,y=ki(o,n[o],c);o==="float"&&(o="cssFloat"),c?t.setProperty(o,y):t[o]=y}}var fo=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wr(t,n){if(n){if(fo[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(i(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(i(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(i(61))}if(n.style!=null&&typeof n.style!="object")throw Error(i(62))}}function Gr(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jn=null;function yr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vr=null,jn=null,En=null;function _n(t){if(t=Lo(t)){if(typeof vr!="function")throw Error(i(280));var n=t.stateNode;n&&(n=js(n),vr(t.stateNode,t.type,n))}}function W(t){jn?En?En.push(t):En=[t]:jn=t}function le(){if(jn){var t=jn,n=En;if(En=jn=null,_n(t),n)for(t=0;t<n.length;t++)_n(n[t])}}function ge(t,n){return t(n)}function Oe(){}var Je=!1;function et(t,n,o){if(Je)return t(n,o);Je=!0;try{return ge(t,n,o)}finally{Je=!1,(jn!==null||En!==null)&&(Oe(),le())}}function we(t,n){var o=t.stateNode;if(o===null)return null;var c=js(o);if(c===null)return null;o=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(i(231,n,typeof o));return o}var ve=!1;if(d)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){ve=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch{ve=!1}function pt(t,n,o,c,y,x,N,B,Y){var ie=Array.prototype.slice.call(arguments,3);try{n.apply(o,ie)}catch(ce){this.onError(ce)}}var Ze=!1,un=null,Bn=!1,er=null,ho={onError:function(t){Ze=!0,un=t}};function qr(t,n,o,c,y,x,N,B,Y){Ze=!1,un=null,pt.apply(ho,arguments)}function po(t,n,o,c,y,x,N,B,Y){if(qr.apply(this,arguments),Ze){if(Ze){var ie=un;Ze=!1,un=null}else throw Error(i(198));Bn||(Bn=!0,er=ie)}}function cn(t){var n=t,o=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(o=n.return),t=n.return;while(t)}return n.tag===3?o:null}function Yr(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function xr(t){if(cn(t)!==t)throw Error(i(188))}function wr(t){var n=t.alternate;if(!n){if(n=cn(t),n===null)throw Error(i(188));return n!==t?null:t}for(var o=t,c=n;;){var y=o.return;if(y===null)break;var x=y.alternate;if(x===null){if(c=y.return,c!==null){o=c;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===o)return xr(y),t;if(x===c)return xr(y),n;x=x.sibling}throw Error(i(188))}if(o.return!==c.return)o=y,c=x;else{for(var N=!1,B=y.child;B;){if(B===o){N=!0,o=y,c=x;break}if(B===c){N=!0,c=y,o=x;break}B=B.sibling}if(!N){for(B=x.child;B;){if(B===o){N=!0,o=x,c=y;break}if(B===c){N=!0,c=x,o=y;break}B=B.sibling}if(!N)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?t:n}function Si(t){return t=wr(t),t!==null?Ni(t):null}function Ni(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=Ni(t);if(n!==null)return n;t=t.sibling}return null}var Ci=r.unstable_scheduleCallback,en=r.unstable_cancelCallback,Ri=r.unstable_shouldYield,Xr=r.unstable_requestPaint,nt=r.unstable_now,go=r.unstable_getCurrentPriorityLevel,Kr=r.unstable_ImmediatePriority,tr=r.unstable_UserBlockingPriority,Er=r.unstable_NormalPriority,fe=r.unstable_LowPriority,Ce=r.unstable_IdlePriority,je=null,Fe=null;function ut(t){if(Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(je,t,void 0,(t.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:Rt,dn=Math.log,_r=Math.LN2;function Rt(t){return t>>>=0,t===0?32:31-(dn(t)/_r|0)|0}var Tt=64,nr=4194304;function tn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rr(t,n){var o=t.pendingLanes;if(o===0)return 0;var c=0,y=t.suspendedLanes,x=t.pingedLanes,N=o&268435455;if(N!==0){var B=N&~y;B!==0?c=tn(B):(x&=N,x!==0&&(c=tn(x)))}else N=o&~y,N!==0?c=tn(N):x!==0&&(c=tn(x));if(c===0)return 0;if(n!==0&&n!==c&&(n&y)===0&&(y=c&-c,x=n&-n,y>=x||y===16&&(x&4194240)!==0))return n;if((c&4)!==0&&(c|=o&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=c;0<n;)o=31-rt(n),y=1<<o,c|=t[o],n&=~y;return c}function Ti(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mo(t,n){for(var o=t.suspendedLanes,c=t.pingedLanes,y=t.expirationTimes,x=t.pendingLanes;0<x;){var N=31-rt(x),B=1<<N,Y=y[N];Y===-1?((B&o)===0||(B&c)!==0)&&(y[N]=Ti(B,n)):Y<=n&&(t.expiredLanes|=B),x&=~B}}function Qr(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function br(){var t=Tt;return Tt<<=1,(Tt&4194240)===0&&(Tt=64),t}function Fn(t){for(var n=[],o=0;31>o;o++)n.push(t);return n}function Hn(t,n,o){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-rt(n),t[n]=o}function jt(t,n){var o=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<o;){var y=31-rt(o),x=1<<y;n[y]=0,c[y]=-1,t[y]=-1,o&=~x}}function yo(t,n){var o=t.entangledLanes|=n;for(t=t.entanglements;o;){var c=31-rt(o),y=1<<c;y&n|t[c]&n&&(t[c]|=n),o&=~y}}var Ge=0;function $e(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var vo,yt,Qe,Zr,Un,Jr=!1,kr=[],pe=null,_e=null,Pe=null,Ue=new Map,gt=new Map,kt=[],_a="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ks(t,n){switch(t){case"focusin":case"focusout":pe=null;break;case"dragenter":case"dragleave":_e=null;break;case"mouseover":case"mouseout":Pe=null;break;case"pointerover":case"pointerout":Ue.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":gt.delete(n.pointerId)}}function xo(t,n,o,c,y,x){return t===null||t.nativeEvent!==x?(t={blockedOn:n,domEventName:o,eventSystemFlags:c,nativeEvent:x,targetContainers:[y]},n!==null&&(n=Lo(n),n!==null&&yt(n)),t):(t.eventSystemFlags|=c,n=t.targetContainers,y!==null&&n.indexOf(y)===-1&&n.push(y),t)}function fv(t,n,o,c,y){switch(n){case"focusin":return pe=xo(pe,t,n,o,c,y),!0;case"dragenter":return _e=xo(_e,t,n,o,c,y),!0;case"mouseover":return Pe=xo(Pe,t,n,o,c,y),!0;case"pointerover":var x=y.pointerId;return Ue.set(x,xo(Ue.get(x)||null,t,n,o,c,y)),!0;case"gotpointercapture":return x=y.pointerId,gt.set(x,xo(gt.get(x)||null,t,n,o,c,y)),!0}return!1}function of(t){var n=ei(t.target);if(n!==null){var o=cn(n);if(o!==null){if(n=o.tag,n===13){if(n=Yr(o),n!==null){t.blockedOn=n,Un(t.priority,function(){Qe(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ss(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var o=ka(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);Jn=c,o.target.dispatchEvent(c),Jn=null}else return n=Lo(o),n!==null&&yt(n),t.blockedOn=o,!1;n.shift()}return!0}function sf(t,n,o){Ss(t)&&o.delete(n)}function hv(){Jr=!1,pe!==null&&Ss(pe)&&(pe=null),_e!==null&&Ss(_e)&&(_e=null),Pe!==null&&Ss(Pe)&&(Pe=null),Ue.forEach(sf),gt.forEach(sf)}function wo(t,n){t.blockedOn===n&&(t.blockedOn=null,Jr||(Jr=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hv)))}function Eo(t){function n(y){return wo(y,t)}if(0<kr.length){wo(kr[0],t);for(var o=1;o<kr.length;o++){var c=kr[o];c.blockedOn===t&&(c.blockedOn=null)}}for(pe!==null&&wo(pe,t),_e!==null&&wo(_e,t),Pe!==null&&wo(Pe,t),Ue.forEach(n),gt.forEach(n),o=0;o<kt.length;o++)c=kt[o],c.blockedOn===t&&(c.blockedOn=null);for(;0<kt.length&&(o=kt[0],o.blockedOn===null);)of(o),o.blockedOn===null&&kt.shift()}var Mi=C.ReactCurrentBatchConfig,Ns=!0;function pv(t,n,o,c){var y=Ge,x=Mi.transition;Mi.transition=null;try{Ge=1,ba(t,n,o,c)}finally{Ge=y,Mi.transition=x}}function gv(t,n,o,c){var y=Ge,x=Mi.transition;Mi.transition=null;try{Ge=4,ba(t,n,o,c)}finally{Ge=y,Mi.transition=x}}function ba(t,n,o,c){if(Ns){var y=ka(t,n,o,c);if(y===null)Fa(t,n,c,Cs,o),ks(t,c);else if(fv(y,t,n,o,c))c.stopPropagation();else if(ks(t,c),n&4&&-1<_a.indexOf(t)){for(;y!==null;){var x=Lo(y);if(x!==null&&vo(x),x=ka(t,n,o,c),x===null&&Fa(t,n,c,Cs,o),x===y)break;y=x}y!==null&&c.stopPropagation()}else Fa(t,n,c,null,o)}}var Cs=null;function ka(t,n,o,c){if(Cs=null,t=yr(c),t=ei(t),t!==null)if(n=cn(t),n===null)t=null;else if(o=n.tag,o===13){if(t=Yr(n),t!==null)return t;t=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return Cs=t,null}function lf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(go()){case Kr:return 1;case tr:return 4;case Er:case fe:return 16;case Ce:return 536870912;default:return 16}default:return 16}}var Sr=null,Sa=null,Rs=null;function af(){if(Rs)return Rs;var t,n=Sa,o=n.length,c,y="value"in Sr?Sr.value:Sr.textContent,x=y.length;for(t=0;t<o&&n[t]===y[t];t++);var N=o-t;for(c=1;c<=N&&n[o-c]===y[x-c];c++);return Rs=y.slice(t,1<c?1-c:void 0)}function Ts(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ms(){return!0}function uf(){return!1}function nn(t){function n(o,c,y,x,N){this._reactName=o,this._targetInst=y,this.type=c,this.nativeEvent=x,this.target=N,this.currentTarget=null;for(var B in t)t.hasOwnProperty(B)&&(o=t[B],this[B]=o?o(x):x[B]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ms:uf,this.isPropagationStopped=uf,this}return H(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),n}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=nn(Ai),_o=H({},Ai,{view:0,detail:0}),mv=nn(_o),Ca,Ra,bo,As=H({},_o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ma,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bo&&(bo&&t.type==="mousemove"?(Ca=t.screenX-bo.screenX,Ra=t.screenY-bo.screenY):Ra=Ca=0,bo=t),Ca)},movementY:function(t){return"movementY"in t?t.movementY:Ra}}),cf=nn(As),yv=H({},As,{dataTransfer:0}),vv=nn(yv),xv=H({},_o,{relatedTarget:0}),Ta=nn(xv),wv=H({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Ev=nn(wv),_v=H({},Ai,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bv=nn(_v),kv=H({},Ai,{data:0}),df=nn(kv),Sv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rv(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Cv[t])?!!n[t]:!1}function Ma(){return Rv}var Tv=H({},_o,{key:function(t){if(t.key){var n=Sv[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ts(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ma,charCode:function(t){return t.type==="keypress"?Ts(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ts(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mv=nn(Tv),Av=H({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ff=nn(Av),Iv=H({},_o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ma}),Lv=nn(Iv),Ov=H({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pv=nn(Ov),zv=H({},As,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dv=nn(zv),$v=[9,13,27,32],Aa=d&&"CompositionEvent"in window,ko=null;d&&"documentMode"in document&&(ko=document.documentMode);var jv=d&&"TextEvent"in window&&!ko,hf=d&&(!Aa||ko&&8<ko&&11>=ko),pf=" ",gf=!1;function mf(t,n){switch(t){case"keyup":return $v.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ii=!1;function Bv(t,n){switch(t){case"compositionend":return yf(n);case"keypress":return n.which!==32?null:(gf=!0,pf);case"textInput":return t=n.data,t===pf&&gf?null:t;default:return null}}function Fv(t,n){if(Ii)return t==="compositionend"||!Aa&&mf(t,n)?(t=af(),Rs=Sa=Sr=null,Ii=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return hf&&n.locale!=="ko"?null:n.data;default:return null}}var Hv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Hv[t.type]:n==="textarea"}function xf(t,n,o,c){W(c),n=zs(n,"onChange"),0<n.length&&(o=new Na("onChange","change",null,o,c),t.push({event:o,listeners:n}))}var So=null,No=null;function Uv(t){Df(t,0)}function Is(t){var n=Di(t);if(Ee(n))return t}function Vv(t,n){if(t==="change")return n}var wf=!1;if(d){var Ia;if(d){var La="oninput"in document;if(!La){var Ef=document.createElement("div");Ef.setAttribute("oninput","return;"),La=typeof Ef.oninput=="function"}Ia=La}else Ia=!1;wf=Ia&&(!document.documentMode||9<document.documentMode)}function _f(){So&&(So.detachEvent("onpropertychange",bf),No=So=null)}function bf(t){if(t.propertyName==="value"&&Is(No)){var n=[];xf(n,No,t,yr(t)),et(Uv,n)}}function Wv(t,n,o){t==="focusin"?(_f(),So=n,No=o,So.attachEvent("onpropertychange",bf)):t==="focusout"&&_f()}function Gv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Is(No)}function qv(t,n){if(t==="click")return Is(n)}function Yv(t,n){if(t==="input"||t==="change")return Is(n)}function Xv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var bn=typeof Object.is=="function"?Object.is:Xv;function Co(t,n){if(bn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var o=Object.keys(t),c=Object.keys(n);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var y=o[c];if(!h.call(n,y)||!bn(t[y],n[y]))return!1}return!0}function kf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sf(t,n){var o=kf(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=n&&c>=n)return{node:o,offset:n-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=kf(o)}}function Nf(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Nf(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Cf(){for(var t=window,n=ye();n instanceof t.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)t=n.contentWindow;else break;n=ye(t.document)}return n}function Oa(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Kv(t){var n=Cf(),o=t.focusedElem,c=t.selectionRange;if(n!==o&&o&&o.ownerDocument&&Nf(o.ownerDocument.documentElement,o)){if(c!==null&&Oa(o)){if(n=c.start,t=c.end,t===void 0&&(t=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(t,o.value.length);else if(t=(n=o.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var y=o.textContent.length,x=Math.min(c.start,y);c=c.end===void 0?x:Math.min(c.end,y),!t.extend&&x>c&&(y=c,c=x,x=y),y=Sf(o,x);var N=Sf(o,c);y&&N&&(t.rangeCount!==1||t.anchorNode!==y.node||t.anchorOffset!==y.offset||t.focusNode!==N.node||t.focusOffset!==N.offset)&&(n=n.createRange(),n.setStart(y.node,y.offset),t.removeAllRanges(),x>c?(t.addRange(n),t.extend(N.node,N.offset)):(n.setEnd(N.node,N.offset),t.addRange(n)))}}for(n=[],t=o;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)t=n[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Qv=d&&"documentMode"in document&&11>=document.documentMode,Li=null,Pa=null,Ro=null,za=!1;function Rf(t,n,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;za||Li==null||Li!==ye(c)||(c=Li,"selectionStart"in c&&Oa(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ro&&Co(Ro,c)||(Ro=c,c=zs(Pa,"onSelect"),0<c.length&&(n=new Na("onSelect","select",null,n,o),t.push({event:n,listeners:c}),n.target=Li)))}function Ls(t,n){var o={};return o[t.toLowerCase()]=n.toLowerCase(),o["Webkit"+t]="webkit"+n,o["Moz"+t]="moz"+n,o}var Oi={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionend:Ls("Transition","TransitionEnd")},Da={},Tf={};d&&(Tf=document.createElement("div").style,"AnimationEvent"in window||(delete Oi.animationend.animation,delete Oi.animationiteration.animation,delete Oi.animationstart.animation),"TransitionEvent"in window||delete Oi.transitionend.transition);function Os(t){if(Da[t])return Da[t];if(!Oi[t])return t;var n=Oi[t],o;for(o in n)if(n.hasOwnProperty(o)&&o in Tf)return Da[t]=n[o];return t}var Mf=Os("animationend"),Af=Os("animationiteration"),If=Os("animationstart"),Lf=Os("transitionend"),Of=new Map,Pf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(t,n){Of.set(t,n),u(n,[t])}for(var $a=0;$a<Pf.length;$a++){var ja=Pf[$a],Zv=ja.toLowerCase(),Jv=ja[0].toUpperCase()+ja.slice(1);Nr(Zv,"on"+Jv)}Nr(Mf,"onAnimationEnd"),Nr(Af,"onAnimationIteration"),Nr(If,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Lf,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ex=new Set("cancel close invalid load scroll toggle".split(" ").concat(To));function zf(t,n,o){var c=t.type||"unknown-event";t.currentTarget=o,po(c,n,void 0,t),t.currentTarget=null}function Df(t,n){n=(n&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],y=c.event;c=c.listeners;e:{var x=void 0;if(n)for(var N=c.length-1;0<=N;N--){var B=c[N],Y=B.instance,ie=B.currentTarget;if(B=B.listener,Y!==x&&y.isPropagationStopped())break e;zf(y,B,ie),x=Y}else for(N=0;N<c.length;N++){if(B=c[N],Y=B.instance,ie=B.currentTarget,B=B.listener,Y!==x&&y.isPropagationStopped())break e;zf(y,B,ie),x=Y}}}if(Bn)throw t=er,Bn=!1,er=null,t}function it(t,n){var o=n[qa];o===void 0&&(o=n[qa]=new Set);var c=t+"__bubble";o.has(c)||($f(n,t,2,!1),o.add(c))}function Ba(t,n,o){var c=0;n&&(c|=4),$f(o,t,c,n)}var Ps="_reactListening"+Math.random().toString(36).slice(2);function Mo(t){if(!t[Ps]){t[Ps]=!0,l.forEach(function(o){o!=="selectionchange"&&(ex.has(o)||Ba(o,!1,t),Ba(o,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ps]||(n[Ps]=!0,Ba("selectionchange",!1,n))}}function $f(t,n,o,c){switch(lf(n)){case 1:var y=pv;break;case 4:y=gv;break;default:y=ba}o=y.bind(null,n,o,t),y=void 0,!ve||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(y=!0),c?y!==void 0?t.addEventListener(n,o,{capture:!0,passive:y}):t.addEventListener(n,o,!0):y!==void 0?t.addEventListener(n,o,{passive:y}):t.addEventListener(n,o,!1)}function Fa(t,n,o,c,y){var x=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var B=c.stateNode.containerInfo;if(B===y||B.nodeType===8&&B.parentNode===y)break;if(N===4)for(N=c.return;N!==null;){var Y=N.tag;if((Y===3||Y===4)&&(Y=N.stateNode.containerInfo,Y===y||Y.nodeType===8&&Y.parentNode===y))return;N=N.return}for(;B!==null;){if(N=ei(B),N===null)return;if(Y=N.tag,Y===5||Y===6){c=x=N;continue e}B=B.parentNode}}c=c.return}et(function(){var ie=x,ce=yr(o),de=[];e:{var ue=Of.get(t);if(ue!==void 0){var xe=Na,ke=t;switch(t){case"keypress":if(Ts(o)===0)break e;case"keydown":case"keyup":xe=Mv;break;case"focusin":ke="focus",xe=Ta;break;case"focusout":ke="blur",xe=Ta;break;case"beforeblur":case"afterblur":xe=Ta;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=cf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=vv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=Lv;break;case Mf:case Af:case If:xe=Ev;break;case Lf:xe=Pv;break;case"scroll":xe=mv;break;case"wheel":xe=Dv;break;case"copy":case"cut":case"paste":xe=bv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=ff}var Se=(n&4)!==0,vt=!Se&&t==="scroll",te=Se?ue!==null?ue+"Capture":null:ue;Se=[];for(var K=ie,ne;K!==null;){ne=K;var he=ne.stateNode;if(ne.tag===5&&he!==null&&(ne=he,te!==null&&(he=we(K,te),he!=null&&Se.push(Ao(K,he,ne)))),vt)break;K=K.return}0<Se.length&&(ue=new xe(ue,ke,null,o,ce),de.push({event:ue,listeners:Se}))}}if((n&7)===0){e:{if(ue=t==="mouseover"||t==="pointerover",xe=t==="mouseout"||t==="pointerout",ue&&o!==Jn&&(ke=o.relatedTarget||o.fromElement)&&(ei(ke)||ke[ir]))break e;if((xe||ue)&&(ue=ce.window===ce?ce:(ue=ce.ownerDocument)?ue.defaultView||ue.parentWindow:window,xe?(ke=o.relatedTarget||o.toElement,xe=ie,ke=ke?ei(ke):null,ke!==null&&(vt=cn(ke),ke!==vt||ke.tag!==5&&ke.tag!==6)&&(ke=null)):(xe=null,ke=ie),xe!==ke)){if(Se=cf,he="onMouseLeave",te="onMouseEnter",K="mouse",(t==="pointerout"||t==="pointerover")&&(Se=ff,he="onPointerLeave",te="onPointerEnter",K="pointer"),vt=xe==null?ue:Di(xe),ne=ke==null?ue:Di(ke),ue=new Se(he,K+"leave",xe,o,ce),ue.target=vt,ue.relatedTarget=ne,he=null,ei(ce)===ie&&(Se=new Se(te,K+"enter",ke,o,ce),Se.target=ne,Se.relatedTarget=vt,he=Se),vt=he,xe&&ke)t:{for(Se=xe,te=ke,K=0,ne=Se;ne;ne=Pi(ne))K++;for(ne=0,he=te;he;he=Pi(he))ne++;for(;0<K-ne;)Se=Pi(Se),K--;for(;0<ne-K;)te=Pi(te),ne--;for(;K--;){if(Se===te||te!==null&&Se===te.alternate)break t;Se=Pi(Se),te=Pi(te)}Se=null}else Se=null;xe!==null&&jf(de,ue,xe,Se,!1),ke!==null&&vt!==null&&jf(de,vt,ke,Se,!0)}}e:{if(ue=ie?Di(ie):window,xe=ue.nodeName&&ue.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ue.type==="file")var Ne=Vv;else if(vf(ue))if(wf)Ne=Yv;else{Ne=Gv;var Ae=Wv}else(xe=ue.nodeName)&&xe.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Ne=qv);if(Ne&&(Ne=Ne(t,ie))){xf(de,Ne,o,ce);break e}Ae&&Ae(t,ue,ie),t==="focusout"&&(Ae=ue._wrapperState)&&Ae.controlled&&ue.type==="number"&&$t(ue,"number",ue.value)}switch(Ae=ie?Di(ie):window,t){case"focusin":(vf(Ae)||Ae.contentEditable==="true")&&(Li=Ae,Pa=ie,Ro=null);break;case"focusout":Ro=Pa=Li=null;break;case"mousedown":za=!0;break;case"contextmenu":case"mouseup":case"dragend":za=!1,Rf(de,o,ce);break;case"selectionchange":if(Qv)break;case"keydown":case"keyup":Rf(de,o,ce)}var Ie;if(Aa)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Ii?mf(t,o)&&(ze="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ze="onCompositionStart");ze&&(hf&&o.locale!=="ko"&&(Ii||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Ii&&(Ie=af()):(Sr=ce,Sa="value"in Sr?Sr.value:Sr.textContent,Ii=!0)),Ae=zs(ie,ze),0<Ae.length&&(ze=new df(ze,t,null,o,ce),de.push({event:ze,listeners:Ae}),Ie?ze.data=Ie:(Ie=yf(o),Ie!==null&&(ze.data=Ie)))),(Ie=jv?Bv(t,o):Fv(t,o))&&(ie=zs(ie,"onBeforeInput"),0<ie.length&&(ce=new df("onBeforeInput","beforeinput",null,o,ce),de.push({event:ce,listeners:ie}),ce.data=Ie))}Df(de,n)})}function Ao(t,n,o){return{instance:t,listener:n,currentTarget:o}}function zs(t,n){for(var o=n+"Capture",c=[];t!==null;){var y=t,x=y.stateNode;y.tag===5&&x!==null&&(y=x,x=we(t,o),x!=null&&c.unshift(Ao(t,x,y)),x=we(t,n),x!=null&&c.push(Ao(t,x,y))),t=t.return}return c}function Pi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jf(t,n,o,c,y){for(var x=n._reactName,N=[];o!==null&&o!==c;){var B=o,Y=B.alternate,ie=B.stateNode;if(Y!==null&&Y===c)break;B.tag===5&&ie!==null&&(B=ie,y?(Y=we(o,x),Y!=null&&N.unshift(Ao(o,Y,B))):y||(Y=we(o,x),Y!=null&&N.push(Ao(o,Y,B)))),o=o.return}N.length!==0&&t.push({event:n,listeners:N})}var tx=/\r\n?/g,nx=/\u0000|\uFFFD/g;function Bf(t){return(typeof t=="string"?t:""+t).replace(tx,`
`).replace(nx,"")}function Ds(t,n,o){if(n=Bf(n),Bf(t)!==n&&o)throw Error(i(425))}function $s(){}var Ha=null,Ua=null;function Va(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Wa=typeof setTimeout=="function"?setTimeout:void 0,rx=typeof clearTimeout=="function"?clearTimeout:void 0,Ff=typeof Promise=="function"?Promise:void 0,ix=typeof queueMicrotask=="function"?queueMicrotask:typeof Ff<"u"?function(t){return Ff.resolve(null).then(t).catch(ox)}:Wa;function ox(t){setTimeout(function(){throw t})}function Ga(t,n){var o=n,c=0;do{var y=o.nextSibling;if(t.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(c===0){t.removeChild(y),Eo(n);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=y}while(o);Eo(n)}function Cr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function Hf(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return t;n--}else o==="/$"&&n++}t=t.previousSibling}return null}var zi=Math.random().toString(36).slice(2),Vn="__reactFiber$"+zi,Io="__reactProps$"+zi,ir="__reactContainer$"+zi,qa="__reactEvents$"+zi,sx="__reactListeners$"+zi,lx="__reactHandles$"+zi;function ei(t){var n=t[Vn];if(n)return n;for(var o=t.parentNode;o;){if(n=o[ir]||o[Vn]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(t=Hf(t);t!==null;){if(o=t[Vn])return o;t=Hf(t)}return n}t=o,o=t.parentNode}return null}function Lo(t){return t=t[Vn]||t[ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Di(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(i(33))}function js(t){return t[Io]||null}var Ya=[],$i=-1;function Rr(t){return{current:t}}function ot(t){0>$i||(t.current=Ya[$i],Ya[$i]=null,$i--)}function tt(t,n){$i++,Ya[$i]=t.current,t.current=n}var Tr={},Ot=Rr(Tr),Gt=Rr(!1),ti=Tr;function ji(t,n){var o=t.type.contextTypes;if(!o)return Tr;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===n)return c.__reactInternalMemoizedMaskedChildContext;var y={},x;for(x in o)y[x]=n[x];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=y),y}function qt(t){return t=t.childContextTypes,t!=null}function Bs(){ot(Gt),ot(Ot)}function Uf(t,n,o){if(Ot.current!==Tr)throw Error(i(168));tt(Ot,n),tt(Gt,o)}function Vf(t,n,o){var c=t.stateNode;if(n=n.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var y in c)if(!(y in n))throw Error(i(108,ae(t)||"Unknown",y));return H({},o,c)}function Fs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tr,ti=Ot.current,tt(Ot,t),tt(Gt,Gt.current),!0}function Wf(t,n,o){var c=t.stateNode;if(!c)throw Error(i(169));o?(t=Vf(t,n,ti),c.__reactInternalMemoizedMergedChildContext=t,ot(Gt),ot(Ot),tt(Ot,t)):ot(Gt),tt(Gt,o)}var or=null,Hs=!1,Xa=!1;function Gf(t){or===null?or=[t]:or.push(t)}function ax(t){Hs=!0,Gf(t)}function Mr(){if(!Xa&&or!==null){Xa=!0;var t=0,n=Ge;try{var o=or;for(Ge=1;t<o.length;t++){var c=o[t];do c=c(!0);while(c!==null)}or=null,Hs=!1}catch(y){throw or!==null&&(or=or.slice(t+1)),Ci(Kr,Mr),y}finally{Ge=n,Xa=!1}}return null}var Bi=[],Fi=0,Us=null,Vs=0,fn=[],hn=0,ni=null,sr=1,lr="";function ri(t,n){Bi[Fi++]=Vs,Bi[Fi++]=Us,Us=t,Vs=n}function qf(t,n,o){fn[hn++]=sr,fn[hn++]=lr,fn[hn++]=ni,ni=t;var c=sr;t=lr;var y=32-rt(c)-1;c&=~(1<<y),o+=1;var x=32-rt(n)+y;if(30<x){var N=y-y%5;x=(c&(1<<N)-1).toString(32),c>>=N,y-=N,sr=1<<32-rt(n)+y|o<<y|c,lr=x+t}else sr=1<<x|o<<y|c,lr=t}function Ka(t){t.return!==null&&(ri(t,1),qf(t,1,0))}function Qa(t){for(;t===Us;)Us=Bi[--Fi],Bi[Fi]=null,Vs=Bi[--Fi],Bi[Fi]=null;for(;t===ni;)ni=fn[--hn],fn[hn]=null,lr=fn[--hn],fn[hn]=null,sr=fn[--hn],fn[hn]=null}var rn=null,on=null,st=!1,kn=null;function Yf(t,n){var o=yn(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=t,n=t.deletions,n===null?(t.deletions=[o],t.flags|=16):n.push(o)}function Xf(t,n){switch(t.tag){case 5:var o=t.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,rn=t,on=Cr(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,rn=t,on=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=ni!==null?{id:sr,overflow:lr}:null,t.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=yn(18,null,null,0),o.stateNode=n,o.return=t,t.child=o,rn=t,on=null,!0):!1;default:return!1}}function Za(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ja(t){if(st){var n=on;if(n){var o=n;if(!Xf(t,n)){if(Za(t))throw Error(i(418));n=Cr(o.nextSibling);var c=rn;n&&Xf(t,n)?Yf(c,o):(t.flags=t.flags&-4097|2,st=!1,rn=t)}}else{if(Za(t))throw Error(i(418));t.flags=t.flags&-4097|2,st=!1,rn=t}}}function Kf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function Ws(t){if(t!==rn)return!1;if(!st)return Kf(t),st=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!Va(t.type,t.memoizedProps)),n&&(n=on)){if(Za(t))throw Qf(),Error(i(418));for(;n;)Yf(t,n),n=Cr(n.nextSibling)}if(Kf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(n===0){on=Cr(t.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}t=t.nextSibling}on=null}}else on=rn?Cr(t.stateNode.nextSibling):null;return!0}function Qf(){for(var t=on;t;)t=Cr(t.nextSibling)}function Hi(){on=rn=null,st=!1}function eu(t){kn===null?kn=[t]:kn.push(t)}var ux=C.ReactCurrentBatchConfig;function Oo(t,n,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(i(309));var c=o.stateNode}if(!c)throw Error(i(147,t));var y=c,x=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===x?n.ref:(n=function(N){var B=y.refs;N===null?delete B[x]:B[x]=N},n._stringRef=x,n)}if(typeof t!="string")throw Error(i(284));if(!o._owner)throw Error(i(290,t))}return t}function Gs(t,n){throw t=Object.prototype.toString.call(n),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function Zf(t){var n=t._init;return n(t._payload)}function Jf(t){function n(te,K){if(t){var ne=te.deletions;ne===null?(te.deletions=[K],te.flags|=16):ne.push(K)}}function o(te,K){if(!t)return null;for(;K!==null;)n(te,K),K=K.sibling;return null}function c(te,K){for(te=new Map;K!==null;)K.key!==null?te.set(K.key,K):te.set(K.index,K),K=K.sibling;return te}function y(te,K){return te=$r(te,K),te.index=0,te.sibling=null,te}function x(te,K,ne){return te.index=ne,t?(ne=te.alternate,ne!==null?(ne=ne.index,ne<K?(te.flags|=2,K):ne):(te.flags|=2,K)):(te.flags|=1048576,K)}function N(te){return t&&te.alternate===null&&(te.flags|=2),te}function B(te,K,ne,he){return K===null||K.tag!==6?(K=Wu(ne,te.mode,he),K.return=te,K):(K=y(K,ne),K.return=te,K)}function Y(te,K,ne,he){var Ne=ne.type;return Ne===D?ce(te,K,ne.props.children,he,ne.key):K!==null&&(K.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===F&&Zf(Ne)===K.type)?(he=y(K,ne.props),he.ref=Oo(te,K,ne),he.return=te,he):(he=ml(ne.type,ne.key,ne.props,null,te.mode,he),he.ref=Oo(te,K,ne),he.return=te,he)}function ie(te,K,ne,he){return K===null||K.tag!==4||K.stateNode.containerInfo!==ne.containerInfo||K.stateNode.implementation!==ne.implementation?(K=Gu(ne,te.mode,he),K.return=te,K):(K=y(K,ne.children||[]),K.return=te,K)}function ce(te,K,ne,he,Ne){return K===null||K.tag!==7?(K=di(ne,te.mode,he,Ne),K.return=te,K):(K=y(K,ne),K.return=te,K)}function de(te,K,ne){if(typeof K=="string"&&K!==""||typeof K=="number")return K=Wu(""+K,te.mode,ne),K.return=te,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case A:return ne=ml(K.type,K.key,K.props,null,te.mode,ne),ne.ref=Oo(te,null,K),ne.return=te,ne;case T:return K=Gu(K,te.mode,ne),K.return=te,K;case F:var he=K._init;return de(te,he(K._payload),ne)}if(It(K)||$(K))return K=di(K,te.mode,ne,null),K.return=te,K;Gs(te,K)}return null}function ue(te,K,ne,he){var Ne=K!==null?K.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Ne!==null?null:B(te,K,""+ne,he);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:return ne.key===Ne?Y(te,K,ne,he):null;case T:return ne.key===Ne?ie(te,K,ne,he):null;case F:return Ne=ne._init,ue(te,K,Ne(ne._payload),he)}if(It(ne)||$(ne))return Ne!==null?null:ce(te,K,ne,he,null);Gs(te,ne)}return null}function xe(te,K,ne,he,Ne){if(typeof he=="string"&&he!==""||typeof he=="number")return te=te.get(ne)||null,B(K,te,""+he,Ne);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case A:return te=te.get(he.key===null?ne:he.key)||null,Y(K,te,he,Ne);case T:return te=te.get(he.key===null?ne:he.key)||null,ie(K,te,he,Ne);case F:var Ae=he._init;return xe(te,K,ne,Ae(he._payload),Ne)}if(It(he)||$(he))return te=te.get(ne)||null,ce(K,te,he,Ne,null);Gs(K,he)}return null}function ke(te,K,ne,he){for(var Ne=null,Ae=null,Ie=K,ze=K=0,Ct=null;Ie!==null&&ze<ne.length;ze++){Ie.index>ze?(Ct=Ie,Ie=null):Ct=Ie.sibling;var Ye=ue(te,Ie,ne[ze],he);if(Ye===null){Ie===null&&(Ie=Ct);break}t&&Ie&&Ye.alternate===null&&n(te,Ie),K=x(Ye,K,ze),Ae===null?Ne=Ye:Ae.sibling=Ye,Ae=Ye,Ie=Ct}if(ze===ne.length)return o(te,Ie),st&&ri(te,ze),Ne;if(Ie===null){for(;ze<ne.length;ze++)Ie=de(te,ne[ze],he),Ie!==null&&(K=x(Ie,K,ze),Ae===null?Ne=Ie:Ae.sibling=Ie,Ae=Ie);return st&&ri(te,ze),Ne}for(Ie=c(te,Ie);ze<ne.length;ze++)Ct=xe(Ie,te,ze,ne[ze],he),Ct!==null&&(t&&Ct.alternate!==null&&Ie.delete(Ct.key===null?ze:Ct.key),K=x(Ct,K,ze),Ae===null?Ne=Ct:Ae.sibling=Ct,Ae=Ct);return t&&Ie.forEach(function(jr){return n(te,jr)}),st&&ri(te,ze),Ne}function Se(te,K,ne,he){var Ne=$(ne);if(typeof Ne!="function")throw Error(i(150));if(ne=Ne.call(ne),ne==null)throw Error(i(151));for(var Ae=Ne=null,Ie=K,ze=K=0,Ct=null,Ye=ne.next();Ie!==null&&!Ye.done;ze++,Ye=ne.next()){Ie.index>ze?(Ct=Ie,Ie=null):Ct=Ie.sibling;var jr=ue(te,Ie,Ye.value,he);if(jr===null){Ie===null&&(Ie=Ct);break}t&&Ie&&jr.alternate===null&&n(te,Ie),K=x(jr,K,ze),Ae===null?Ne=jr:Ae.sibling=jr,Ae=jr,Ie=Ct}if(Ye.done)return o(te,Ie),st&&ri(te,ze),Ne;if(Ie===null){for(;!Ye.done;ze++,Ye=ne.next())Ye=de(te,Ye.value,he),Ye!==null&&(K=x(Ye,K,ze),Ae===null?Ne=Ye:Ae.sibling=Ye,Ae=Ye);return st&&ri(te,ze),Ne}for(Ie=c(te,Ie);!Ye.done;ze++,Ye=ne.next())Ye=xe(Ie,te,ze,Ye.value,he),Ye!==null&&(t&&Ye.alternate!==null&&Ie.delete(Ye.key===null?ze:Ye.key),K=x(Ye,K,ze),Ae===null?Ne=Ye:Ae.sibling=Ye,Ae=Ye);return t&&Ie.forEach(function(Hx){return n(te,Hx)}),st&&ri(te,ze),Ne}function vt(te,K,ne,he){if(typeof ne=="object"&&ne!==null&&ne.type===D&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:e:{for(var Ne=ne.key,Ae=K;Ae!==null;){if(Ae.key===Ne){if(Ne=ne.type,Ne===D){if(Ae.tag===7){o(te,Ae.sibling),K=y(Ae,ne.props.children),K.return=te,te=K;break e}}else if(Ae.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===F&&Zf(Ne)===Ae.type){o(te,Ae.sibling),K=y(Ae,ne.props),K.ref=Oo(te,Ae,ne),K.return=te,te=K;break e}o(te,Ae);break}else n(te,Ae);Ae=Ae.sibling}ne.type===D?(K=di(ne.props.children,te.mode,he,ne.key),K.return=te,te=K):(he=ml(ne.type,ne.key,ne.props,null,te.mode,he),he.ref=Oo(te,K,ne),he.return=te,te=he)}return N(te);case T:e:{for(Ae=ne.key;K!==null;){if(K.key===Ae)if(K.tag===4&&K.stateNode.containerInfo===ne.containerInfo&&K.stateNode.implementation===ne.implementation){o(te,K.sibling),K=y(K,ne.children||[]),K.return=te,te=K;break e}else{o(te,K);break}else n(te,K);K=K.sibling}K=Gu(ne,te.mode,he),K.return=te,te=K}return N(te);case F:return Ae=ne._init,vt(te,K,Ae(ne._payload),he)}if(It(ne))return ke(te,K,ne,he);if($(ne))return Se(te,K,ne,he);Gs(te,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,K!==null&&K.tag===6?(o(te,K.sibling),K=y(K,ne),K.return=te,te=K):(o(te,K),K=Wu(ne,te.mode,he),K.return=te,te=K),N(te)):o(te,K)}return vt}var Ui=Jf(!0),eh=Jf(!1),qs=Rr(null),Ys=null,Vi=null,tu=null;function nu(){tu=Vi=Ys=null}function ru(t){var n=qs.current;ot(qs),t._currentValue=n}function iu(t,n,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),t===o)break;t=t.return}}function Wi(t,n){Ys=t,tu=Vi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(Yt=!0),t.firstContext=null)}function pn(t){var n=t._currentValue;if(tu!==t)if(t={context:t,memoizedValue:n,next:null},Vi===null){if(Ys===null)throw Error(i(308));Vi=t,Ys.dependencies={lanes:0,firstContext:t}}else Vi=Vi.next=t;return n}var ii=null;function ou(t){ii===null?ii=[t]:ii.push(t)}function th(t,n,o,c){var y=n.interleaved;return y===null?(o.next=o,ou(n)):(o.next=y.next,y.next=o),n.interleaved=o,ar(t,c)}function ar(t,n){t.lanes|=n;var o=t.alternate;for(o!==null&&(o.lanes|=n),o=t,t=t.return;t!==null;)t.childLanes|=n,o=t.alternate,o!==null&&(o.childLanes|=n),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Ar=!1;function su(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ur(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Ir(t,n,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(qe&2)!==0){var y=c.pending;return y===null?n.next=n:(n.next=y.next,y.next=n),c.pending=n,ar(t,o)}return y=c.interleaved,y===null?(n.next=n,ou(c)):(n.next=y.next,y.next=n),c.interleaved=n,ar(t,o)}function Xs(t,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var c=n.lanes;c&=t.pendingLanes,o|=c,n.lanes=o,yo(t,o)}}function rh(t,n){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var y=null,x=null;if(o=o.firstBaseUpdate,o!==null){do{var N={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};x===null?y=x=N:x=x.next=N,o=o.next}while(o!==null);x===null?y=x=n:x=x.next=n}else y=x=n;o={baseState:c.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:c.shared,effects:c.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=n:t.next=n,o.lastBaseUpdate=n}function Ks(t,n,o,c){var y=t.updateQueue;Ar=!1;var x=y.firstBaseUpdate,N=y.lastBaseUpdate,B=y.shared.pending;if(B!==null){y.shared.pending=null;var Y=B,ie=Y.next;Y.next=null,N===null?x=ie:N.next=ie,N=Y;var ce=t.alternate;ce!==null&&(ce=ce.updateQueue,B=ce.lastBaseUpdate,B!==N&&(B===null?ce.firstBaseUpdate=ie:B.next=ie,ce.lastBaseUpdate=Y))}if(x!==null){var de=y.baseState;N=0,ce=ie=Y=null,B=x;do{var ue=B.lane,xe=B.eventTime;if((c&ue)===ue){ce!==null&&(ce=ce.next={eventTime:xe,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var ke=t,Se=B;switch(ue=n,xe=o,Se.tag){case 1:if(ke=Se.payload,typeof ke=="function"){de=ke.call(xe,de,ue);break e}de=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Se.payload,ue=typeof ke=="function"?ke.call(xe,de,ue):ke,ue==null)break e;de=H({},de,ue);break e;case 2:Ar=!0}}B.callback!==null&&B.lane!==0&&(t.flags|=64,ue=y.effects,ue===null?y.effects=[B]:ue.push(B))}else xe={eventTime:xe,lane:ue,tag:B.tag,payload:B.payload,callback:B.callback,next:null},ce===null?(ie=ce=xe,Y=de):ce=ce.next=xe,N|=ue;if(B=B.next,B===null){if(B=y.shared.pending,B===null)break;ue=B,B=ue.next,ue.next=null,y.lastBaseUpdate=ue,y.shared.pending=null}}while(!0);if(ce===null&&(Y=de),y.baseState=Y,y.firstBaseUpdate=ie,y.lastBaseUpdate=ce,n=y.shared.interleaved,n!==null){y=n;do N|=y.lane,y=y.next;while(y!==n)}else x===null&&(y.shared.lanes=0);li|=N,t.lanes=N,t.memoizedState=de}}function ih(t,n,o){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var c=t[n],y=c.callback;if(y!==null){if(c.callback=null,c=o,typeof y!="function")throw Error(i(191,y));y.call(c)}}}var Po={},Wn=Rr(Po),zo=Rr(Po),Do=Rr(Po);function oi(t){if(t===Po)throw Error(i(174));return t}function lu(t,n){switch(tt(Do,n),tt(zo,t),tt(Wn,Po),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Wt(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=Wt(n,t)}ot(Wn),tt(Wn,n)}function Gi(){ot(Wn),ot(zo),ot(Do)}function oh(t){oi(Do.current);var n=oi(Wn.current),o=Wt(n,t.type);n!==o&&(tt(zo,t),tt(Wn,o))}function au(t){zo.current===t&&(ot(Wn),ot(zo))}var ct=Rr(0);function Qs(t){for(var n=t;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var uu=[];function cu(){for(var t=0;t<uu.length;t++)uu[t]._workInProgressVersionPrimary=null;uu.length=0}var Zs=C.ReactCurrentDispatcher,du=C.ReactCurrentBatchConfig,si=0,dt=null,_t=null,St=null,Js=!1,$o=!1,jo=0,cx=0;function Pt(){throw Error(i(321))}function fu(t,n){if(n===null)return!1;for(var o=0;o<n.length&&o<t.length;o++)if(!bn(t[o],n[o]))return!1;return!0}function hu(t,n,o,c,y,x){if(si=x,dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Zs.current=t===null||t.memoizedState===null?px:gx,t=o(c,y),$o){x=0;do{if($o=!1,jo=0,25<=x)throw Error(i(301));x+=1,St=_t=null,n.updateQueue=null,Zs.current=mx,t=o(c,y)}while($o)}if(Zs.current=nl,n=_t!==null&&_t.next!==null,si=0,St=_t=dt=null,Js=!1,n)throw Error(i(300));return t}function pu(){var t=jo!==0;return jo=0,t}function Gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?dt.memoizedState=St=t:St=St.next=t,St}function gn(){if(_t===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var n=St===null?dt.memoizedState:St.next;if(n!==null)St=n,_t=t;else{if(t===null)throw Error(i(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},St===null?dt.memoizedState=St=t:St=St.next=t}return St}function Bo(t,n){return typeof n=="function"?n(t):n}function gu(t){var n=gn(),o=n.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=t;var c=_t,y=c.baseQueue,x=o.pending;if(x!==null){if(y!==null){var N=y.next;y.next=x.next,x.next=N}c.baseQueue=y=x,o.pending=null}if(y!==null){x=y.next,c=c.baseState;var B=N=null,Y=null,ie=x;do{var ce=ie.lane;if((si&ce)===ce)Y!==null&&(Y=Y.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),c=ie.hasEagerState?ie.eagerState:t(c,ie.action);else{var de={lane:ce,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};Y===null?(B=Y=de,N=c):Y=Y.next=de,dt.lanes|=ce,li|=ce}ie=ie.next}while(ie!==null&&ie!==x);Y===null?N=c:Y.next=B,bn(c,n.memoizedState)||(Yt=!0),n.memoizedState=c,n.baseState=N,n.baseQueue=Y,o.lastRenderedState=c}if(t=o.interleaved,t!==null){y=t;do x=y.lane,dt.lanes|=x,li|=x,y=y.next;while(y!==t)}else y===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function mu(t){var n=gn(),o=n.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=t;var c=o.dispatch,y=o.pending,x=n.memoizedState;if(y!==null){o.pending=null;var N=y=y.next;do x=t(x,N.action),N=N.next;while(N!==y);bn(x,n.memoizedState)||(Yt=!0),n.memoizedState=x,n.baseQueue===null&&(n.baseState=x),o.lastRenderedState=x}return[x,c]}function sh(){}function lh(t,n){var o=dt,c=gn(),y=n(),x=!bn(c.memoizedState,y);if(x&&(c.memoizedState=y,Yt=!0),c=c.queue,yu(ch.bind(null,o,c,t),[t]),c.getSnapshot!==n||x||St!==null&&St.memoizedState.tag&1){if(o.flags|=2048,Fo(9,uh.bind(null,o,c,y,n),void 0,null),Nt===null)throw Error(i(349));(si&30)!==0||ah(o,n,y)}return y}function ah(t,n,o){t.flags|=16384,t={getSnapshot:n,value:o},n=dt.updateQueue,n===null?(n={lastEffect:null,stores:null},dt.updateQueue=n,n.stores=[t]):(o=n.stores,o===null?n.stores=[t]:o.push(t))}function uh(t,n,o,c){n.value=o,n.getSnapshot=c,dh(n)&&fh(t)}function ch(t,n,o){return o(function(){dh(n)&&fh(t)})}function dh(t){var n=t.getSnapshot;t=t.value;try{var o=n();return!bn(t,o)}catch{return!0}}function fh(t){var n=ar(t,1);n!==null&&Rn(n,t,1,-1)}function hh(t){var n=Gn();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bo,lastRenderedState:t},n.queue=t,t=t.dispatch=hx.bind(null,dt,t),[n.memoizedState,t]}function Fo(t,n,o,c){return t={tag:t,create:n,destroy:o,deps:c,next:null},n=dt.updateQueue,n===null?(n={lastEffect:null,stores:null},dt.updateQueue=n,n.lastEffect=t.next=t):(o=n.lastEffect,o===null?n.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,n.lastEffect=t)),t}function ph(){return gn().memoizedState}function el(t,n,o,c){var y=Gn();dt.flags|=t,y.memoizedState=Fo(1|n,o,void 0,c===void 0?null:c)}function tl(t,n,o,c){var y=gn();c=c===void 0?null:c;var x=void 0;if(_t!==null){var N=_t.memoizedState;if(x=N.destroy,c!==null&&fu(c,N.deps)){y.memoizedState=Fo(n,o,x,c);return}}dt.flags|=t,y.memoizedState=Fo(1|n,o,x,c)}function gh(t,n){return el(8390656,8,t,n)}function yu(t,n){return tl(2048,8,t,n)}function mh(t,n){return tl(4,2,t,n)}function yh(t,n){return tl(4,4,t,n)}function vh(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xh(t,n,o){return o=o!=null?o.concat([t]):null,tl(4,4,vh.bind(null,n,t),o)}function vu(){}function wh(t,n){var o=gn();n=n===void 0?null:n;var c=o.memoizedState;return c!==null&&n!==null&&fu(n,c[1])?c[0]:(o.memoizedState=[t,n],t)}function Eh(t,n){var o=gn();n=n===void 0?null:n;var c=o.memoizedState;return c!==null&&n!==null&&fu(n,c[1])?c[0]:(t=t(),o.memoizedState=[t,n],t)}function _h(t,n,o){return(si&21)===0?(t.baseState&&(t.baseState=!1,Yt=!0),t.memoizedState=o):(bn(o,n)||(o=br(),dt.lanes|=o,li|=o,t.baseState=!0),n)}function dx(t,n){var o=Ge;Ge=o!==0&&4>o?o:4,t(!0);var c=du.transition;du.transition={};try{t(!1),n()}finally{Ge=o,du.transition=c}}function bh(){return gn().memoizedState}function fx(t,n,o){var c=zr(t);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},kh(t))Sh(n,o);else if(o=th(t,n,o,c),o!==null){var y=Ft();Rn(o,t,c,y),Nh(o,n,c)}}function hx(t,n,o){var c=zr(t),y={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(kh(t))Sh(n,y);else{var x=t.alternate;if(t.lanes===0&&(x===null||x.lanes===0)&&(x=n.lastRenderedReducer,x!==null))try{var N=n.lastRenderedState,B=x(N,o);if(y.hasEagerState=!0,y.eagerState=B,bn(B,N)){var Y=n.interleaved;Y===null?(y.next=y,ou(n)):(y.next=Y.next,Y.next=y),n.interleaved=y;return}}catch{}finally{}o=th(t,n,y,c),o!==null&&(y=Ft(),Rn(o,t,c,y),Nh(o,n,c))}}function kh(t){var n=t.alternate;return t===dt||n!==null&&n===dt}function Sh(t,n){$o=Js=!0;var o=t.pending;o===null?n.next=n:(n.next=o.next,o.next=n),t.pending=n}function Nh(t,n,o){if((o&4194240)!==0){var c=n.lanes;c&=t.pendingLanes,o|=c,n.lanes=o,yo(t,o)}}var nl={readContext:pn,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},px={readContext:pn,useCallback:function(t,n){return Gn().memoizedState=[t,n===void 0?null:n],t},useContext:pn,useEffect:gh,useImperativeHandle:function(t,n,o){return o=o!=null?o.concat([t]):null,el(4194308,4,vh.bind(null,n,t),o)},useLayoutEffect:function(t,n){return el(4194308,4,t,n)},useInsertionEffect:function(t,n){return el(4,2,t,n)},useMemo:function(t,n){var o=Gn();return n=n===void 0?null:n,t=t(),o.memoizedState=[t,n],t},useReducer:function(t,n,o){var c=Gn();return n=o!==void 0?o(n):n,c.memoizedState=c.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},c.queue=t,t=t.dispatch=fx.bind(null,dt,t),[c.memoizedState,t]},useRef:function(t){var n=Gn();return t={current:t},n.memoizedState=t},useState:hh,useDebugValue:vu,useDeferredValue:function(t){return Gn().memoizedState=t},useTransition:function(){var t=hh(!1),n=t[0];return t=dx.bind(null,t[1]),Gn().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,o){var c=dt,y=Gn();if(st){if(o===void 0)throw Error(i(407));o=o()}else{if(o=n(),Nt===null)throw Error(i(349));(si&30)!==0||ah(c,n,o)}y.memoizedState=o;var x={value:o,getSnapshot:n};return y.queue=x,gh(ch.bind(null,c,x,t),[t]),c.flags|=2048,Fo(9,uh.bind(null,c,x,o,n),void 0,null),o},useId:function(){var t=Gn(),n=Nt.identifierPrefix;if(st){var o=lr,c=sr;o=(c&~(1<<32-rt(c)-1)).toString(32)+o,n=":"+n+"R"+o,o=jo++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=cx++,n=":"+n+"r"+o.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},gx={readContext:pn,useCallback:wh,useContext:pn,useEffect:yu,useImperativeHandle:xh,useInsertionEffect:mh,useLayoutEffect:yh,useMemo:Eh,useReducer:gu,useRef:ph,useState:function(){return gu(Bo)},useDebugValue:vu,useDeferredValue:function(t){var n=gn();return _h(n,_t.memoizedState,t)},useTransition:function(){var t=gu(Bo)[0],n=gn().memoizedState;return[t,n]},useMutableSource:sh,useSyncExternalStore:lh,useId:bh,unstable_isNewReconciler:!1},mx={readContext:pn,useCallback:wh,useContext:pn,useEffect:yu,useImperativeHandle:xh,useInsertionEffect:mh,useLayoutEffect:yh,useMemo:Eh,useReducer:mu,useRef:ph,useState:function(){return mu(Bo)},useDebugValue:vu,useDeferredValue:function(t){var n=gn();return _t===null?n.memoizedState=t:_h(n,_t.memoizedState,t)},useTransition:function(){var t=mu(Bo)[0],n=gn().memoizedState;return[t,n]},useMutableSource:sh,useSyncExternalStore:lh,useId:bh,unstable_isNewReconciler:!1};function Sn(t,n){if(t&&t.defaultProps){n=H({},n),t=t.defaultProps;for(var o in t)n[o]===void 0&&(n[o]=t[o]);return n}return n}function xu(t,n,o,c){n=t.memoizedState,o=o(c,n),o=o==null?n:H({},n,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var rl={isMounted:function(t){return(t=t._reactInternals)?cn(t)===t:!1},enqueueSetState:function(t,n,o){t=t._reactInternals;var c=Ft(),y=zr(t),x=ur(c,y);x.payload=n,o!=null&&(x.callback=o),n=Ir(t,x,y),n!==null&&(Rn(n,t,y,c),Xs(n,t,y))},enqueueReplaceState:function(t,n,o){t=t._reactInternals;var c=Ft(),y=zr(t),x=ur(c,y);x.tag=1,x.payload=n,o!=null&&(x.callback=o),n=Ir(t,x,y),n!==null&&(Rn(n,t,y,c),Xs(n,t,y))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var o=Ft(),c=zr(t),y=ur(o,c);y.tag=2,n!=null&&(y.callback=n),n=Ir(t,y,c),n!==null&&(Rn(n,t,c,o),Xs(n,t,c))}};function Ch(t,n,o,c,y,x,N){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,x,N):n.prototype&&n.prototype.isPureReactComponent?!Co(o,c)||!Co(y,x):!0}function Rh(t,n,o){var c=!1,y=Tr,x=n.contextType;return typeof x=="object"&&x!==null?x=pn(x):(y=qt(n)?ti:Ot.current,c=n.contextTypes,x=(c=c!=null)?ji(t,y):Tr),n=new n(o,x),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=rl,t.stateNode=n,n._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=y,t.__reactInternalMemoizedMaskedChildContext=x),n}function Th(t,n,o,c){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,c),n.state!==t&&rl.enqueueReplaceState(n,n.state,null)}function wu(t,n,o,c){var y=t.stateNode;y.props=o,y.state=t.memoizedState,y.refs={},su(t);var x=n.contextType;typeof x=="object"&&x!==null?y.context=pn(x):(x=qt(n)?ti:Ot.current,y.context=ji(t,x)),y.state=t.memoizedState,x=n.getDerivedStateFromProps,typeof x=="function"&&(xu(t,n,x,o),y.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(n=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),n!==y.state&&rl.enqueueReplaceState(y,y.state,null),Ks(t,o,y,c),y.state=t.memoizedState),typeof y.componentDidMount=="function"&&(t.flags|=4194308)}function qi(t,n){try{var o="",c=n;do o+=Q(c),c=c.return;while(c);var y=o}catch(x){y=`
Error generating stack: `+x.message+`
`+x.stack}return{value:t,source:n,stack:y,digest:null}}function Eu(t,n,o){return{value:t,source:null,stack:o??null,digest:n??null}}function _u(t,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var yx=typeof WeakMap=="function"?WeakMap:Map;function Mh(t,n,o){o=ur(-1,o),o.tag=3,o.payload={element:null};var c=n.value;return o.callback=function(){cl||(cl=!0,Du=c),_u(t,n)},o}function Ah(t,n,o){o=ur(-1,o),o.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var y=n.value;o.payload=function(){return c(y)},o.callback=function(){_u(t,n)}}var x=t.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(o.callback=function(){_u(t,n),typeof c!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var N=n.stack;this.componentDidCatch(n.value,{componentStack:N!==null?N:""})}),o}function Ih(t,n,o){var c=t.pingCache;if(c===null){c=t.pingCache=new yx;var y=new Set;c.set(n,y)}else y=c.get(n),y===void 0&&(y=new Set,c.set(n,y));y.has(o)||(y.add(o),t=Ax.bind(null,t,n,o),n.then(t,t))}function Lh(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function Oh(t,n,o,c,y){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=ur(-1,1),n.tag=2,Ir(o,n,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=y,t)}var vx=C.ReactCurrentOwner,Yt=!1;function Bt(t,n,o,c){n.child=t===null?eh(n,null,o,c):Ui(n,t.child,o,c)}function Ph(t,n,o,c,y){o=o.render;var x=n.ref;return Wi(n,y),c=hu(t,n,o,c,x,y),o=pu(),t!==null&&!Yt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~y,cr(t,n,y)):(st&&o&&Ka(n),n.flags|=1,Bt(t,n,c,y),n.child)}function zh(t,n,o,c,y){if(t===null){var x=o.type;return typeof x=="function"&&!Vu(x)&&x.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=x,Dh(t,n,x,c,y)):(t=ml(o.type,null,c,n,n.mode,y),t.ref=n.ref,t.return=n,n.child=t)}if(x=t.child,(t.lanes&y)===0){var N=x.memoizedProps;if(o=o.compare,o=o!==null?o:Co,o(N,c)&&t.ref===n.ref)return cr(t,n,y)}return n.flags|=1,t=$r(x,c),t.ref=n.ref,t.return=n,n.child=t}function Dh(t,n,o,c,y){if(t!==null){var x=t.memoizedProps;if(Co(x,c)&&t.ref===n.ref)if(Yt=!1,n.pendingProps=c=x,(t.lanes&y)!==0)(t.flags&131072)!==0&&(Yt=!0);else return n.lanes=t.lanes,cr(t,n,y)}return bu(t,n,o,c,y)}function $h(t,n,o){var c=n.pendingProps,y=c.children,x=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Xi,sn),sn|=o;else{if((o&1073741824)===0)return t=x!==null?x.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,tt(Xi,sn),sn|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=x!==null?x.baseLanes:o,tt(Xi,sn),sn|=c}else x!==null?(c=x.baseLanes|o,n.memoizedState=null):c=o,tt(Xi,sn),sn|=c;return Bt(t,n,y,o),n.child}function jh(t,n){var o=n.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function bu(t,n,o,c,y){var x=qt(o)?ti:Ot.current;return x=ji(n,x),Wi(n,y),o=hu(t,n,o,c,x,y),c=pu(),t!==null&&!Yt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~y,cr(t,n,y)):(st&&c&&Ka(n),n.flags|=1,Bt(t,n,o,y),n.child)}function Bh(t,n,o,c,y){if(qt(o)){var x=!0;Fs(n)}else x=!1;if(Wi(n,y),n.stateNode===null)ol(t,n),Rh(n,o,c),wu(n,o,c,y),c=!0;else if(t===null){var N=n.stateNode,B=n.memoizedProps;N.props=B;var Y=N.context,ie=o.contextType;typeof ie=="object"&&ie!==null?ie=pn(ie):(ie=qt(o)?ti:Ot.current,ie=ji(n,ie));var ce=o.getDerivedStateFromProps,de=typeof ce=="function"||typeof N.getSnapshotBeforeUpdate=="function";de||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(B!==c||Y!==ie)&&Th(n,N,c,ie),Ar=!1;var ue=n.memoizedState;N.state=ue,Ks(n,c,N,y),Y=n.memoizedState,B!==c||ue!==Y||Gt.current||Ar?(typeof ce=="function"&&(xu(n,o,ce,c),Y=n.memoizedState),(B=Ar||Ch(n,o,B,c,ue,Y,ie))?(de||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(n.flags|=4194308)):(typeof N.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=Y),N.props=c,N.state=Y,N.context=ie,c=B):(typeof N.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{N=n.stateNode,nh(t,n),B=n.memoizedProps,ie=n.type===n.elementType?B:Sn(n.type,B),N.props=ie,de=n.pendingProps,ue=N.context,Y=o.contextType,typeof Y=="object"&&Y!==null?Y=pn(Y):(Y=qt(o)?ti:Ot.current,Y=ji(n,Y));var xe=o.getDerivedStateFromProps;(ce=typeof xe=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(B!==de||ue!==Y)&&Th(n,N,c,Y),Ar=!1,ue=n.memoizedState,N.state=ue,Ks(n,c,N,y);var ke=n.memoizedState;B!==de||ue!==ke||Gt.current||Ar?(typeof xe=="function"&&(xu(n,o,xe,c),ke=n.memoizedState),(ie=Ar||Ch(n,o,ie,c,ue,ke,Y)||!1)?(ce||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(c,ke,Y),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(c,ke,Y)),typeof N.componentDidUpdate=="function"&&(n.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof N.componentDidUpdate!="function"||B===t.memoizedProps&&ue===t.memoizedState||(n.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||B===t.memoizedProps&&ue===t.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=ke),N.props=c,N.state=ke,N.context=Y,c=ie):(typeof N.componentDidUpdate!="function"||B===t.memoizedProps&&ue===t.memoizedState||(n.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||B===t.memoizedProps&&ue===t.memoizedState||(n.flags|=1024),c=!1)}return ku(t,n,o,c,x,y)}function ku(t,n,o,c,y,x){jh(t,n);var N=(n.flags&128)!==0;if(!c&&!N)return y&&Wf(n,o,!1),cr(t,n,x);c=n.stateNode,vx.current=n;var B=N&&typeof o.getDerivedStateFromError!="function"?null:c.render();return n.flags|=1,t!==null&&N?(n.child=Ui(n,t.child,null,x),n.child=Ui(n,null,B,x)):Bt(t,n,B,x),n.memoizedState=c.state,y&&Wf(n,o,!0),n.child}function Fh(t){var n=t.stateNode;n.pendingContext?Uf(t,n.pendingContext,n.pendingContext!==n.context):n.context&&Uf(t,n.context,!1),lu(t,n.containerInfo)}function Hh(t,n,o,c,y){return Hi(),eu(y),n.flags|=256,Bt(t,n,o,c),n.child}var Su={dehydrated:null,treeContext:null,retryLane:0};function Nu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Uh(t,n,o){var c=n.pendingProps,y=ct.current,x=!1,N=(n.flags&128)!==0,B;if((B=N)||(B=t!==null&&t.memoizedState===null?!1:(y&2)!==0),B?(x=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(y|=1),tt(ct,y&1),t===null)return Ja(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(N=c.children,t=c.fallback,x?(c=n.mode,x=n.child,N={mode:"hidden",children:N},(c&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=N):x=yl(N,c,0,null),t=di(t,c,o,null),x.return=n,t.return=n,x.sibling=t,n.child=x,n.child.memoizedState=Nu(o),n.memoizedState=Su,t):Cu(n,N));if(y=t.memoizedState,y!==null&&(B=y.dehydrated,B!==null))return xx(t,n,N,c,B,y,o);if(x){x=c.fallback,N=n.mode,y=t.child,B=y.sibling;var Y={mode:"hidden",children:c.children};return(N&1)===0&&n.child!==y?(c=n.child,c.childLanes=0,c.pendingProps=Y,n.deletions=null):(c=$r(y,Y),c.subtreeFlags=y.subtreeFlags&14680064),B!==null?x=$r(B,x):(x=di(x,N,o,null),x.flags|=2),x.return=n,c.return=n,c.sibling=x,n.child=c,c=x,x=n.child,N=t.child.memoizedState,N=N===null?Nu(o):{baseLanes:N.baseLanes|o,cachePool:null,transitions:N.transitions},x.memoizedState=N,x.childLanes=t.childLanes&~o,n.memoizedState=Su,c}return x=t.child,t=x.sibling,c=$r(x,{mode:"visible",children:c.children}),(n.mode&1)===0&&(c.lanes=o),c.return=n,c.sibling=null,t!==null&&(o=n.deletions,o===null?(n.deletions=[t],n.flags|=16):o.push(t)),n.child=c,n.memoizedState=null,c}function Cu(t,n){return n=yl({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function il(t,n,o,c){return c!==null&&eu(c),Ui(n,t.child,null,o),t=Cu(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function xx(t,n,o,c,y,x,N){if(o)return n.flags&256?(n.flags&=-257,c=Eu(Error(i(422))),il(t,n,N,c)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(x=c.fallback,y=n.mode,c=yl({mode:"visible",children:c.children},y,0,null),x=di(x,y,N,null),x.flags|=2,c.return=n,x.return=n,c.sibling=x,n.child=c,(n.mode&1)!==0&&Ui(n,t.child,null,N),n.child.memoizedState=Nu(N),n.memoizedState=Su,x);if((n.mode&1)===0)return il(t,n,N,null);if(y.data==="$!"){if(c=y.nextSibling&&y.nextSibling.dataset,c)var B=c.dgst;return c=B,x=Error(i(419)),c=Eu(x,c,void 0),il(t,n,N,c)}if(B=(N&t.childLanes)!==0,Yt||B){if(c=Nt,c!==null){switch(N&-N){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(c.suspendedLanes|N))!==0?0:y,y!==0&&y!==x.retryLane&&(x.retryLane=y,ar(t,y),Rn(c,t,y,-1))}return Uu(),c=Eu(Error(i(421))),il(t,n,N,c)}return y.data==="$?"?(n.flags|=128,n.child=t.child,n=Ix.bind(null,t),y._reactRetry=n,null):(t=x.treeContext,on=Cr(y.nextSibling),rn=n,st=!0,kn=null,t!==null&&(fn[hn++]=sr,fn[hn++]=lr,fn[hn++]=ni,sr=t.id,lr=t.overflow,ni=n),n=Cu(n,c.children),n.flags|=4096,n)}function Vh(t,n,o){t.lanes|=n;var c=t.alternate;c!==null&&(c.lanes|=n),iu(t.return,n,o)}function Ru(t,n,o,c,y){var x=t.memoizedState;x===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:y}:(x.isBackwards=n,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=o,x.tailMode=y)}function Wh(t,n,o){var c=n.pendingProps,y=c.revealOrder,x=c.tail;if(Bt(t,n,c.children,o),c=ct.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vh(t,o,n);else if(t.tag===19)Vh(t,o,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(tt(ct,c),(n.mode&1)===0)n.memoizedState=null;else switch(y){case"forwards":for(o=n.child,y=null;o!==null;)t=o.alternate,t!==null&&Qs(t)===null&&(y=o),o=o.sibling;o=y,o===null?(y=n.child,n.child=null):(y=o.sibling,o.sibling=null),Ru(n,!1,y,o,x);break;case"backwards":for(o=null,y=n.child,n.child=null;y!==null;){if(t=y.alternate,t!==null&&Qs(t)===null){n.child=y;break}t=y.sibling,y.sibling=o,o=y,y=t}Ru(n,!0,o,null,x);break;case"together":Ru(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ol(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function cr(t,n,o){if(t!==null&&(n.dependencies=t.dependencies),li|=n.lanes,(o&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(i(153));if(n.child!==null){for(t=n.child,o=$r(t,t.pendingProps),n.child=o,o.return=n;t.sibling!==null;)t=t.sibling,o=o.sibling=$r(t,t.pendingProps),o.return=n;o.sibling=null}return n.child}function wx(t,n,o){switch(n.tag){case 3:Fh(n),Hi();break;case 5:oh(n);break;case 1:qt(n.type)&&Fs(n);break;case 4:lu(n,n.stateNode.containerInfo);break;case 10:var c=n.type._context,y=n.memoizedProps.value;tt(qs,c._currentValue),c._currentValue=y;break;case 13:if(c=n.memoizedState,c!==null)return c.dehydrated!==null?(tt(ct,ct.current&1),n.flags|=128,null):(o&n.child.childLanes)!==0?Uh(t,n,o):(tt(ct,ct.current&1),t=cr(t,n,o),t!==null?t.sibling:null);tt(ct,ct.current&1);break;case 19:if(c=(o&n.childLanes)!==0,(t.flags&128)!==0){if(c)return Wh(t,n,o);n.flags|=128}if(y=n.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),tt(ct,ct.current),c)break;return null;case 22:case 23:return n.lanes=0,$h(t,n,o)}return cr(t,n,o)}var Gh,Tu,qh,Yh;Gh=function(t,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Tu=function(){},qh=function(t,n,o,c){var y=t.memoizedProps;if(y!==c){t=n.stateNode,oi(Wn.current);var x=null;switch(o){case"input":y=Le(t,y),c=Le(t,c),x=[];break;case"select":y=H({},y,{value:void 0}),c=H({},c,{value:void 0}),x=[];break;case"textarea":y=vn(t,y),c=vn(t,c),x=[];break;default:typeof y.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=$s)}Wr(o,c);var N;o=null;for(ie in y)if(!c.hasOwnProperty(ie)&&y.hasOwnProperty(ie)&&y[ie]!=null)if(ie==="style"){var B=y[ie];for(N in B)B.hasOwnProperty(N)&&(o||(o={}),o[N]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(s.hasOwnProperty(ie)?x||(x=[]):(x=x||[]).push(ie,null));for(ie in c){var Y=c[ie];if(B=y!=null?y[ie]:void 0,c.hasOwnProperty(ie)&&Y!==B&&(Y!=null||B!=null))if(ie==="style")if(B){for(N in B)!B.hasOwnProperty(N)||Y&&Y.hasOwnProperty(N)||(o||(o={}),o[N]="");for(N in Y)Y.hasOwnProperty(N)&&B[N]!==Y[N]&&(o||(o={}),o[N]=Y[N])}else o||(x||(x=[]),x.push(ie,o)),o=Y;else ie==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,B=B?B.__html:void 0,Y!=null&&B!==Y&&(x=x||[]).push(ie,Y)):ie==="children"?typeof Y!="string"&&typeof Y!="number"||(x=x||[]).push(ie,""+Y):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(s.hasOwnProperty(ie)?(Y!=null&&ie==="onScroll"&&it("scroll",t),x||B===Y||(x=[])):(x=x||[]).push(ie,Y))}o&&(x=x||[]).push("style",o);var ie=x;(n.updateQueue=ie)&&(n.flags|=4)}},Yh=function(t,n,o,c){o!==c&&(n.flags|=4)};function Ho(t,n){if(!st)switch(t.tailMode){case"hidden":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function zt(t){var n=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(n)for(var y=t.child;y!==null;)o|=y.lanes|y.childLanes,c|=y.subtreeFlags&14680064,c|=y.flags&14680064,y.return=t,y=y.sibling;else for(y=t.child;y!==null;)o|=y.lanes|y.childLanes,c|=y.subtreeFlags,c|=y.flags,y.return=t,y=y.sibling;return t.subtreeFlags|=c,t.childLanes=o,n}function Ex(t,n,o){var c=n.pendingProps;switch(Qa(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(n),null;case 1:return qt(n.type)&&Bs(),zt(n),null;case 3:return c=n.stateNode,Gi(),ot(Gt),ot(Ot),cu(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(Ws(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,kn!==null&&(Bu(kn),kn=null))),Tu(t,n),zt(n),null;case 5:au(n);var y=oi(Do.current);if(o=n.type,t!==null&&n.stateNode!=null)qh(t,n,o,c,y),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!c){if(n.stateNode===null)throw Error(i(166));return zt(n),null}if(t=oi(Wn.current),Ws(n)){c=n.stateNode,o=n.type;var x=n.memoizedProps;switch(c[Vn]=n,c[Io]=x,t=(n.mode&1)!==0,o){case"dialog":it("cancel",c),it("close",c);break;case"iframe":case"object":case"embed":it("load",c);break;case"video":case"audio":for(y=0;y<To.length;y++)it(To[y],c);break;case"source":it("error",c);break;case"img":case"image":case"link":it("error",c),it("load",c);break;case"details":it("toggle",c);break;case"input":We(c,x),it("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!x.multiple},it("invalid",c);break;case"textarea":xn(c,x),it("invalid",c)}Wr(o,x),y=null;for(var N in x)if(x.hasOwnProperty(N)){var B=x[N];N==="children"?typeof B=="string"?c.textContent!==B&&(x.suppressHydrationWarning!==!0&&Ds(c.textContent,B,t),y=["children",B]):typeof B=="number"&&c.textContent!==""+B&&(x.suppressHydrationWarning!==!0&&Ds(c.textContent,B,t),y=["children",""+B]):s.hasOwnProperty(N)&&B!=null&&N==="onScroll"&&it("scroll",c)}switch(o){case"input":Te(c),Jt(c,x,!0);break;case"textarea":Te(c),Dn(c);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(c.onclick=$s)}c=y,n.updateQueue=c,c!==null&&(n.flags|=4)}else{N=y.nodeType===9?y:y.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Lt(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=N.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=N.createElement(o,{is:c.is}):(t=N.createElement(o),o==="select"&&(N=t,c.multiple?N.multiple=!0:c.size&&(N.size=c.size))):t=N.createElementNS(t,o),t[Vn]=n,t[Io]=c,Gh(t,n,!1,!1),n.stateNode=t;e:{switch(N=Gr(o,c),o){case"dialog":it("cancel",t),it("close",t),y=c;break;case"iframe":case"object":case"embed":it("load",t),y=c;break;case"video":case"audio":for(y=0;y<To.length;y++)it(To[y],t);y=c;break;case"source":it("error",t),y=c;break;case"img":case"image":case"link":it("error",t),it("load",t),y=c;break;case"details":it("toggle",t),y=c;break;case"input":We(t,c),y=Le(t,c),it("invalid",t);break;case"option":y=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},y=H({},c,{value:void 0}),it("invalid",t);break;case"textarea":xn(t,c),y=vn(t,c),it("invalid",t);break;default:y=c}Wr(o,y),B=y;for(x in B)if(B.hasOwnProperty(x)){var Y=B[x];x==="style"?Vr(t,Y):x==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&bi(t,Y)):x==="children"?typeof Y=="string"?(o!=="textarea"||Y!=="")&&wn(t,Y):typeof Y=="number"&&wn(t,""+Y):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(s.hasOwnProperty(x)?Y!=null&&x==="onScroll"&&it("scroll",t):Y!=null&&b(t,x,Y,N))}switch(o){case"input":Te(t),Jt(t,c,!1);break;case"textarea":Te(t),Dn(t);break;case"option":c.value!=null&&t.setAttribute("value",""+oe(c.value));break;case"select":t.multiple=!!c.multiple,x=c.value,x!=null?Ut(t,!!c.multiple,x,!1):c.defaultValue!=null&&Ut(t,!!c.multiple,c.defaultValue,!0);break;default:typeof y.onClick=="function"&&(t.onclick=$s)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return zt(n),null;case 6:if(t&&n.stateNode!=null)Yh(t,n,t.memoizedProps,c);else{if(typeof c!="string"&&n.stateNode===null)throw Error(i(166));if(o=oi(Do.current),oi(Wn.current),Ws(n)){if(c=n.stateNode,o=n.memoizedProps,c[Vn]=n,(x=c.nodeValue!==o)&&(t=rn,t!==null))switch(t.tag){case 3:Ds(c.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ds(c.nodeValue,o,(t.mode&1)!==0)}x&&(n.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Vn]=n,n.stateNode=c}return zt(n),null;case 13:if(ot(ct),c=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(st&&on!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Qf(),Hi(),n.flags|=98560,x=!1;else if(x=Ws(n),c!==null&&c.dehydrated!==null){if(t===null){if(!x)throw Error(i(318));if(x=n.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(i(317));x[Vn]=n}else Hi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;zt(n),x=!1}else kn!==null&&(Bu(kn),kn=null),x=!0;if(!x)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=o,n):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(ct.current&1)!==0?bt===0&&(bt=3):Uu())),n.updateQueue!==null&&(n.flags|=4),zt(n),null);case 4:return Gi(),Tu(t,n),t===null&&Mo(n.stateNode.containerInfo),zt(n),null;case 10:return ru(n.type._context),zt(n),null;case 17:return qt(n.type)&&Bs(),zt(n),null;case 19:if(ot(ct),x=n.memoizedState,x===null)return zt(n),null;if(c=(n.flags&128)!==0,N=x.rendering,N===null)if(c)Ho(x,!1);else{if(bt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(N=Qs(t),N!==null){for(n.flags|=128,Ho(x,!1),c=N.updateQueue,c!==null&&(n.updateQueue=c,n.flags|=4),n.subtreeFlags=0,c=o,o=n.child;o!==null;)x=o,t=c,x.flags&=14680066,N=x.alternate,N===null?(x.childLanes=0,x.lanes=t,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=N.childLanes,x.lanes=N.lanes,x.child=N.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=N.memoizedProps,x.memoizedState=N.memoizedState,x.updateQueue=N.updateQueue,x.type=N.type,t=N.dependencies,x.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return tt(ct,ct.current&1|2),n.child}t=t.sibling}x.tail!==null&&nt()>Ki&&(n.flags|=128,c=!0,Ho(x,!1),n.lanes=4194304)}else{if(!c)if(t=Qs(N),t!==null){if(n.flags|=128,c=!0,o=t.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),Ho(x,!0),x.tail===null&&x.tailMode==="hidden"&&!N.alternate&&!st)return zt(n),null}else 2*nt()-x.renderingStartTime>Ki&&o!==1073741824&&(n.flags|=128,c=!0,Ho(x,!1),n.lanes=4194304);x.isBackwards?(N.sibling=n.child,n.child=N):(o=x.last,o!==null?o.sibling=N:n.child=N,x.last=N)}return x.tail!==null?(n=x.tail,x.rendering=n,x.tail=n.sibling,x.renderingStartTime=nt(),n.sibling=null,o=ct.current,tt(ct,c?o&1|2:o&1),n):(zt(n),null);case 22:case 23:return Hu(),c=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(n.flags|=8192),c&&(n.mode&1)!==0?(sn&1073741824)!==0&&(zt(n),n.subtreeFlags&6&&(n.flags|=8192)):zt(n),null;case 24:return null;case 25:return null}throw Error(i(156,n.tag))}function _x(t,n){switch(Qa(n),n.tag){case 1:return qt(n.type)&&Bs(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Gi(),ot(Gt),ot(Ot),cu(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return au(n),null;case 13:if(ot(ct),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Hi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ot(ct),null;case 4:return Gi(),null;case 10:return ru(n.type._context),null;case 22:case 23:return Hu(),null;case 24:return null;default:return null}}var sl=!1,Dt=!1,bx=typeof WeakSet=="function"?WeakSet:Set,be=null;function Yi(t,n){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){mt(t,n,c)}else o.current=null}function Mu(t,n,o){try{o()}catch(c){mt(t,n,c)}}var Xh=!1;function kx(t,n){if(Ha=Ns,t=Cf(),Oa(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var y=c.anchorOffset,x=c.focusNode;c=c.focusOffset;try{o.nodeType,x.nodeType}catch{o=null;break e}var N=0,B=-1,Y=-1,ie=0,ce=0,de=t,ue=null;t:for(;;){for(var xe;de!==o||y!==0&&de.nodeType!==3||(B=N+y),de!==x||c!==0&&de.nodeType!==3||(Y=N+c),de.nodeType===3&&(N+=de.nodeValue.length),(xe=de.firstChild)!==null;)ue=de,de=xe;for(;;){if(de===t)break t;if(ue===o&&++ie===y&&(B=N),ue===x&&++ce===c&&(Y=N),(xe=de.nextSibling)!==null)break;de=ue,ue=de.parentNode}de=xe}o=B===-1||Y===-1?null:{start:B,end:Y}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ua={focusedElem:t,selectionRange:o},Ns=!1,be=n;be!==null;)if(n=be,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,be=t;else for(;be!==null;){n=be;try{var ke=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ke!==null){var Se=ke.memoizedProps,vt=ke.memoizedState,te=n.stateNode,K=te.getSnapshotBeforeUpdate(n.elementType===n.type?Se:Sn(n.type,Se),vt);te.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var ne=n.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(he){mt(n,n.return,he)}if(t=n.sibling,t!==null){t.return=n.return,be=t;break}be=n.return}return ke=Xh,Xh=!1,ke}function Uo(t,n,o){var c=n.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var y=c=c.next;do{if((y.tag&t)===t){var x=y.destroy;y.destroy=void 0,x!==void 0&&Mu(n,o,x)}y=y.next}while(y!==c)}}function ll(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&t)===t){var c=o.create;o.destroy=c()}o=o.next}while(o!==n)}}function Au(t){var n=t.ref;if(n!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof n=="function"?n(t):n.current=t}}function Kh(t){var n=t.alternate;n!==null&&(t.alternate=null,Kh(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[Vn],delete n[Io],delete n[qa],delete n[sx],delete n[lx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Qh(t){return t.tag===5||t.tag===3||t.tag===4}function Zh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Iu(t,n,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(t,n):o.insertBefore(t,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(t,o)):(n=o,n.appendChild(t)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=$s));else if(c!==4&&(t=t.child,t!==null))for(Iu(t,n,o),t=t.sibling;t!==null;)Iu(t,n,o),t=t.sibling}function Lu(t,n,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,n?o.insertBefore(t,n):o.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Lu(t,n,o),t=t.sibling;t!==null;)Lu(t,n,o),t=t.sibling}var Mt=null,Nn=!1;function Lr(t,n,o){for(o=o.child;o!==null;)Jh(t,n,o),o=o.sibling}function Jh(t,n,o){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(je,o)}catch{}switch(o.tag){case 5:Dt||Yi(o,n);case 6:var c=Mt,y=Nn;Mt=null,Lr(t,n,o),Mt=c,Nn=y,Mt!==null&&(Nn?(t=Mt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Mt.removeChild(o.stateNode));break;case 18:Mt!==null&&(Nn?(t=Mt,o=o.stateNode,t.nodeType===8?Ga(t.parentNode,o):t.nodeType===1&&Ga(t,o),Eo(t)):Ga(Mt,o.stateNode));break;case 4:c=Mt,y=Nn,Mt=o.stateNode.containerInfo,Nn=!0,Lr(t,n,o),Mt=c,Nn=y;break;case 0:case 11:case 14:case 15:if(!Dt&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){y=c=c.next;do{var x=y,N=x.destroy;x=x.tag,N!==void 0&&((x&2)!==0||(x&4)!==0)&&Mu(o,n,N),y=y.next}while(y!==c)}Lr(t,n,o);break;case 1:if(!Dt&&(Yi(o,n),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(B){mt(o,n,B)}Lr(t,n,o);break;case 21:Lr(t,n,o);break;case 22:o.mode&1?(Dt=(c=Dt)||o.memoizedState!==null,Lr(t,n,o),Dt=c):Lr(t,n,o);break;default:Lr(t,n,o)}}function ep(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new bx),n.forEach(function(c){var y=Lx.bind(null,t,c);o.has(c)||(o.add(c),c.then(y,y))})}}function Cn(t,n){var o=n.deletions;if(o!==null)for(var c=0;c<o.length;c++){var y=o[c];try{var x=t,N=n,B=N;e:for(;B!==null;){switch(B.tag){case 5:Mt=B.stateNode,Nn=!1;break e;case 3:Mt=B.stateNode.containerInfo,Nn=!0;break e;case 4:Mt=B.stateNode.containerInfo,Nn=!0;break e}B=B.return}if(Mt===null)throw Error(i(160));Jh(x,N,y),Mt=null,Nn=!1;var Y=y.alternate;Y!==null&&(Y.return=null),y.return=null}catch(ie){mt(y,n,ie)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)tp(n,t),n=n.sibling}function tp(t,n){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cn(n,t),qn(t),c&4){try{Uo(3,t,t.return),ll(3,t)}catch(Se){mt(t,t.return,Se)}try{Uo(5,t,t.return)}catch(Se){mt(t,t.return,Se)}}break;case 1:Cn(n,t),qn(t),c&512&&o!==null&&Yi(o,o.return);break;case 5:if(Cn(n,t),qn(t),c&512&&o!==null&&Yi(o,o.return),t.flags&32){var y=t.stateNode;try{wn(y,"")}catch(Se){mt(t,t.return,Se)}}if(c&4&&(y=t.stateNode,y!=null)){var x=t.memoizedProps,N=o!==null?o.memoizedProps:x,B=t.type,Y=t.updateQueue;if(t.updateQueue=null,Y!==null)try{B==="input"&&x.type==="radio"&&x.name!=null&&Be(y,x),Gr(B,N);var ie=Gr(B,x);for(N=0;N<Y.length;N+=2){var ce=Y[N],de=Y[N+1];ce==="style"?Vr(y,de):ce==="dangerouslySetInnerHTML"?bi(y,de):ce==="children"?wn(y,de):b(y,ce,de,ie)}switch(B){case"input":ht(y,x);break;case"textarea":Vt(y,x);break;case"select":var ue=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!x.multiple;var xe=x.value;xe!=null?Ut(y,!!x.multiple,xe,!1):ue!==!!x.multiple&&(x.defaultValue!=null?Ut(y,!!x.multiple,x.defaultValue,!0):Ut(y,!!x.multiple,x.multiple?[]:"",!1))}y[Io]=x}catch(Se){mt(t,t.return,Se)}}break;case 6:if(Cn(n,t),qn(t),c&4){if(t.stateNode===null)throw Error(i(162));y=t.stateNode,x=t.memoizedProps;try{y.nodeValue=x}catch(Se){mt(t,t.return,Se)}}break;case 3:if(Cn(n,t),qn(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Eo(n.containerInfo)}catch(Se){mt(t,t.return,Se)}break;case 4:Cn(n,t),qn(t);break;case 13:Cn(n,t),qn(t),y=t.child,y.flags&8192&&(x=y.memoizedState!==null,y.stateNode.isHidden=x,!x||y.alternate!==null&&y.alternate.memoizedState!==null||(zu=nt())),c&4&&ep(t);break;case 22:if(ce=o!==null&&o.memoizedState!==null,t.mode&1?(Dt=(ie=Dt)||ce,Cn(n,t),Dt=ie):Cn(n,t),qn(t),c&8192){if(ie=t.memoizedState!==null,(t.stateNode.isHidden=ie)&&!ce&&(t.mode&1)!==0)for(be=t,ce=t.child;ce!==null;){for(de=be=ce;be!==null;){switch(ue=be,xe=ue.child,ue.tag){case 0:case 11:case 14:case 15:Uo(4,ue,ue.return);break;case 1:Yi(ue,ue.return);var ke=ue.stateNode;if(typeof ke.componentWillUnmount=="function"){c=ue,o=ue.return;try{n=c,ke.props=n.memoizedProps,ke.state=n.memoizedState,ke.componentWillUnmount()}catch(Se){mt(c,o,Se)}}break;case 5:Yi(ue,ue.return);break;case 22:if(ue.memoizedState!==null){ip(de);continue}}xe!==null?(xe.return=ue,be=xe):ip(de)}ce=ce.sibling}e:for(ce=null,de=t;;){if(de.tag===5){if(ce===null){ce=de;try{y=de.stateNode,ie?(x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(B=de.stateNode,Y=de.memoizedProps.style,N=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,B.style.display=ki("display",N))}catch(Se){mt(t,t.return,Se)}}}else if(de.tag===6){if(ce===null)try{de.stateNode.nodeValue=ie?"":de.memoizedProps}catch(Se){mt(t,t.return,Se)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===t)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===t)break e;for(;de.sibling===null;){if(de.return===null||de.return===t)break e;ce===de&&(ce=null),de=de.return}ce===de&&(ce=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:Cn(n,t),qn(t),c&4&&ep(t);break;case 21:break;default:Cn(n,t),qn(t)}}function qn(t){var n=t.flags;if(n&2){try{e:{for(var o=t.return;o!==null;){if(Qh(o)){var c=o;break e}o=o.return}throw Error(i(160))}switch(c.tag){case 5:var y=c.stateNode;c.flags&32&&(wn(y,""),c.flags&=-33);var x=Zh(t);Lu(t,x,y);break;case 3:case 4:var N=c.stateNode.containerInfo,B=Zh(t);Iu(t,B,N);break;default:throw Error(i(161))}}catch(Y){mt(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Sx(t,n,o){be=t,np(t)}function np(t,n,o){for(var c=(t.mode&1)!==0;be!==null;){var y=be,x=y.child;if(y.tag===22&&c){var N=y.memoizedState!==null||sl;if(!N){var B=y.alternate,Y=B!==null&&B.memoizedState!==null||Dt;B=sl;var ie=Dt;if(sl=N,(Dt=Y)&&!ie)for(be=y;be!==null;)N=be,Y=N.child,N.tag===22&&N.memoizedState!==null?op(y):Y!==null?(Y.return=N,be=Y):op(y);for(;x!==null;)be=x,np(x),x=x.sibling;be=y,sl=B,Dt=ie}rp(t)}else(y.subtreeFlags&8772)!==0&&x!==null?(x.return=y,be=x):rp(t)}}function rp(t){for(;be!==null;){var n=be;if((n.flags&8772)!==0){var o=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Dt||ll(5,n);break;case 1:var c=n.stateNode;if(n.flags&4&&!Dt)if(o===null)c.componentDidMount();else{var y=n.elementType===n.type?o.memoizedProps:Sn(n.type,o.memoizedProps);c.componentDidUpdate(y,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var x=n.updateQueue;x!==null&&ih(n,x,c);break;case 3:var N=n.updateQueue;if(N!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}ih(n,N,o)}break;case 5:var B=n.stateNode;if(o===null&&n.flags&4){o=B;var Y=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&o.focus();break;case"img":Y.src&&(o.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var ie=n.alternate;if(ie!==null){var ce=ie.memoizedState;if(ce!==null){var de=ce.dehydrated;de!==null&&Eo(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Dt||n.flags&512&&Au(n)}catch(ue){mt(n,n.return,ue)}}if(n===t){be=null;break}if(o=n.sibling,o!==null){o.return=n.return,be=o;break}be=n.return}}function ip(t){for(;be!==null;){var n=be;if(n===t){be=null;break}var o=n.sibling;if(o!==null){o.return=n.return,be=o;break}be=n.return}}function op(t){for(;be!==null;){var n=be;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{ll(4,n)}catch(Y){mt(n,o,Y)}break;case 1:var c=n.stateNode;if(typeof c.componentDidMount=="function"){var y=n.return;try{c.componentDidMount()}catch(Y){mt(n,y,Y)}}var x=n.return;try{Au(n)}catch(Y){mt(n,x,Y)}break;case 5:var N=n.return;try{Au(n)}catch(Y){mt(n,N,Y)}}}catch(Y){mt(n,n.return,Y)}if(n===t){be=null;break}var B=n.sibling;if(B!==null){B.return=n.return,be=B;break}be=n.return}}var Nx=Math.ceil,al=C.ReactCurrentDispatcher,Ou=C.ReactCurrentOwner,mn=C.ReactCurrentBatchConfig,qe=0,Nt=null,xt=null,At=0,sn=0,Xi=Rr(0),bt=0,Vo=null,li=0,ul=0,Pu=0,Wo=null,Xt=null,zu=0,Ki=1/0,dr=null,cl=!1,Du=null,Or=null,dl=!1,Pr=null,fl=0,Go=0,$u=null,hl=-1,pl=0;function Ft(){return(qe&6)!==0?nt():hl!==-1?hl:hl=nt()}function zr(t){return(t.mode&1)===0?1:(qe&2)!==0&&At!==0?At&-At:ux.transition!==null?(pl===0&&(pl=br()),pl):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:lf(t.type)),t)}function Rn(t,n,o,c){if(50<Go)throw Go=0,$u=null,Error(i(185));Hn(t,o,c),((qe&2)===0||t!==Nt)&&(t===Nt&&((qe&2)===0&&(ul|=o),bt===4&&Dr(t,At)),Kt(t,c),o===1&&qe===0&&(n.mode&1)===0&&(Ki=nt()+500,Hs&&Mr()))}function Kt(t,n){var o=t.callbackNode;mo(t,n);var c=rr(t,t===Nt?At:0);if(c===0)o!==null&&en(o),t.callbackNode=null,t.callbackPriority=0;else if(n=c&-c,t.callbackPriority!==n){if(o!=null&&en(o),n===1)t.tag===0?ax(lp.bind(null,t)):Gf(lp.bind(null,t)),ix(function(){(qe&6)===0&&Mr()}),o=null;else{switch($e(c)){case 1:o=Kr;break;case 4:o=tr;break;case 16:o=Er;break;case 536870912:o=Ce;break;default:o=Er}o=gp(o,sp.bind(null,t))}t.callbackPriority=n,t.callbackNode=o}}function sp(t,n){if(hl=-1,pl=0,(qe&6)!==0)throw Error(i(327));var o=t.callbackNode;if(Qi()&&t.callbackNode!==o)return null;var c=rr(t,t===Nt?At:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||n)n=gl(t,c);else{n=c;var y=qe;qe|=2;var x=up();(Nt!==t||At!==n)&&(dr=null,Ki=nt()+500,ui(t,n));do try{Tx();break}catch(B){ap(t,B)}while(!0);nu(),al.current=x,qe=y,xt!==null?n=0:(Nt=null,At=0,n=bt)}if(n!==0){if(n===2&&(y=Qr(t),y!==0&&(c=y,n=ju(t,y))),n===1)throw o=Vo,ui(t,0),Dr(t,c),Kt(t,nt()),o;if(n===6)Dr(t,c);else{if(y=t.current.alternate,(c&30)===0&&!Cx(y)&&(n=gl(t,c),n===2&&(x=Qr(t),x!==0&&(c=x,n=ju(t,x))),n===1))throw o=Vo,ui(t,0),Dr(t,c),Kt(t,nt()),o;switch(t.finishedWork=y,t.finishedLanes=c,n){case 0:case 1:throw Error(i(345));case 2:ci(t,Xt,dr);break;case 3:if(Dr(t,c),(c&130023424)===c&&(n=zu+500-nt(),10<n)){if(rr(t,0)!==0)break;if(y=t.suspendedLanes,(y&c)!==c){Ft(),t.pingedLanes|=t.suspendedLanes&y;break}t.timeoutHandle=Wa(ci.bind(null,t,Xt,dr),n);break}ci(t,Xt,dr);break;case 4:if(Dr(t,c),(c&4194240)===c)break;for(n=t.eventTimes,y=-1;0<c;){var N=31-rt(c);x=1<<N,N=n[N],N>y&&(y=N),c&=~x}if(c=y,c=nt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Nx(c/1960))-c,10<c){t.timeoutHandle=Wa(ci.bind(null,t,Xt,dr),c);break}ci(t,Xt,dr);break;case 5:ci(t,Xt,dr);break;default:throw Error(i(329))}}}return Kt(t,nt()),t.callbackNode===o?sp.bind(null,t):null}function ju(t,n){var o=Wo;return t.current.memoizedState.isDehydrated&&(ui(t,n).flags|=256),t=gl(t,n),t!==2&&(n=Xt,Xt=o,n!==null&&Bu(n)),t}function Bu(t){Xt===null?Xt=t:Xt.push.apply(Xt,t)}function Cx(t){for(var n=t;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var y=o[c],x=y.getSnapshot;y=y.value;try{if(!bn(x(),y))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Dr(t,n){for(n&=~Pu,n&=~ul,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var o=31-rt(n),c=1<<o;t[o]=-1,n&=~c}}function lp(t){if((qe&6)!==0)throw Error(i(327));Qi();var n=rr(t,0);if((n&1)===0)return Kt(t,nt()),null;var o=gl(t,n);if(t.tag!==0&&o===2){var c=Qr(t);c!==0&&(n=c,o=ju(t,c))}if(o===1)throw o=Vo,ui(t,0),Dr(t,n),Kt(t,nt()),o;if(o===6)throw Error(i(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,ci(t,Xt,dr),Kt(t,nt()),null}function Fu(t,n){var o=qe;qe|=1;try{return t(n)}finally{qe=o,qe===0&&(Ki=nt()+500,Hs&&Mr())}}function ai(t){Pr!==null&&Pr.tag===0&&(qe&6)===0&&Qi();var n=qe;qe|=1;var o=mn.transition,c=Ge;try{if(mn.transition=null,Ge=1,t)return t()}finally{Ge=c,mn.transition=o,qe=n,(qe&6)===0&&Mr()}}function Hu(){sn=Xi.current,ot(Xi)}function ui(t,n){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,rx(o)),xt!==null)for(o=xt.return;o!==null;){var c=o;switch(Qa(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Bs();break;case 3:Gi(),ot(Gt),ot(Ot),cu();break;case 5:au(c);break;case 4:Gi();break;case 13:ot(ct);break;case 19:ot(ct);break;case 10:ru(c.type._context);break;case 22:case 23:Hu()}o=o.return}if(Nt=t,xt=t=$r(t.current,null),At=sn=n,bt=0,Vo=null,Pu=ul=li=0,Xt=Wo=null,ii!==null){for(n=0;n<ii.length;n++)if(o=ii[n],c=o.interleaved,c!==null){o.interleaved=null;var y=c.next,x=o.pending;if(x!==null){var N=x.next;x.next=y,c.next=N}o.pending=c}ii=null}return t}function ap(t,n){do{var o=xt;try{if(nu(),Zs.current=nl,Js){for(var c=dt.memoizedState;c!==null;){var y=c.queue;y!==null&&(y.pending=null),c=c.next}Js=!1}if(si=0,St=_t=dt=null,$o=!1,jo=0,Ou.current=null,o===null||o.return===null){bt=1,Vo=n,xt=null;break}e:{var x=t,N=o.return,B=o,Y=n;if(n=At,B.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ie=Y,ce=B,de=ce.tag;if((ce.mode&1)===0&&(de===0||de===11||de===15)){var ue=ce.alternate;ue?(ce.updateQueue=ue.updateQueue,ce.memoizedState=ue.memoizedState,ce.lanes=ue.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var xe=Lh(N);if(xe!==null){xe.flags&=-257,Oh(xe,N,B,x,n),xe.mode&1&&Ih(x,ie,n),n=xe,Y=ie;var ke=n.updateQueue;if(ke===null){var Se=new Set;Se.add(Y),n.updateQueue=Se}else ke.add(Y);break e}else{if((n&1)===0){Ih(x,ie,n),Uu();break e}Y=Error(i(426))}}else if(st&&B.mode&1){var vt=Lh(N);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),Oh(vt,N,B,x,n),eu(qi(Y,B));break e}}x=Y=qi(Y,B),bt!==4&&(bt=2),Wo===null?Wo=[x]:Wo.push(x),x=N;do{switch(x.tag){case 3:x.flags|=65536,n&=-n,x.lanes|=n;var te=Mh(x,Y,n);rh(x,te);break e;case 1:B=Y;var K=x.type,ne=x.stateNode;if((x.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(Or===null||!Or.has(ne)))){x.flags|=65536,n&=-n,x.lanes|=n;var he=Ah(x,B,n);rh(x,he);break e}}x=x.return}while(x!==null)}dp(o)}catch(Ne){n=Ne,xt===o&&o!==null&&(xt=o=o.return);continue}break}while(!0)}function up(){var t=al.current;return al.current=nl,t===null?nl:t}function Uu(){(bt===0||bt===3||bt===2)&&(bt=4),Nt===null||(li&268435455)===0&&(ul&268435455)===0||Dr(Nt,At)}function gl(t,n){var o=qe;qe|=2;var c=up();(Nt!==t||At!==n)&&(dr=null,ui(t,n));do try{Rx();break}catch(y){ap(t,y)}while(!0);if(nu(),qe=o,al.current=c,xt!==null)throw Error(i(261));return Nt=null,At=0,bt}function Rx(){for(;xt!==null;)cp(xt)}function Tx(){for(;xt!==null&&!Ri();)cp(xt)}function cp(t){var n=pp(t.alternate,t,sn);t.memoizedProps=t.pendingProps,n===null?dp(t):xt=n,Ou.current=null}function dp(t){var n=t;do{var o=n.alternate;if(t=n.return,(n.flags&32768)===0){if(o=Ex(o,n,sn),o!==null){xt=o;return}}else{if(o=_x(o,n),o!==null){o.flags&=32767,xt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bt=6,xt=null;return}}if(n=n.sibling,n!==null){xt=n;return}xt=n=t}while(n!==null);bt===0&&(bt=5)}function ci(t,n,o){var c=Ge,y=mn.transition;try{mn.transition=null,Ge=1,Mx(t,n,o,c)}finally{mn.transition=y,Ge=c}return null}function Mx(t,n,o,c){do Qi();while(Pr!==null);if((qe&6)!==0)throw Error(i(327));o=t.finishedWork;var y=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(i(177));t.callbackNode=null,t.callbackPriority=0;var x=o.lanes|o.childLanes;if(jt(t,x),t===Nt&&(xt=Nt=null,At=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||dl||(dl=!0,gp(Er,function(){return Qi(),null})),x=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||x){x=mn.transition,mn.transition=null;var N=Ge;Ge=1;var B=qe;qe|=4,Ou.current=null,kx(t,o),tp(o,t),Kv(Ua),Ns=!!Ha,Ua=Ha=null,t.current=o,Sx(o),Xr(),qe=B,Ge=N,mn.transition=x}else t.current=o;if(dl&&(dl=!1,Pr=t,fl=y),x=t.pendingLanes,x===0&&(Or=null),ut(o.stateNode),Kt(t,nt()),n!==null)for(c=t.onRecoverableError,o=0;o<n.length;o++)y=n[o],c(y.value,{componentStack:y.stack,digest:y.digest});if(cl)throw cl=!1,t=Du,Du=null,t;return(fl&1)!==0&&t.tag!==0&&Qi(),x=t.pendingLanes,(x&1)!==0?t===$u?Go++:(Go=0,$u=t):Go=0,Mr(),null}function Qi(){if(Pr!==null){var t=$e(fl),n=mn.transition,o=Ge;try{if(mn.transition=null,Ge=16>t?16:t,Pr===null)var c=!1;else{if(t=Pr,Pr=null,fl=0,(qe&6)!==0)throw Error(i(331));var y=qe;for(qe|=4,be=t.current;be!==null;){var x=be,N=x.child;if((be.flags&16)!==0){var B=x.deletions;if(B!==null){for(var Y=0;Y<B.length;Y++){var ie=B[Y];for(be=ie;be!==null;){var ce=be;switch(ce.tag){case 0:case 11:case 15:Uo(8,ce,x)}var de=ce.child;if(de!==null)de.return=ce,be=de;else for(;be!==null;){ce=be;var ue=ce.sibling,xe=ce.return;if(Kh(ce),ce===ie){be=null;break}if(ue!==null){ue.return=xe,be=ue;break}be=xe}}}var ke=x.alternate;if(ke!==null){var Se=ke.child;if(Se!==null){ke.child=null;do{var vt=Se.sibling;Se.sibling=null,Se=vt}while(Se!==null)}}be=x}}if((x.subtreeFlags&2064)!==0&&N!==null)N.return=x,be=N;else e:for(;be!==null;){if(x=be,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Uo(9,x,x.return)}var te=x.sibling;if(te!==null){te.return=x.return,be=te;break e}be=x.return}}var K=t.current;for(be=K;be!==null;){N=be;var ne=N.child;if((N.subtreeFlags&2064)!==0&&ne!==null)ne.return=N,be=ne;else e:for(N=K;be!==null;){if(B=be,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:ll(9,B)}}catch(Ne){mt(B,B.return,Ne)}if(B===N){be=null;break e}var he=B.sibling;if(he!==null){he.return=B.return,be=he;break e}be=B.return}}if(qe=y,Mr(),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(je,t)}catch{}c=!0}return c}finally{Ge=o,mn.transition=n}}return!1}function fp(t,n,o){n=qi(o,n),n=Mh(t,n,1),t=Ir(t,n,1),n=Ft(),t!==null&&(Hn(t,1,n),Kt(t,n))}function mt(t,n,o){if(t.tag===3)fp(t,t,o);else for(;n!==null;){if(n.tag===3){fp(n,t,o);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Or===null||!Or.has(c))){t=qi(o,t),t=Ah(n,t,1),n=Ir(n,t,1),t=Ft(),n!==null&&(Hn(n,1,t),Kt(n,t));break}}n=n.return}}function Ax(t,n,o){var c=t.pingCache;c!==null&&c.delete(n),n=Ft(),t.pingedLanes|=t.suspendedLanes&o,Nt===t&&(At&o)===o&&(bt===4||bt===3&&(At&130023424)===At&&500>nt()-zu?ui(t,0):Pu|=o),Kt(t,n)}function hp(t,n){n===0&&((t.mode&1)===0?n=1:(n=nr,nr<<=1,(nr&130023424)===0&&(nr=4194304)));var o=Ft();t=ar(t,n),t!==null&&(Hn(t,n,o),Kt(t,o))}function Ix(t){var n=t.memoizedState,o=0;n!==null&&(o=n.retryLane),hp(t,o)}function Lx(t,n){var o=0;switch(t.tag){case 13:var c=t.stateNode,y=t.memoizedState;y!==null&&(o=y.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(i(314))}c!==null&&c.delete(n),hp(t,o)}var pp;pp=function(t,n,o){if(t!==null)if(t.memoizedProps!==n.pendingProps||Gt.current)Yt=!0;else{if((t.lanes&o)===0&&(n.flags&128)===0)return Yt=!1,wx(t,n,o);Yt=(t.flags&131072)!==0}else Yt=!1,st&&(n.flags&1048576)!==0&&qf(n,Vs,n.index);switch(n.lanes=0,n.tag){case 2:var c=n.type;ol(t,n),t=n.pendingProps;var y=ji(n,Ot.current);Wi(n,o),y=hu(null,n,c,t,y,o);var x=pu();return n.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,qt(c)?(x=!0,Fs(n)):x=!1,n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,su(n),y.updater=rl,n.stateNode=y,y._reactInternals=n,wu(n,c,t,o),n=ku(null,n,c,!0,x,o)):(n.tag=0,st&&x&&Ka(n),Bt(null,n,y,o),n=n.child),n;case 16:c=n.elementType;e:{switch(ol(t,n),t=n.pendingProps,y=c._init,c=y(c._payload),n.type=c,y=n.tag=Px(c),t=Sn(c,t),y){case 0:n=bu(null,n,c,t,o);break e;case 1:n=Bh(null,n,c,t,o);break e;case 11:n=Ph(null,n,c,t,o);break e;case 14:n=zh(null,n,c,Sn(c.type,t),o);break e}throw Error(i(306,c,""))}return n;case 0:return c=n.type,y=n.pendingProps,y=n.elementType===c?y:Sn(c,y),bu(t,n,c,y,o);case 1:return c=n.type,y=n.pendingProps,y=n.elementType===c?y:Sn(c,y),Bh(t,n,c,y,o);case 3:e:{if(Fh(n),t===null)throw Error(i(387));c=n.pendingProps,x=n.memoizedState,y=x.element,nh(t,n),Ks(n,c,null,o);var N=n.memoizedState;if(c=N.element,x.isDehydrated)if(x={element:c,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},n.updateQueue.baseState=x,n.memoizedState=x,n.flags&256){y=qi(Error(i(423)),n),n=Hh(t,n,c,o,y);break e}else if(c!==y){y=qi(Error(i(424)),n),n=Hh(t,n,c,o,y);break e}else for(on=Cr(n.stateNode.containerInfo.firstChild),rn=n,st=!0,kn=null,o=eh(n,null,c,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Hi(),c===y){n=cr(t,n,o);break e}Bt(t,n,c,o)}n=n.child}return n;case 5:return oh(n),t===null&&Ja(n),c=n.type,y=n.pendingProps,x=t!==null?t.memoizedProps:null,N=y.children,Va(c,y)?N=null:x!==null&&Va(c,x)&&(n.flags|=32),jh(t,n),Bt(t,n,N,o),n.child;case 6:return t===null&&Ja(n),null;case 13:return Uh(t,n,o);case 4:return lu(n,n.stateNode.containerInfo),c=n.pendingProps,t===null?n.child=Ui(n,null,c,o):Bt(t,n,c,o),n.child;case 11:return c=n.type,y=n.pendingProps,y=n.elementType===c?y:Sn(c,y),Ph(t,n,c,y,o);case 7:return Bt(t,n,n.pendingProps,o),n.child;case 8:return Bt(t,n,n.pendingProps.children,o),n.child;case 12:return Bt(t,n,n.pendingProps.children,o),n.child;case 10:e:{if(c=n.type._context,y=n.pendingProps,x=n.memoizedProps,N=y.value,tt(qs,c._currentValue),c._currentValue=N,x!==null)if(bn(x.value,N)){if(x.children===y.children&&!Gt.current){n=cr(t,n,o);break e}}else for(x=n.child,x!==null&&(x.return=n);x!==null;){var B=x.dependencies;if(B!==null){N=x.child;for(var Y=B.firstContext;Y!==null;){if(Y.context===c){if(x.tag===1){Y=ur(-1,o&-o),Y.tag=2;var ie=x.updateQueue;if(ie!==null){ie=ie.shared;var ce=ie.pending;ce===null?Y.next=Y:(Y.next=ce.next,ce.next=Y),ie.pending=Y}}x.lanes|=o,Y=x.alternate,Y!==null&&(Y.lanes|=o),iu(x.return,o,n),B.lanes|=o;break}Y=Y.next}}else if(x.tag===10)N=x.type===n.type?null:x.child;else if(x.tag===18){if(N=x.return,N===null)throw Error(i(341));N.lanes|=o,B=N.alternate,B!==null&&(B.lanes|=o),iu(N,o,n),N=x.sibling}else N=x.child;if(N!==null)N.return=x;else for(N=x;N!==null;){if(N===n){N=null;break}if(x=N.sibling,x!==null){x.return=N.return,N=x;break}N=N.return}x=N}Bt(t,n,y.children,o),n=n.child}return n;case 9:return y=n.type,c=n.pendingProps.children,Wi(n,o),y=pn(y),c=c(y),n.flags|=1,Bt(t,n,c,o),n.child;case 14:return c=n.type,y=Sn(c,n.pendingProps),y=Sn(c.type,y),zh(t,n,c,y,o);case 15:return Dh(t,n,n.type,n.pendingProps,o);case 17:return c=n.type,y=n.pendingProps,y=n.elementType===c?y:Sn(c,y),ol(t,n),n.tag=1,qt(c)?(t=!0,Fs(n)):t=!1,Wi(n,o),Rh(n,c,y),wu(n,c,y,o),ku(null,n,c,!0,t,o);case 19:return Wh(t,n,o);case 22:return $h(t,n,o)}throw Error(i(156,n.tag))};function gp(t,n){return Ci(t,n)}function Ox(t,n,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,n,o,c){return new Ox(t,n,o,c)}function Vu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Px(t){if(typeof t=="function")return Vu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===j)return 11;if(t===J)return 14}return 2}function $r(t,n){var o=t.alternate;return o===null?(o=yn(t.tag,n,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=n,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,n=t.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function ml(t,n,o,c,y,x){var N=2;if(c=t,typeof t=="function")Vu(t)&&(N=1);else if(typeof t=="string")N=5;else e:switch(t){case D:return di(o.children,y,x,n);case R:N=8,y|=8;break;case O:return t=yn(12,o,n,y|2),t.elementType=O,t.lanes=x,t;case ee:return t=yn(13,o,n,y),t.elementType=ee,t.lanes=x,t;case P:return t=yn(19,o,n,y),t.elementType=P,t.lanes=x,t;case X:return yl(o,y,x,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:N=10;break e;case z:N=9;break e;case j:N=11;break e;case J:N=14;break e;case F:N=16,c=null;break e}throw Error(i(130,t==null?t:typeof t,""))}return n=yn(N,o,n,y),n.elementType=t,n.type=c,n.lanes=x,n}function di(t,n,o,c){return t=yn(7,t,c,n),t.lanes=o,t}function yl(t,n,o,c){return t=yn(22,t,c,n),t.elementType=X,t.lanes=o,t.stateNode={isHidden:!1},t}function Wu(t,n,o){return t=yn(6,t,null,n),t.lanes=o,t}function Gu(t,n,o){return n=yn(4,t.children!==null?t.children:[],t.key,n),n.lanes=o,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function zx(t,n,o,c,y){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fn(0),this.expirationTimes=Fn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fn(0),this.identifierPrefix=c,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function qu(t,n,o,c,y,x,N,B,Y){return t=new zx(t,n,o,B,Y),n===1?(n=1,x===!0&&(n|=8)):n=0,x=yn(3,null,null,n),t.current=x,x.stateNode=t,x.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},su(x),t}function Dx(t,n,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:c==null?null:""+c,children:t,containerInfo:n,implementation:o}}function mp(t){if(!t)return Tr;t=t._reactInternals;e:{if(cn(t)!==t||t.tag!==1)throw Error(i(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(qt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(i(171))}if(t.tag===1){var o=t.type;if(qt(o))return Vf(t,o,n)}return n}function yp(t,n,o,c,y,x,N,B,Y){return t=qu(o,c,!0,t,y,x,N,B,Y),t.context=mp(null),o=t.current,c=Ft(),y=zr(o),x=ur(c,y),x.callback=n??null,Ir(o,x,y),t.current.lanes=y,Hn(t,y,c),Kt(t,c),t}function vl(t,n,o,c){var y=n.current,x=Ft(),N=zr(y);return o=mp(o),n.context===null?n.context=o:n.pendingContext=o,n=ur(x,N),n.payload={element:t},c=c===void 0?null:c,c!==null&&(n.callback=c),t=Ir(y,n,N),t!==null&&(Rn(t,y,N,x),Xs(t,y,N)),N}function xl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<n?o:n}}function Yu(t,n){vp(t,n),(t=t.alternate)&&vp(t,n)}function $x(){return null}var xp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xu(t){this._internalRoot=t}wl.prototype.render=Xu.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(i(409));vl(t,n,null,null)},wl.prototype.unmount=Xu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ai(function(){vl(null,t,null,null)}),n[ir]=null}};function wl(t){this._internalRoot=t}wl.prototype.unstable_scheduleHydration=function(t){if(t){var n=Zr();t={blockedOn:null,target:t,priority:n};for(var o=0;o<kt.length&&n!==0&&n<kt[o].priority;o++);kt.splice(o,0,t),o===0&&of(t)}};function Ku(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function El(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wp(){}function jx(t,n,o,c,y){if(y){if(typeof c=="function"){var x=c;c=function(){var ie=xl(N);x.call(ie)}}var N=yp(n,c,t,0,null,!1,!1,"",wp);return t._reactRootContainer=N,t[ir]=N.current,Mo(t.nodeType===8?t.parentNode:t),ai(),N}for(;y=t.lastChild;)t.removeChild(y);if(typeof c=="function"){var B=c;c=function(){var ie=xl(Y);B.call(ie)}}var Y=qu(t,0,!1,null,null,!1,!1,"",wp);return t._reactRootContainer=Y,t[ir]=Y.current,Mo(t.nodeType===8?t.parentNode:t),ai(function(){vl(n,Y,o,c)}),Y}function _l(t,n,o,c,y){var x=o._reactRootContainer;if(x){var N=x;if(typeof y=="function"){var B=y;y=function(){var Y=xl(N);B.call(Y)}}vl(n,N,t,y)}else N=jx(o,n,t,y,c);return xl(N)}vo=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var o=tn(n.pendingLanes);o!==0&&(yo(n,o|1),Kt(n,nt()),(qe&6)===0&&(Ki=nt()+500,Mr()))}break;case 13:ai(function(){var c=ar(t,1);if(c!==null){var y=Ft();Rn(c,t,1,y)}}),Yu(t,1)}},yt=function(t){if(t.tag===13){var n=ar(t,134217728);if(n!==null){var o=Ft();Rn(n,t,134217728,o)}Yu(t,134217728)}},Qe=function(t){if(t.tag===13){var n=zr(t),o=ar(t,n);if(o!==null){var c=Ft();Rn(o,t,n,c)}Yu(t,n)}},Zr=function(){return Ge},Un=function(t,n){var o=Ge;try{return Ge=t,n()}finally{Ge=o}},vr=function(t,n,o){switch(n){case"input":if(ht(t,o),n=o.name,o.type==="radio"&&n!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var c=o[n];if(c!==t&&c.form===t.form){var y=js(c);if(!y)throw Error(i(90));Ee(c),ht(c,y)}}}break;case"textarea":Vt(t,o);break;case"select":n=o.value,n!=null&&Ut(t,!!o.multiple,n,!1)}},ge=Fu,Oe=ai;var Bx={usingClientEntryPoint:!1,Events:[Lo,Di,js,W,le,Fu]},qo={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fx={bundleType:qo.bundleType,version:qo.version,rendererPackageName:qo.rendererPackageName,rendererConfig:qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Si(t),t===null?null:t.stateNode},findFiberByHostInstance:qo.findFiberByHostInstance||$x,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bl.isDisabled&&bl.supportsFiber)try{je=bl.inject(Fx),Fe=bl}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bx,Qt.createPortal=function(t,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ku(n))throw Error(i(200));return Dx(t,n,null,o)},Qt.createRoot=function(t,n){if(!Ku(t))throw Error(i(299));var o=!1,c="",y=xp;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=qu(t,1,!1,null,null,o,!1,c,y),t[ir]=n.current,Mo(t.nodeType===8?t.parentNode:t),new Xu(n)},Qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=Si(n),t=t===null?null:t.stateNode,t},Qt.flushSync=function(t){return ai(t)},Qt.hydrate=function(t,n,o){if(!El(n))throw Error(i(200));return _l(null,t,n,!0,o)},Qt.hydrateRoot=function(t,n,o){if(!Ku(t))throw Error(i(405));var c=o!=null&&o.hydratedSources||null,y=!1,x="",N=xp;if(o!=null&&(o.unstable_strictMode===!0&&(y=!0),o.identifierPrefix!==void 0&&(x=o.identifierPrefix),o.onRecoverableError!==void 0&&(N=o.onRecoverableError)),n=yp(n,null,t,1,o??null,y,!1,x,N),t[ir]=n.current,Mo(t),c)for(t=0;t<c.length;t++)o=c[t],y=o._getVersion,y=y(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,y]:n.mutableSourceEagerHydrationData.push(o,y);return new wl(n)},Qt.render=function(t,n,o){if(!El(n))throw Error(i(200));return _l(null,t,n,!1,o)},Qt.unmountComponentAtNode=function(t){if(!El(t))throw Error(i(40));return t._reactRootContainer?(ai(function(){_l(null,null,t,!1,function(){t._reactRootContainer=null,t[ir]=null})}),!0):!1},Qt.unstable_batchedUpdates=Fu,Qt.unstable_renderSubtreeIntoContainer=function(t,n,o,c){if(!El(o))throw Error(i(200));if(t==null||t._reactInternals===void 0)throw Error(i(38));return _l(t,n,o,!1,c)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var Rp;function Fm(){if(Rp)return Ju.exports;Rp=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Ju.exports=Qx(),Ju.exports}var Tp;function Zx(){if(Tp)return kl;Tp=1;var e=Fm();return kl.createRoot=e.createRoot,kl.hydrateRoot=e.hydrateRoot,kl}var Jx=Zx();function Et(e){if(typeof e=="string"||typeof e=="number")return""+e;let r="";if(Array.isArray(e))for(let i=0,l;i<e.length;i++)(l=Et(e[i]))!==""&&(r+=(r&&" ")+l);else for(let i in e)e[i]&&(r+=(r&&" ")+i);return r}var ew={value:()=>{}};function sa(){for(var e=0,r=arguments.length,i={},l;e<r;++e){if(!(l=arguments[e]+"")||l in i||/[\s.]/.test(l))throw new Error("illegal type: "+l);i[l]=[]}return new $l(i)}function $l(e){this._=e}function tw(e,r){return e.trim().split(/^|\s+/).map(function(i){var l="",s=i.indexOf(".");if(s>=0&&(l=i.slice(s+1),i=i.slice(0,s)),i&&!r.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:l}})}$l.prototype=sa.prototype={constructor:$l,on:function(e,r){var i=this._,l=tw(e+"",i),s,u=-1,a=l.length;if(arguments.length<2){for(;++u<a;)if((s=(e=l[u]).type)&&(s=nw(i[s],e.name)))return s;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++u<a;)if(s=(e=l[u]).type)i[s]=Mp(i[s],e.name,r);else if(r==null)for(s in i)i[s]=Mp(i[s],e.name,null);return this},copy:function(){var e={},r=this._;for(var i in r)e[i]=r[i].slice();return new $l(e)},call:function(e,r){if((s=arguments.length-2)>0)for(var i=new Array(s),l=0,s,u;l<s;++l)i[l]=arguments[l+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(u=this._[e],l=0,s=u.length;l<s;++l)u[l].value.apply(r,i)},apply:function(e,r,i){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var l=this._[e],s=0,u=l.length;s<u;++s)l[s].value.apply(r,i)}};function nw(e,r){for(var i=0,l=e.length,s;i<l;++i)if((s=e[i]).name===r)return s.value}function Mp(e,r,i){for(var l=0,s=e.length;l<s;++l)if(e[l].name===r){e[l]=ew,e=e.slice(0,l).concat(e.slice(l+1));break}return i!=null&&e.push({name:r,value:i}),e}var fd="http://www.w3.org/1999/xhtml";const Ap={svg:"http://www.w3.org/2000/svg",xhtml:fd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function la(e){var r=e+="",i=r.indexOf(":");return i>=0&&(r=e.slice(0,i))!=="xmlns"&&(e=e.slice(i+1)),Ap.hasOwnProperty(r)?{space:Ap[r],local:e}:e}function rw(e){return function(){var r=this.ownerDocument,i=this.namespaceURI;return i===fd&&r.documentElement.namespaceURI===fd?r.createElement(e):r.createElementNS(i,e)}}function iw(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Hm(e){var r=la(e);return(r.local?iw:rw)(r)}function ow(){}function Md(e){return e==null?ow:function(){return this.querySelector(e)}}function sw(e){typeof e!="function"&&(e=Md(e));for(var r=this._groups,i=r.length,l=new Array(i),s=0;s<i;++s)for(var u=r[s],a=u.length,d=l[s]=new Array(a),h,p,g=0;g<a;++g)(h=u[g])&&(p=e.call(h,h.__data__,g,u))&&("__data__"in h&&(p.__data__=h.__data__),d[g]=p);return new an(l,this._parents)}function lw(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function aw(){return[]}function Um(e){return e==null?aw:function(){return this.querySelectorAll(e)}}function uw(e){return function(){return lw(e.apply(this,arguments))}}function cw(e){typeof e=="function"?e=uw(e):e=Um(e);for(var r=this._groups,i=r.length,l=[],s=[],u=0;u<i;++u)for(var a=r[u],d=a.length,h,p=0;p<d;++p)(h=a[p])&&(l.push(e.call(h,h.__data__,p,a)),s.push(h));return new an(l,s)}function Vm(e){return function(){return this.matches(e)}}function Wm(e){return function(r){return r.matches(e)}}var dw=Array.prototype.find;function fw(e){return function(){return dw.call(this.children,e)}}function hw(){return this.firstElementChild}function pw(e){return this.select(e==null?hw:fw(typeof e=="function"?e:Wm(e)))}var gw=Array.prototype.filter;function mw(){return Array.from(this.children)}function yw(e){return function(){return gw.call(this.children,e)}}function vw(e){return this.selectAll(e==null?mw:yw(typeof e=="function"?e:Wm(e)))}function xw(e){typeof e!="function"&&(e=Vm(e));for(var r=this._groups,i=r.length,l=new Array(i),s=0;s<i;++s)for(var u=r[s],a=u.length,d=l[s]=[],h,p=0;p<a;++p)(h=u[p])&&e.call(h,h.__data__,p,u)&&d.push(h);return new an(l,this._parents)}function Gm(e){return new Array(e.length)}function ww(){return new an(this._enter||this._groups.map(Gm),this._parents)}function Ul(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}Ul.prototype={constructor:Ul,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ew(e){return function(){return e}}function _w(e,r,i,l,s,u){for(var a=0,d,h=r.length,p=u.length;a<p;++a)(d=r[a])?(d.__data__=u[a],l[a]=d):i[a]=new Ul(e,u[a]);for(;a<h;++a)(d=r[a])&&(s[a]=d)}function bw(e,r,i,l,s,u,a){var d,h,p=new Map,g=r.length,f=u.length,m=new Array(g),v;for(d=0;d<g;++d)(h=r[d])&&(m[d]=v=a.call(h,h.__data__,d,r)+"",p.has(v)?s[d]=h:p.set(v,h));for(d=0;d<f;++d)v=a.call(e,u[d],d,u)+"",(h=p.get(v))?(l[d]=h,h.__data__=u[d],p.delete(v)):i[d]=new Ul(e,u[d]);for(d=0;d<g;++d)(h=r[d])&&p.get(m[d])===h&&(s[d]=h)}function kw(e){return e.__data__}function Sw(e,r){if(!arguments.length)return Array.from(this,kw);var i=r?bw:_w,l=this._parents,s=this._groups;typeof e!="function"&&(e=Ew(e));for(var u=s.length,a=new Array(u),d=new Array(u),h=new Array(u),p=0;p<u;++p){var g=l[p],f=s[p],m=f.length,v=Nw(e.call(g,g&&g.__data__,p,l)),w=v.length,E=d[p]=new Array(w),_=a[p]=new Array(w),k=h[p]=new Array(m);i(g,f,E,_,k,v,r);for(var S=0,b=0,C,A;S<w;++S)if(C=E[S]){for(S>=b&&(b=S+1);!(A=_[b])&&++b<w;);C._next=A||null}}return a=new an(a,l),a._enter=d,a._exit=h,a}function Nw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Cw(){return new an(this._exit||this._groups.map(Gm),this._parents)}function Rw(e,r,i){var l=this.enter(),s=this,u=this.exit();return typeof e=="function"?(l=e(l),l&&(l=l.selection())):l=l.append(e+""),r!=null&&(s=r(s),s&&(s=s.selection())),i==null?u.remove():i(u),l&&s?l.merge(s).order():s}function Tw(e){for(var r=e.selection?e.selection():e,i=this._groups,l=r._groups,s=i.length,u=l.length,a=Math.min(s,u),d=new Array(s),h=0;h<a;++h)for(var p=i[h],g=l[h],f=p.length,m=d[h]=new Array(f),v,w=0;w<f;++w)(v=p[w]||g[w])&&(m[w]=v);for(;h<s;++h)d[h]=i[h];return new an(d,this._parents)}function Mw(){for(var e=this._groups,r=-1,i=e.length;++r<i;)for(var l=e[r],s=l.length-1,u=l[s],a;--s>=0;)(a=l[s])&&(u&&a.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(a,u),u=a);return this}function Aw(e){e||(e=Iw);function r(f,m){return f&&m?e(f.__data__,m.__data__):!f-!m}for(var i=this._groups,l=i.length,s=new Array(l),u=0;u<l;++u){for(var a=i[u],d=a.length,h=s[u]=new Array(d),p,g=0;g<d;++g)(p=a[g])&&(h[g]=p);h.sort(r)}return new an(s,this._parents).order()}function Iw(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function Lw(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Ow(){return Array.from(this)}function Pw(){for(var e=this._groups,r=0,i=e.length;r<i;++r)for(var l=e[r],s=0,u=l.length;s<u;++s){var a=l[s];if(a)return a}return null}function zw(){let e=0;for(const r of this)++e;return e}function Dw(){return!this.node()}function $w(e){for(var r=this._groups,i=0,l=r.length;i<l;++i)for(var s=r[i],u=0,a=s.length,d;u<a;++u)(d=s[u])&&e.call(d,d.__data__,u,s);return this}function jw(e){return function(){this.removeAttribute(e)}}function Bw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Fw(e,r){return function(){this.setAttribute(e,r)}}function Hw(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function Uw(e,r){return function(){var i=r.apply(this,arguments);i==null?this.removeAttribute(e):this.setAttribute(e,i)}}function Vw(e,r){return function(){var i=r.apply(this,arguments);i==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}}function Ww(e,r){var i=la(e);if(arguments.length<2){var l=this.node();return i.local?l.getAttributeNS(i.space,i.local):l.getAttribute(i)}return this.each((r==null?i.local?Bw:jw:typeof r=="function"?i.local?Vw:Uw:i.local?Hw:Fw)(i,r))}function qm(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Gw(e){return function(){this.style.removeProperty(e)}}function qw(e,r,i){return function(){this.style.setProperty(e,r,i)}}function Yw(e,r,i){return function(){var l=r.apply(this,arguments);l==null?this.style.removeProperty(e):this.style.setProperty(e,l,i)}}function Xw(e,r,i){return arguments.length>1?this.each((r==null?Gw:typeof r=="function"?Yw:qw)(e,r,i??"")):ro(this.node(),e)}function ro(e,r){return e.style.getPropertyValue(r)||qm(e).getComputedStyle(e,null).getPropertyValue(r)}function Kw(e){return function(){delete this[e]}}function Qw(e,r){return function(){this[e]=r}}function Zw(e,r){return function(){var i=r.apply(this,arguments);i==null?delete this[e]:this[e]=i}}function Jw(e,r){return arguments.length>1?this.each((r==null?Kw:typeof r=="function"?Zw:Qw)(e,r)):this.node()[e]}function Ym(e){return e.trim().split(/^|\s+/)}function Ad(e){return e.classList||new Xm(e)}function Xm(e){this._node=e,this._names=Ym(e.getAttribute("class")||"")}Xm.prototype={add:function(e){var r=this._names.indexOf(e);r<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Km(e,r){for(var i=Ad(e),l=-1,s=r.length;++l<s;)i.add(r[l])}function Qm(e,r){for(var i=Ad(e),l=-1,s=r.length;++l<s;)i.remove(r[l])}function e1(e){return function(){Km(this,e)}}function t1(e){return function(){Qm(this,e)}}function n1(e,r){return function(){(r.apply(this,arguments)?Km:Qm)(this,e)}}function r1(e,r){var i=Ym(e+"");if(arguments.length<2){for(var l=Ad(this.node()),s=-1,u=i.length;++s<u;)if(!l.contains(i[s]))return!1;return!0}return this.each((typeof r=="function"?n1:r?e1:t1)(i,r))}function i1(){this.textContent=""}function o1(e){return function(){this.textContent=e}}function s1(e){return function(){var r=e.apply(this,arguments);this.textContent=r??""}}function l1(e){return arguments.length?this.each(e==null?i1:(typeof e=="function"?s1:o1)(e)):this.node().textContent}function a1(){this.innerHTML=""}function u1(e){return function(){this.innerHTML=e}}function c1(e){return function(){var r=e.apply(this,arguments);this.innerHTML=r??""}}function d1(e){return arguments.length?this.each(e==null?a1:(typeof e=="function"?c1:u1)(e)):this.node().innerHTML}function f1(){this.nextSibling&&this.parentNode.appendChild(this)}function h1(){return this.each(f1)}function p1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function g1(){return this.each(p1)}function m1(e){var r=typeof e=="function"?e:Hm(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function y1(){return null}function v1(e,r){var i=typeof e=="function"?e:Hm(e),l=r==null?y1:typeof r=="function"?r:Md(r);return this.select(function(){return this.insertBefore(i.apply(this,arguments),l.apply(this,arguments)||null)})}function x1(){var e=this.parentNode;e&&e.removeChild(this)}function w1(){return this.each(x1)}function E1(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function _1(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function b1(e){return this.select(e?_1:E1)}function k1(e){return arguments.length?this.property("__data__",e):this.node().__data__}function S1(e){return function(r){e.call(this,r,this.__data__)}}function N1(e){return e.trim().split(/^|\s+/).map(function(r){var i="",l=r.indexOf(".");return l>=0&&(i=r.slice(l+1),r=r.slice(0,l)),{type:r,name:i}})}function C1(e){return function(){var r=this.__on;if(r){for(var i=0,l=-1,s=r.length,u;i<s;++i)u=r[i],(!e.type||u.type===e.type)&&u.name===e.name?this.removeEventListener(u.type,u.listener,u.options):r[++l]=u;++l?r.length=l:delete this.__on}}}function R1(e,r,i){return function(){var l=this.__on,s,u=S1(r);if(l){for(var a=0,d=l.length;a<d;++a)if((s=l[a]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=u,s.options=i),s.value=r;return}}this.addEventListener(e.type,u,i),s={type:e.type,name:e.name,value:r,listener:u,options:i},l?l.push(s):this.__on=[s]}}function T1(e,r,i){var l=N1(e+""),s,u=l.length,a;if(arguments.length<2){var d=this.node().__on;if(d){for(var h=0,p=d.length,g;h<p;++h)for(s=0,g=d[h];s<u;++s)if((a=l[s]).type===g.type&&a.name===g.name)return g.value}return}for(d=r?R1:C1,s=0;s<u;++s)this.each(d(l[s],r,i));return this}function Zm(e,r,i){var l=qm(e),s=l.CustomEvent;typeof s=="function"?s=new s(r,i):(s=l.document.createEvent("Event"),i?(s.initEvent(r,i.bubbles,i.cancelable),s.detail=i.detail):s.initEvent(r,!1,!1)),e.dispatchEvent(s)}function M1(e,r){return function(){return Zm(this,e,r)}}function A1(e,r){return function(){return Zm(this,e,r.apply(this,arguments))}}function I1(e,r){return this.each((typeof r=="function"?A1:M1)(e,r))}function*L1(){for(var e=this._groups,r=0,i=e.length;r<i;++r)for(var l=e[r],s=0,u=l.length,a;s<u;++s)(a=l[s])&&(yield a)}var Jm=[null];function an(e,r){this._groups=e,this._parents=r}function ms(){return new an([[document.documentElement]],Jm)}function O1(){return this}an.prototype=ms.prototype={constructor:an,select:sw,selectAll:cw,selectChild:pw,selectChildren:vw,filter:xw,data:Sw,enter:ww,exit:Cw,join:Rw,merge:Tw,selection:O1,order:Mw,sort:Aw,call:Lw,nodes:Ow,node:Pw,size:zw,empty:Dw,each:$w,attr:Ww,style:Xw,property:Jw,classed:r1,text:l1,html:d1,raise:h1,lower:g1,append:m1,insert:v1,remove:w1,clone:b1,datum:k1,on:T1,dispatch:I1,[Symbol.iterator]:L1};function ln(e){return typeof e=="string"?new an([[document.querySelector(e)]],[document.documentElement]):new an([[e]],Jm)}function P1(e){let r;for(;r=e.sourceEvent;)e=r;return e}function Tn(e,r){if(e=P1(e),r===void 0&&(r=e.currentTarget),r){var i=r.ownerSVGElement||r;if(i.createSVGPoint){var l=i.createSVGPoint();return l.x=e.clientX,l.y=e.clientY,l=l.matrixTransform(r.getScreenCTM().inverse()),[l.x,l.y]}if(r.getBoundingClientRect){var s=r.getBoundingClientRect();return[e.clientX-s.left-r.clientLeft,e.clientY-s.top-r.clientTop]}}return[e.pageX,e.pageY]}const z1={passive:!1},ss={capture:!0,passive:!1};function nc(e){e.stopImmediatePropagation()}function to(e){e.preventDefault(),e.stopImmediatePropagation()}function e0(e){var r=e.document.documentElement,i=ln(e).on("dragstart.drag",to,ss);"onselectstart"in r?i.on("selectstart.drag",to,ss):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function t0(e,r){var i=e.document.documentElement,l=ln(e).on("dragstart.drag",null);r&&(l.on("click.drag",to,ss),setTimeout(function(){l.on("click.drag",null)},0)),"onselectstart"in i?l.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const Sl=e=>()=>e;function hd(e,{sourceEvent:r,subject:i,target:l,identifier:s,active:u,x:a,y:d,dx:h,dy:p,dispatch:g}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:l,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:d,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:p,enumerable:!0,configurable:!0},_:{value:g}})}hd.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function D1(e){return!e.ctrlKey&&!e.button}function $1(){return this.parentNode}function j1(e,r){return r??{x:e.x,y:e.y}}function B1(){return navigator.maxTouchPoints||"ontouchstart"in this}function n0(){var e=D1,r=$1,i=j1,l=B1,s={},u=sa("start","drag","end"),a=0,d,h,p,g,f=0;function m(C){C.on("mousedown.drag",v).filter(l).on("touchstart.drag",_).on("touchmove.drag",k,z1).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(C,A){if(!(g||!e.call(this,C,A))){var T=b(this,r.call(this,C,A),C,A,"mouse");T&&(ln(C.view).on("mousemove.drag",w,ss).on("mouseup.drag",E,ss),e0(C.view),nc(C),p=!1,d=C.clientX,h=C.clientY,T("start",C))}}function w(C){if(to(C),!p){var A=C.clientX-d,T=C.clientY-h;p=A*A+T*T>f}s.mouse("drag",C)}function E(C){ln(C.view).on("mousemove.drag mouseup.drag",null),t0(C.view,p),to(C),s.mouse("end",C)}function _(C,A){if(e.call(this,C,A)){var T=C.changedTouches,D=r.call(this,C,A),R=T.length,O,G;for(O=0;O<R;++O)(G=b(this,D,C,A,T[O].identifier,T[O]))&&(nc(C),G("start",C,T[O]))}}function k(C){var A=C.changedTouches,T=A.length,D,R;for(D=0;D<T;++D)(R=s[A[D].identifier])&&(to(C),R("drag",C,A[D]))}function S(C){var A=C.changedTouches,T=A.length,D,R;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),D=0;D<T;++D)(R=s[A[D].identifier])&&(nc(C),R("end",C,A[D]))}function b(C,A,T,D,R,O){var G=u.copy(),z=Tn(O||T,A),j,ee,P;if((P=i.call(C,new hd("beforestart",{sourceEvent:T,target:m,identifier:R,active:a,x:z[0],y:z[1],dx:0,dy:0,dispatch:G}),D))!=null)return j=P.x-z[0]||0,ee=P.y-z[1]||0,function J(F,X,I){var $=z,H;switch(F){case"start":s[R]=J,H=a++;break;case"end":delete s[R],--a;case"drag":z=Tn(I||X,A),H=a;break}G.call(F,C,new hd(F,{sourceEvent:X,subject:P,target:m,identifier:R,active:H,x:z[0]+j,y:z[1]+ee,dx:z[0]-$[0],dy:z[1]-$[1],dispatch:G}),D)}}return m.filter=function(C){return arguments.length?(e=typeof C=="function"?C:Sl(!!C),m):e},m.container=function(C){return arguments.length?(r=typeof C=="function"?C:Sl(C),m):r},m.subject=function(C){return arguments.length?(i=typeof C=="function"?C:Sl(C),m):i},m.touchable=function(C){return arguments.length?(l=typeof C=="function"?C:Sl(!!C),m):l},m.on=function(){var C=u.on.apply(u,arguments);return C===u?m:C},m.clickDistance=function(C){return arguments.length?(f=(C=+C)*C,m):Math.sqrt(f)},m}function Id(e,r,i){e.prototype=r.prototype=i,i.constructor=e}function r0(e,r){var i=Object.create(e.prototype);for(var l in r)i[l]=r[l];return i}function ys(){}var ls=.7,Vl=1/ls,no="\\s*([+-]?\\d+)\\s*",as="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",F1=/^#([0-9a-f]{3,8})$/,H1=new RegExp(`^rgb\\(${no},${no},${no}\\)$`),U1=new RegExp(`^rgb\\(${Xn},${Xn},${Xn}\\)$`),V1=new RegExp(`^rgba\\(${no},${no},${no},${as}\\)$`),W1=new RegExp(`^rgba\\(${Xn},${Xn},${Xn},${as}\\)$`),G1=new RegExp(`^hsl\\(${as},${Xn},${Xn}\\)$`),q1=new RegExp(`^hsla\\(${as},${Xn},${Xn},${as}\\)$`),Ip={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Id(ys,mi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Lp,formatHex:Lp,formatHex8:Y1,formatHsl:X1,formatRgb:Op,toString:Op});function Lp(){return this.rgb().formatHex()}function Y1(){return this.rgb().formatHex8()}function X1(){return i0(this).formatHsl()}function Op(){return this.rgb().formatRgb()}function mi(e){var r,i;return e=(e+"").trim().toLowerCase(),(r=F1.exec(e))?(i=r[1].length,r=parseInt(r[1],16),i===6?Pp(r):i===3?new Zt(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):i===8?Nl(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):i===4?Nl(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=H1.exec(e))?new Zt(r[1],r[2],r[3],1):(r=U1.exec(e))?new Zt(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=V1.exec(e))?Nl(r[1],r[2],r[3],r[4]):(r=W1.exec(e))?Nl(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=G1.exec(e))?$p(r[1],r[2]/100,r[3]/100,1):(r=q1.exec(e))?$p(r[1],r[2]/100,r[3]/100,r[4]):Ip.hasOwnProperty(e)?Pp(Ip[e]):e==="transparent"?new Zt(NaN,NaN,NaN,0):null}function Pp(e){return new Zt(e>>16&255,e>>8&255,e&255,1)}function Nl(e,r,i,l){return l<=0&&(e=r=i=NaN),new Zt(e,r,i,l)}function K1(e){return e instanceof ys||(e=mi(e)),e?(e=e.rgb(),new Zt(e.r,e.g,e.b,e.opacity)):new Zt}function pd(e,r,i,l){return arguments.length===1?K1(e):new Zt(e,r,i,l??1)}function Zt(e,r,i,l){this.r=+e,this.g=+r,this.b=+i,this.opacity=+l}Id(Zt,pd,r0(ys,{brighter(e){return e=e==null?Vl:Math.pow(Vl,e),new Zt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ls:Math.pow(ls,e),new Zt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Zt(pi(this.r),pi(this.g),pi(this.b),Wl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zp,formatHex:zp,formatHex8:Q1,formatRgb:Dp,toString:Dp}));function zp(){return`#${hi(this.r)}${hi(this.g)}${hi(this.b)}`}function Q1(){return`#${hi(this.r)}${hi(this.g)}${hi(this.b)}${hi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Dp(){const e=Wl(this.opacity);return`${e===1?"rgb(":"rgba("}${pi(this.r)}, ${pi(this.g)}, ${pi(this.b)}${e===1?")":`, ${e})`}`}function Wl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hi(e){return e=pi(e),(e<16?"0":"")+e.toString(16)}function $p(e,r,i,l){return l<=0?e=r=i=NaN:i<=0||i>=1?e=r=NaN:r<=0&&(e=NaN),new In(e,r,i,l)}function i0(e){if(e instanceof In)return new In(e.h,e.s,e.l,e.opacity);if(e instanceof ys||(e=mi(e)),!e)return new In;if(e instanceof In)return e;e=e.rgb();var r=e.r/255,i=e.g/255,l=e.b/255,s=Math.min(r,i,l),u=Math.max(r,i,l),a=NaN,d=u-s,h=(u+s)/2;return d?(r===u?a=(i-l)/d+(i<l)*6:i===u?a=(l-r)/d+2:a=(r-i)/d+4,d/=h<.5?u+s:2-u-s,a*=60):d=h>0&&h<1?0:a,new In(a,d,h,e.opacity)}function Z1(e,r,i,l){return arguments.length===1?i0(e):new In(e,r,i,l??1)}function In(e,r,i,l){this.h=+e,this.s=+r,this.l=+i,this.opacity=+l}Id(In,Z1,r0(ys,{brighter(e){return e=e==null?Vl:Math.pow(Vl,e),new In(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ls:Math.pow(ls,e),new In(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,l=i+(i<.5?i:1-i)*r,s=2*i-l;return new Zt(rc(e>=240?e-240:e+120,s,l),rc(e,s,l),rc(e<120?e+240:e-120,s,l),this.opacity)},clamp(){return new In(jp(this.h),Cl(this.s),Cl(this.l),Wl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wl(this.opacity);return`${e===1?"hsl(":"hsla("}${jp(this.h)}, ${Cl(this.s)*100}%, ${Cl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jp(e){return e=(e||0)%360,e<0?e+360:e}function Cl(e){return Math.max(0,Math.min(1,e||0))}function rc(e,r,i){return(e<60?r+(i-r)*e/60:e<180?i:e<240?r+(i-r)*(240-e)/60:r)*255}const Ld=e=>()=>e;function J1(e,r){return function(i){return e+i*r}}function eE(e,r,i){return e=Math.pow(e,i),r=Math.pow(r,i)-e,i=1/i,function(l){return Math.pow(e+l*r,i)}}function tE(e){return(e=+e)==1?o0:function(r,i){return i-r?eE(r,i,e):Ld(isNaN(r)?i:r)}}function o0(e,r){var i=r-e;return i?J1(e,i):Ld(isNaN(e)?r:e)}const Gl=(function e(r){var i=tE(r);function l(s,u){var a=i((s=pd(s)).r,(u=pd(u)).r),d=i(s.g,u.g),h=i(s.b,u.b),p=o0(s.opacity,u.opacity);return function(g){return s.r=a(g),s.g=d(g),s.b=h(g),s.opacity=p(g),s+""}}return l.gamma=e,l})(1);function nE(e,r){r||(r=[]);var i=e?Math.min(r.length,e.length):0,l=r.slice(),s;return function(u){for(s=0;s<i;++s)l[s]=e[s]*(1-u)+r[s]*u;return l}}function rE(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function iE(e,r){var i=r?r.length:0,l=e?Math.min(i,e.length):0,s=new Array(l),u=new Array(i),a;for(a=0;a<l;++a)s[a]=rs(e[a],r[a]);for(;a<i;++a)u[a]=r[a];return function(d){for(a=0;a<l;++a)u[a]=s[a](d);return u}}function oE(e,r){var i=new Date;return e=+e,r=+r,function(l){return i.setTime(e*(1-l)+r*l),i}}function Yn(e,r){return e=+e,r=+r,function(i){return e*(1-i)+r*i}}function sE(e,r){var i={},l={},s;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(s in r)s in e?i[s]=rs(e[s],r[s]):l[s]=r[s];return function(u){for(s in i)l[s]=i[s](u);return l}}var gd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ic=new RegExp(gd.source,"g");function lE(e){return function(){return e}}function aE(e){return function(r){return e(r)+""}}function s0(e,r){var i=gd.lastIndex=ic.lastIndex=0,l,s,u,a=-1,d=[],h=[];for(e=e+"",r=r+"";(l=gd.exec(e))&&(s=ic.exec(r));)(u=s.index)>i&&(u=r.slice(i,u),d[a]?d[a]+=u:d[++a]=u),(l=l[0])===(s=s[0])?d[a]?d[a]+=s:d[++a]=s:(d[++a]=null,h.push({i:a,x:Yn(l,s)})),i=ic.lastIndex;return i<r.length&&(u=r.slice(i),d[a]?d[a]+=u:d[++a]=u),d.length<2?h[0]?aE(h[0].x):lE(r):(r=h.length,function(p){for(var g=0,f;g<r;++g)d[(f=h[g]).i]=f.x(p);return d.join("")})}function rs(e,r){var i=typeof r,l;return r==null||i==="boolean"?Ld(r):(i==="number"?Yn:i==="string"?(l=mi(r))?(r=l,Gl):s0:r instanceof mi?Gl:r instanceof Date?oE:rE(r)?nE:Array.isArray(r)?iE:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?sE:Yn)(e,r)}var Bp=180/Math.PI,md={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function l0(e,r,i,l,s,u){var a,d,h;return(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a),(h=e*i+r*l)&&(i-=e*h,l-=r*h),(d=Math.sqrt(i*i+l*l))&&(i/=d,l/=d,h/=d),e*l<r*i&&(e=-e,r=-r,h=-h,a=-a),{translateX:s,translateY:u,rotate:Math.atan2(r,e)*Bp,skewX:Math.atan(h)*Bp,scaleX:a,scaleY:d}}var Rl;function uE(e){const r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?md:l0(r.a,r.b,r.c,r.d,r.e,r.f)}function cE(e){return e==null||(Rl||(Rl=document.createElementNS("http://www.w3.org/2000/svg","g")),Rl.setAttribute("transform",e),!(e=Rl.transform.baseVal.consolidate()))?md:(e=e.matrix,l0(e.a,e.b,e.c,e.d,e.e,e.f))}function a0(e,r,i,l){function s(p){return p.length?p.pop()+" ":""}function u(p,g,f,m,v,w){if(p!==f||g!==m){var E=v.push("translate(",null,r,null,i);w.push({i:E-4,x:Yn(p,f)},{i:E-2,x:Yn(g,m)})}else(f||m)&&v.push("translate("+f+r+m+i)}function a(p,g,f,m){p!==g?(p-g>180?g+=360:g-p>180&&(p+=360),m.push({i:f.push(s(f)+"rotate(",null,l)-2,x:Yn(p,g)})):g&&f.push(s(f)+"rotate("+g+l)}function d(p,g,f,m){p!==g?m.push({i:f.push(s(f)+"skewX(",null,l)-2,x:Yn(p,g)}):g&&f.push(s(f)+"skewX("+g+l)}function h(p,g,f,m,v,w){if(p!==f||g!==m){var E=v.push(s(v)+"scale(",null,",",null,")");w.push({i:E-4,x:Yn(p,f)},{i:E-2,x:Yn(g,m)})}else(f!==1||m!==1)&&v.push(s(v)+"scale("+f+","+m+")")}return function(p,g){var f=[],m=[];return p=e(p),g=e(g),u(p.translateX,p.translateY,g.translateX,g.translateY,f,m),a(p.rotate,g.rotate,f,m),d(p.skewX,g.skewX,f,m),h(p.scaleX,p.scaleY,g.scaleX,g.scaleY,f,m),p=g=null,function(v){for(var w=-1,E=m.length,_;++w<E;)f[(_=m[w]).i]=_.x(v);return f.join("")}}}var dE=a0(uE,"px, ","px)","deg)"),fE=a0(cE,", ",")",")"),hE=1e-12;function Fp(e){return((e=Math.exp(e))+1/e)/2}function pE(e){return((e=Math.exp(e))-1/e)/2}function gE(e){return((e=Math.exp(2*e))-1)/(e+1)}const jl=(function e(r,i,l){function s(u,a){var d=u[0],h=u[1],p=u[2],g=a[0],f=a[1],m=a[2],v=g-d,w=f-h,E=v*v+w*w,_,k;if(E<hE)k=Math.log(m/p)/r,_=function(D){return[d+D*v,h+D*w,p*Math.exp(r*D*k)]};else{var S=Math.sqrt(E),b=(m*m-p*p+l*E)/(2*p*i*S),C=(m*m-p*p-l*E)/(2*m*i*S),A=Math.log(Math.sqrt(b*b+1)-b),T=Math.log(Math.sqrt(C*C+1)-C);k=(T-A)/r,_=function(D){var R=D*k,O=Fp(A),G=p/(i*S)*(O*gE(r*R+A)-pE(A));return[d+G*v,h+G*w,p*O/Fp(r*R+A)]}}return _.duration=k*1e3*r/Math.SQRT2,_}return s.rho=function(u){var a=Math.max(.001,+u),d=a*a,h=d*d;return e(a,d,h)},s})(Math.SQRT2,2,4);var io=0,es=0,Xo=0,u0=1e3,ql,ts,Yl=0,yi=0,aa=0,us=typeof performance=="object"&&performance.now?performance:Date,c0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Od(){return yi||(c0(mE),yi=us.now()+aa)}function mE(){yi=0}function Xl(){this._call=this._time=this._next=null}Xl.prototype=d0.prototype={constructor:Xl,restart:function(e,r,i){if(typeof e!="function")throw new TypeError("callback is not a function");i=(i==null?Od():+i)+(r==null?0:+r),!this._next&&ts!==this&&(ts?ts._next=this:ql=this,ts=this),this._call=e,this._time=i,yd()},stop:function(){this._call&&(this._call=null,this._time=1/0,yd())}};function d0(e,r,i){var l=new Xl;return l.restart(e,r,i),l}function yE(){Od(),++io;for(var e=ql,r;e;)(r=yi-e._time)>=0&&e._call.call(void 0,r),e=e._next;--io}function Hp(){yi=(Yl=us.now())+aa,io=es=0;try{yE()}finally{io=0,xE(),yi=0}}function vE(){var e=us.now(),r=e-Yl;r>u0&&(aa-=r,Yl=e)}function xE(){for(var e,r=ql,i,l=1/0;r;)r._call?(l>r._time&&(l=r._time),e=r,r=r._next):(i=r._next,r._next=null,r=e?e._next=i:ql=i);ts=e,yd(l)}function yd(e){if(!io){es&&(es=clearTimeout(es));var r=e-yi;r>24?(e<1/0&&(es=setTimeout(Hp,e-us.now()-aa)),Xo&&(Xo=clearInterval(Xo))):(Xo||(Yl=us.now(),Xo=setInterval(vE,u0)),io=1,c0(Hp))}}function Up(e,r,i){var l=new Xl;return r=r==null?0:+r,l.restart(s=>{l.stop(),e(s+r)},r,i),l}var wE=sa("start","end","cancel","interrupt"),EE=[],f0=0,Vp=1,vd=2,Bl=3,Wp=4,xd=5,Fl=6;function ua(e,r,i,l,s,u){var a=e.__transition;if(!a)e.__transition={};else if(i in a)return;_E(e,i,{name:r,index:l,group:s,on:wE,tween:EE,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:f0})}function Pd(e,r){var i=zn(e,r);if(i.state>f0)throw new Error("too late; already scheduled");return i}function Qn(e,r){var i=zn(e,r);if(i.state>Bl)throw new Error("too late; already running");return i}function zn(e,r){var i=e.__transition;if(!i||!(i=i[r]))throw new Error("transition not found");return i}function _E(e,r,i){var l=e.__transition,s;l[r]=i,i.timer=d0(u,0,i.time);function u(p){i.state=Vp,i.timer.restart(a,i.delay,i.time),i.delay<=p&&a(p-i.delay)}function a(p){var g,f,m,v;if(i.state!==Vp)return h();for(g in l)if(v=l[g],v.name===i.name){if(v.state===Bl)return Up(a);v.state===Wp?(v.state=Fl,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete l[g]):+g<r&&(v.state=Fl,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete l[g])}if(Up(function(){i.state===Bl&&(i.state=Wp,i.timer.restart(d,i.delay,i.time),d(p))}),i.state=vd,i.on.call("start",e,e.__data__,i.index,i.group),i.state===vd){for(i.state=Bl,s=new Array(m=i.tween.length),g=0,f=-1;g<m;++g)(v=i.tween[g].value.call(e,e.__data__,i.index,i.group))&&(s[++f]=v);s.length=f+1}}function d(p){for(var g=p<i.duration?i.ease.call(null,p/i.duration):(i.timer.restart(h),i.state=xd,1),f=-1,m=s.length;++f<m;)s[f].call(e,g);i.state===xd&&(i.on.call("end",e,e.__data__,i.index,i.group),h())}function h(){i.state=Fl,i.timer.stop(),delete l[r];for(var p in l)return;delete e.__transition}}function Hl(e,r){var i=e.__transition,l,s,u=!0,a;if(i){r=r==null?null:r+"";for(a in i){if((l=i[a]).name!==r){u=!1;continue}s=l.state>vd&&l.state<xd,l.state=Fl,l.timer.stop(),l.on.call(s?"interrupt":"cancel",e,e.__data__,l.index,l.group),delete i[a]}u&&delete e.__transition}}function bE(e){return this.each(function(){Hl(this,e)})}function kE(e,r){var i,l;return function(){var s=Qn(this,e),u=s.tween;if(u!==i){l=i=u;for(var a=0,d=l.length;a<d;++a)if(l[a].name===r){l=l.slice(),l.splice(a,1);break}}s.tween=l}}function SE(e,r,i){var l,s;if(typeof i!="function")throw new Error;return function(){var u=Qn(this,e),a=u.tween;if(a!==l){s=(l=a).slice();for(var d={name:r,value:i},h=0,p=s.length;h<p;++h)if(s[h].name===r){s[h]=d;break}h===p&&s.push(d)}u.tween=s}}function NE(e,r){var i=this._id;if(e+="",arguments.length<2){for(var l=zn(this.node(),i).tween,s=0,u=l.length,a;s<u;++s)if((a=l[s]).name===e)return a.value;return null}return this.each((r==null?kE:SE)(i,e,r))}function zd(e,r,i){var l=e._id;return e.each(function(){var s=Qn(this,l);(s.value||(s.value={}))[r]=i.apply(this,arguments)}),function(s){return zn(s,l).value[r]}}function h0(e,r){var i;return(typeof r=="number"?Yn:r instanceof mi?Gl:(i=mi(r))?(r=i,Gl):s0)(e,r)}function CE(e){return function(){this.removeAttribute(e)}}function RE(e){return function(){this.removeAttributeNS(e.space,e.local)}}function TE(e,r,i){var l,s=i+"",u;return function(){var a=this.getAttribute(e);return a===s?null:a===l?u:u=r(l=a,i)}}function ME(e,r,i){var l,s=i+"",u;return function(){var a=this.getAttributeNS(e.space,e.local);return a===s?null:a===l?u:u=r(l=a,i)}}function AE(e,r,i){var l,s,u;return function(){var a,d=i(this),h;return d==null?void this.removeAttribute(e):(a=this.getAttribute(e),h=d+"",a===h?null:a===l&&h===s?u:(s=h,u=r(l=a,d)))}}function IE(e,r,i){var l,s,u;return function(){var a,d=i(this),h;return d==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),h=d+"",a===h?null:a===l&&h===s?u:(s=h,u=r(l=a,d)))}}function LE(e,r){var i=la(e),l=i==="transform"?fE:h0;return this.attrTween(e,typeof r=="function"?(i.local?IE:AE)(i,l,zd(this,"attr."+e,r)):r==null?(i.local?RE:CE)(i):(i.local?ME:TE)(i,l,r))}function OE(e,r){return function(i){this.setAttribute(e,r.call(this,i))}}function PE(e,r){return function(i){this.setAttributeNS(e.space,e.local,r.call(this,i))}}function zE(e,r){var i,l;function s(){var u=r.apply(this,arguments);return u!==l&&(i=(l=u)&&PE(e,u)),i}return s._value=r,s}function DE(e,r){var i,l;function s(){var u=r.apply(this,arguments);return u!==l&&(i=(l=u)&&OE(e,u)),i}return s._value=r,s}function $E(e,r){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(r==null)return this.tween(i,null);if(typeof r!="function")throw new Error;var l=la(e);return this.tween(i,(l.local?zE:DE)(l,r))}function jE(e,r){return function(){Pd(this,e).delay=+r.apply(this,arguments)}}function BE(e,r){return r=+r,function(){Pd(this,e).delay=r}}function FE(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?jE:BE)(r,e)):zn(this.node(),r).delay}function HE(e,r){return function(){Qn(this,e).duration=+r.apply(this,arguments)}}function UE(e,r){return r=+r,function(){Qn(this,e).duration=r}}function VE(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?HE:UE)(r,e)):zn(this.node(),r).duration}function WE(e,r){if(typeof r!="function")throw new Error;return function(){Qn(this,e).ease=r}}function GE(e){var r=this._id;return arguments.length?this.each(WE(r,e)):zn(this.node(),r).ease}function qE(e,r){return function(){var i=r.apply(this,arguments);if(typeof i!="function")throw new Error;Qn(this,e).ease=i}}function YE(e){if(typeof e!="function")throw new Error;return this.each(qE(this._id,e))}function XE(e){typeof e!="function"&&(e=Vm(e));for(var r=this._groups,i=r.length,l=new Array(i),s=0;s<i;++s)for(var u=r[s],a=u.length,d=l[s]=[],h,p=0;p<a;++p)(h=u[p])&&e.call(h,h.__data__,p,u)&&d.push(h);return new gr(l,this._parents,this._name,this._id)}function KE(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,i=e._groups,l=r.length,s=i.length,u=Math.min(l,s),a=new Array(l),d=0;d<u;++d)for(var h=r[d],p=i[d],g=h.length,f=a[d]=new Array(g),m,v=0;v<g;++v)(m=h[v]||p[v])&&(f[v]=m);for(;d<l;++d)a[d]=r[d];return new gr(a,this._parents,this._name,this._id)}function QE(e){return(e+"").trim().split(/^|\s+/).every(function(r){var i=r.indexOf(".");return i>=0&&(r=r.slice(0,i)),!r||r==="start"})}function ZE(e,r,i){var l,s,u=QE(r)?Pd:Qn;return function(){var a=u(this,e),d=a.on;d!==l&&(s=(l=d).copy()).on(r,i),a.on=s}}function JE(e,r){var i=this._id;return arguments.length<2?zn(this.node(),i).on.on(e):this.each(ZE(i,e,r))}function e_(e){return function(){var r=this.parentNode;for(var i in this.__transition)if(+i!==e)return;r&&r.removeChild(this)}}function t_(){return this.on("end.remove",e_(this._id))}function n_(e){var r=this._name,i=this._id;typeof e!="function"&&(e=Md(e));for(var l=this._groups,s=l.length,u=new Array(s),a=0;a<s;++a)for(var d=l[a],h=d.length,p=u[a]=new Array(h),g,f,m=0;m<h;++m)(g=d[m])&&(f=e.call(g,g.__data__,m,d))&&("__data__"in g&&(f.__data__=g.__data__),p[m]=f,ua(p[m],r,i,m,p,zn(g,i)));return new gr(u,this._parents,r,i)}function r_(e){var r=this._name,i=this._id;typeof e!="function"&&(e=Um(e));for(var l=this._groups,s=l.length,u=[],a=[],d=0;d<s;++d)for(var h=l[d],p=h.length,g,f=0;f<p;++f)if(g=h[f]){for(var m=e.call(g,g.__data__,f,h),v,w=zn(g,i),E=0,_=m.length;E<_;++E)(v=m[E])&&ua(v,r,i,E,m,w);u.push(m),a.push(g)}return new gr(u,a,r,i)}var i_=ms.prototype.constructor;function o_(){return new i_(this._groups,this._parents)}function s_(e,r){var i,l,s;return function(){var u=ro(this,e),a=(this.style.removeProperty(e),ro(this,e));return u===a?null:u===i&&a===l?s:s=r(i=u,l=a)}}function p0(e){return function(){this.style.removeProperty(e)}}function l_(e,r,i){var l,s=i+"",u;return function(){var a=ro(this,e);return a===s?null:a===l?u:u=r(l=a,i)}}function a_(e,r,i){var l,s,u;return function(){var a=ro(this,e),d=i(this),h=d+"";return d==null&&(h=d=(this.style.removeProperty(e),ro(this,e))),a===h?null:a===l&&h===s?u:(s=h,u=r(l=a,d))}}function u_(e,r){var i,l,s,u="style."+r,a="end."+u,d;return function(){var h=Qn(this,e),p=h.on,g=h.value[u]==null?d||(d=p0(r)):void 0;(p!==i||s!==g)&&(l=(i=p).copy()).on(a,s=g),h.on=l}}function c_(e,r,i){var l=(e+="")=="transform"?dE:h0;return r==null?this.styleTween(e,s_(e,l)).on("end.style."+e,p0(e)):typeof r=="function"?this.styleTween(e,a_(e,l,zd(this,"style."+e,r))).each(u_(this._id,e)):this.styleTween(e,l_(e,l,r),i).on("end.style."+e,null)}function d_(e,r,i){return function(l){this.style.setProperty(e,r.call(this,l),i)}}function f_(e,r,i){var l,s;function u(){var a=r.apply(this,arguments);return a!==s&&(l=(s=a)&&d_(e,a,i)),l}return u._value=r,u}function h_(e,r,i){var l="style."+(e+="");if(arguments.length<2)return(l=this.tween(l))&&l._value;if(r==null)return this.tween(l,null);if(typeof r!="function")throw new Error;return this.tween(l,f_(e,r,i??""))}function p_(e){return function(){this.textContent=e}}function g_(e){return function(){var r=e(this);this.textContent=r??""}}function m_(e){return this.tween("text",typeof e=="function"?g_(zd(this,"text",e)):p_(e==null?"":e+""))}function y_(e){return function(r){this.textContent=e.call(this,r)}}function v_(e){var r,i;function l(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&y_(s)),r}return l._value=e,l}function x_(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,v_(e))}function w_(){for(var e=this._name,r=this._id,i=g0(),l=this._groups,s=l.length,u=0;u<s;++u)for(var a=l[u],d=a.length,h,p=0;p<d;++p)if(h=a[p]){var g=zn(h,r);ua(h,e,i,p,a,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new gr(l,this._parents,e,i)}function E_(){var e,r,i=this,l=i._id,s=i.size();return new Promise(function(u,a){var d={value:a},h={value:function(){--s===0&&u()}};i.each(function(){var p=Qn(this,l),g=p.on;g!==e&&(r=(e=g).copy(),r._.cancel.push(d),r._.interrupt.push(d),r._.end.push(h)),p.on=r}),s===0&&u()})}var __=0;function gr(e,r,i,l){this._groups=e,this._parents=r,this._name=i,this._id=l}function g0(){return++__}var fr=ms.prototype;gr.prototype={constructor:gr,select:n_,selectAll:r_,selectChild:fr.selectChild,selectChildren:fr.selectChildren,filter:XE,merge:KE,selection:o_,transition:w_,call:fr.call,nodes:fr.nodes,node:fr.node,size:fr.size,empty:fr.empty,each:fr.each,on:JE,attr:LE,attrTween:$E,style:c_,styleTween:h_,text:m_,textTween:x_,remove:t_,tween:NE,delay:FE,duration:VE,ease:GE,easeVarying:YE,end:E_,[Symbol.iterator]:fr[Symbol.iterator]};function b_(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var k_={time:null,delay:0,duration:250,ease:b_};function S_(e,r){for(var i;!(i=e.__transition)||!(i=i[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return i}function N_(e){var r,i;e instanceof gr?(r=e._id,e=e._name):(r=g0(),(i=k_).time=Od(),e=e==null?null:e+"");for(var l=this._groups,s=l.length,u=0;u<s;++u)for(var a=l[u],d=a.length,h,p=0;p<d;++p)(h=a[p])&&ua(h,e,r,p,a,i||S_(h,r));return new gr(l,this._parents,e,r)}ms.prototype.interrupt=bE;ms.prototype.transition=N_;const Tl=e=>()=>e;function C_(e,{sourceEvent:r,target:i,transform:l,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:l,enumerable:!0,configurable:!0},_:{value:s}})}function pr(e,r,i){this.k=e,this.x=r,this.y=i}pr.prototype={constructor:pr,scale:function(e){return e===1?this:new pr(this.k*e,this.x,this.y)},translate:function(e,r){return e===0&r===0?this:new pr(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ca=new pr(1,0,0);m0.prototype=pr.prototype;function m0(e){for(;!e.__zoom;)if(!(e=e.parentNode))return ca;return e.__zoom}function oc(e){e.stopImmediatePropagation()}function Ko(e){e.preventDefault(),e.stopImmediatePropagation()}function R_(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function T_(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Gp(){return this.__zoom||ca}function M_(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function A_(){return navigator.maxTouchPoints||"ontouchstart"in this}function I_(e,r,i){var l=e.invertX(r[0][0])-i[0][0],s=e.invertX(r[1][0])-i[1][0],u=e.invertY(r[0][1])-i[0][1],a=e.invertY(r[1][1])-i[1][1];return e.translate(s>l?(l+s)/2:Math.min(0,l)||Math.max(0,s),a>u?(u+a)/2:Math.min(0,u)||Math.max(0,a))}function y0(){var e=R_,r=T_,i=I_,l=M_,s=A_,u=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],d=250,h=jl,p=sa("start","zoom","end"),g,f,m,v=500,w=150,E=0,_=10;function k(P){P.property("__zoom",Gp).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",G).filter(s).on("touchstart.zoom",z).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",ee).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}k.transform=function(P,J,F,X){var I=P.selection?P.selection():P;I.property("__zoom",Gp),P!==I?A(P,J,F,X):I.interrupt().each(function(){T(this,arguments).event(X).start().zoom(null,typeof J=="function"?J.apply(this,arguments):J).end()})},k.scaleBy=function(P,J,F,X){k.scaleTo(P,function(){var I=this.__zoom.k,$=typeof J=="function"?J.apply(this,arguments):J;return I*$},F,X)},k.scaleTo=function(P,J,F,X){k.transform(P,function(){var I=r.apply(this,arguments),$=this.__zoom,H=F==null?C(I):typeof F=="function"?F.apply(this,arguments):F,L=$.invert(H),V=typeof J=="function"?J.apply(this,arguments):J;return i(b(S($,V),H,L),I,a)},F,X)},k.translateBy=function(P,J,F,X){k.transform(P,function(){return i(this.__zoom.translate(typeof J=="function"?J.apply(this,arguments):J,typeof F=="function"?F.apply(this,arguments):F),r.apply(this,arguments),a)},null,X)},k.translateTo=function(P,J,F,X,I){k.transform(P,function(){var $=r.apply(this,arguments),H=this.__zoom,L=X==null?C($):typeof X=="function"?X.apply(this,arguments):X;return i(ca.translate(L[0],L[1]).scale(H.k).translate(typeof J=="function"?-J.apply(this,arguments):-J,typeof F=="function"?-F.apply(this,arguments):-F),$,a)},X,I)};function S(P,J){return J=Math.max(u[0],Math.min(u[1],J)),J===P.k?P:new pr(J,P.x,P.y)}function b(P,J,F){var X=J[0]-F[0]*P.k,I=J[1]-F[1]*P.k;return X===P.x&&I===P.y?P:new pr(P.k,X,I)}function C(P){return[(+P[0][0]+ +P[1][0])/2,(+P[0][1]+ +P[1][1])/2]}function A(P,J,F,X){P.on("start.zoom",function(){T(this,arguments).event(X).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(X).end()}).tween("zoom",function(){var I=this,$=arguments,H=T(I,$).event(X),L=r.apply(I,$),V=F==null?C(L):typeof F=="function"?F.apply(I,$):F,U=Math.max(L[1][0]-L[0][0],L[1][1]-L[0][1]),q=I.__zoom,Q=typeof J=="function"?J.apply(I,$):J,re=h(q.invert(V).concat(U/q.k),Q.invert(V).concat(U/Q.k));return function(ae){if(ae===1)ae=Q;else{var oe=re(ae),se=U/oe[2];ae=new pr(se,V[0]-oe[0]*se,V[1]-oe[1]*se)}H.zoom(null,ae)}})}function T(P,J,F){return!F&&P.__zooming||new D(P,J)}function D(P,J){this.that=P,this.args=J,this.active=0,this.sourceEvent=null,this.extent=r.apply(P,J),this.taps=0}D.prototype={event:function(P){return P&&(this.sourceEvent=P),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(P,J){return this.mouse&&P!=="mouse"&&(this.mouse[1]=J.invert(this.mouse[0])),this.touch0&&P!=="touch"&&(this.touch0[1]=J.invert(this.touch0[0])),this.touch1&&P!=="touch"&&(this.touch1[1]=J.invert(this.touch1[0])),this.that.__zoom=J,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(P){var J=ln(this.that).datum();p.call(P,this.that,new C_(P,{sourceEvent:this.sourceEvent,target:k,transform:this.that.__zoom,dispatch:p}),J)}};function R(P,...J){if(!e.apply(this,arguments))return;var F=T(this,J).event(P),X=this.__zoom,I=Math.max(u[0],Math.min(u[1],X.k*Math.pow(2,l.apply(this,arguments)))),$=Tn(P);if(F.wheel)(F.mouse[0][0]!==$[0]||F.mouse[0][1]!==$[1])&&(F.mouse[1]=X.invert(F.mouse[0]=$)),clearTimeout(F.wheel);else{if(X.k===I)return;F.mouse=[$,X.invert($)],Hl(this),F.start()}Ko(P),F.wheel=setTimeout(H,w),F.zoom("mouse",i(b(S(X,I),F.mouse[0],F.mouse[1]),F.extent,a));function H(){F.wheel=null,F.end()}}function O(P,...J){if(m||!e.apply(this,arguments))return;var F=P.currentTarget,X=T(this,J,!0).event(P),I=ln(P.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",U,!0),$=Tn(P,F),H=P.clientX,L=P.clientY;e0(P.view),oc(P),X.mouse=[$,this.__zoom.invert($)],Hl(this),X.start();function V(q){if(Ko(q),!X.moved){var Q=q.clientX-H,re=q.clientY-L;X.moved=Q*Q+re*re>E}X.event(q).zoom("mouse",i(b(X.that.__zoom,X.mouse[0]=Tn(q,F),X.mouse[1]),X.extent,a))}function U(q){I.on("mousemove.zoom mouseup.zoom",null),t0(q.view,X.moved),Ko(q),X.event(q).end()}}function G(P,...J){if(e.apply(this,arguments)){var F=this.__zoom,X=Tn(P.changedTouches?P.changedTouches[0]:P,this),I=F.invert(X),$=F.k*(P.shiftKey?.5:2),H=i(b(S(F,$),X,I),r.apply(this,J),a);Ko(P),d>0?ln(this).transition().duration(d).call(A,H,X,P):ln(this).call(k.transform,H,X,P)}}function z(P,...J){if(e.apply(this,arguments)){var F=P.touches,X=F.length,I=T(this,J,P.changedTouches.length===X).event(P),$,H,L,V;for(oc(P),H=0;H<X;++H)L=F[H],V=Tn(L,this),V=[V,this.__zoom.invert(V),L.identifier],I.touch0?!I.touch1&&I.touch0[2]!==V[2]&&(I.touch1=V,I.taps=0):(I.touch0=V,$=!0,I.taps=1+!!g);g&&(g=clearTimeout(g)),$&&(I.taps<2&&(f=V[0],g=setTimeout(function(){g=null},v)),Hl(this),I.start())}}function j(P,...J){if(this.__zooming){var F=T(this,J).event(P),X=P.changedTouches,I=X.length,$,H,L,V;for(Ko(P),$=0;$<I;++$)H=X[$],L=Tn(H,this),F.touch0&&F.touch0[2]===H.identifier?F.touch0[0]=L:F.touch1&&F.touch1[2]===H.identifier&&(F.touch1[0]=L);if(H=F.that.__zoom,F.touch1){var U=F.touch0[0],q=F.touch0[1],Q=F.touch1[0],re=F.touch1[1],ae=(ae=Q[0]-U[0])*ae+(ae=Q[1]-U[1])*ae,oe=(oe=re[0]-q[0])*oe+(oe=re[1]-q[1])*oe;H=S(H,Math.sqrt(ae/oe)),L=[(U[0]+Q[0])/2,(U[1]+Q[1])/2],V=[(q[0]+re[0])/2,(q[1]+re[1])/2]}else if(F.touch0)L=F.touch0[0],V=F.touch0[1];else return;F.zoom("touch",i(b(H,L,V),F.extent,a))}}function ee(P,...J){if(this.__zooming){var F=T(this,J).event(P),X=P.changedTouches,I=X.length,$,H;for(oc(P),m&&clearTimeout(m),m=setTimeout(function(){m=null},v),$=0;$<I;++$)H=X[$],F.touch0&&F.touch0[2]===H.identifier?delete F.touch0:F.touch1&&F.touch1[2]===H.identifier&&delete F.touch1;if(F.touch1&&!F.touch0&&(F.touch0=F.touch1,delete F.touch1),F.touch0)F.touch0[1]=this.__zoom.invert(F.touch0[0]);else if(F.end(),F.taps===2&&(H=Tn(H,this),Math.hypot(f[0]-H[0],f[1]-H[1])<_)){var L=ln(this).on("dblclick.zoom");L&&L.apply(this,arguments)}}}return k.wheelDelta=function(P){return arguments.length?(l=typeof P=="function"?P:Tl(+P),k):l},k.filter=function(P){return arguments.length?(e=typeof P=="function"?P:Tl(!!P),k):e},k.touchable=function(P){return arguments.length?(s=typeof P=="function"?P:Tl(!!P),k):s},k.extent=function(P){return arguments.length?(r=typeof P=="function"?P:Tl([[+P[0][0],+P[0][1]],[+P[1][0],+P[1][1]]]),k):r},k.scaleExtent=function(P){return arguments.length?(u[0]=+P[0],u[1]=+P[1],k):[u[0],u[1]]},k.translateExtent=function(P){return arguments.length?(a[0][0]=+P[0][0],a[1][0]=+P[1][0],a[0][1]=+P[0][1],a[1][1]=+P[1][1],k):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},k.constrain=function(P){return arguments.length?(i=P,k):i},k.duration=function(P){return arguments.length?(d=+P,k):d},k.interpolate=function(P){return arguments.length?(h=P,k):h},k.on=function(){var P=p.on.apply(p,arguments);return P===p?k:P},k.clickDistance=function(P){return arguments.length?(E=(P=+P)*P,k):Math.sqrt(E)},k.tapDistance=function(P){return arguments.length?(_=+P,k):_},k}const Kn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:r,sourceHandle:i,targetHandle:l})=>`Couldn't create edge for ${e} handle id: "${e==="source"?i:l}", edge id: ${r}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},cs=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],v0=["Enter"," ","Escape"],x0={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:r,y:i})=>`Moved selected node ${e}. New position, x: ${r}, y: ${i}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var oo;(function(e){e.Strict="strict",e.Loose="loose"})(oo||(oo={}));var gi;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(gi||(gi={}));var ds;(function(e){e.Partial="partial",e.Full="full"})(ds||(ds={}));const w0={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Hr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Hr||(Hr={}));var Kl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Kl||(Kl={}));var Re;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Re||(Re={}));const qp={[Re.Left]:Re.Right,[Re.Right]:Re.Left,[Re.Top]:Re.Bottom,[Re.Bottom]:Re.Top};function E0(e){return e===null?null:e?"valid":"invalid"}const _0=e=>"id"in e&&"source"in e&&"target"in e,L_=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Dd=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),vs=(e,r=[0,0])=>{const{width:i,height:l}=mr(e),s=e.origin??r,u=i*s[0],a=l*s[1];return{x:e.position.x-u,y:e.position.y-a}},O_=(e,r={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const i=e.reduce((l,s)=>{const u=typeof s=="string";let a=!r.nodeLookup&&!u?s:void 0;r.nodeLookup&&(a=u?r.nodeLookup.get(s):Dd(s)?s:r.nodeLookup.get(s.id));const d=a?Ql(a,r.nodeOrigin):{x:0,y:0,x2:0,y2:0};return da(l,d)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return fa(i)},xs=(e,r={})=>{let i={x:1/0,y:1/0,x2:-1/0,y2:-1/0},l=!1;return e.forEach(s=>{(r.filter===void 0||r.filter(s))&&(i=da(i,Ql(s)),l=!0)}),l?fa(i):{x:0,y:0,width:0,height:0}},$d=(e,r,[i,l,s]=[0,0,1],u=!1,a=!1)=>{const d={...Es(r,[i,l,s]),width:r.width/s,height:r.height/s},h=[];for(const p of e.values()){const{measured:g,selectable:f=!0,hidden:m=!1}=p;if(a&&!f||m)continue;const v=g.width??p.width??p.initialWidth??null,w=g.height??p.height??p.initialHeight??null,E=fs(d,lo(p)),_=(v??0)*(w??0),k=u&&E>0;(!p.internals.handleBounds||k||E>=_||p.dragging)&&h.push(p)}return h},P_=(e,r)=>{const i=new Set;return e.forEach(l=>{i.add(l.id)}),r.filter(l=>i.has(l.source)||i.has(l.target))};function z_(e,r){const i=new Map,l=r!=null&&r.nodes?new Set(r.nodes.map(s=>s.id)):null;return e.forEach(s=>{s.measured.width&&s.measured.height&&((r==null?void 0:r.includeHiddenNodes)||!s.hidden)&&(!l||l.has(s.id))&&i.set(s.id,s)}),i}async function D_({nodes:e,width:r,height:i,panZoom:l,minZoom:s,maxZoom:u},a){if(e.size===0)return Promise.resolve(!0);const d=z_(e,a),h=xs(d),p=jd(h,r,i,(a==null?void 0:a.minZoom)??s,(a==null?void 0:a.maxZoom)??u,(a==null?void 0:a.padding)??.1);return await l.setViewport(p,{duration:a==null?void 0:a.duration,ease:a==null?void 0:a.ease,interpolate:a==null?void 0:a.interpolate}),Promise.resolve(!0)}function b0({nodeId:e,nextPosition:r,nodeLookup:i,nodeOrigin:l=[0,0],nodeExtent:s,onError:u}){const a=i.get(e),d=a.parentId?i.get(a.parentId):void 0,{x:h,y:p}=d?d.internals.positionAbsolute:{x:0,y:0},g=a.origin??l;let f=a.extent||s;if(a.extent==="parent"&&!a.expandParent)if(!d)u==null||u("005",Kn.error005());else{const v=d.measured.width,w=d.measured.height;v&&w&&(f=[[h,p],[h+v,p+w]])}else d&&ao(a.extent)&&(f=[[a.extent[0][0]+h,a.extent[0][1]+p],[a.extent[1][0]+h,a.extent[1][1]+p]]);const m=ao(f)?vi(r,f,a.measured):r;return(a.measured.width===void 0||a.measured.height===void 0)&&(u==null||u("015",Kn.error015())),{position:{x:m.x-h+(a.measured.width??0)*g[0],y:m.y-p+(a.measured.height??0)*g[1]},positionAbsolute:m}}async function $_({nodesToRemove:e=[],edgesToRemove:r=[],nodes:i,edges:l,onBeforeDelete:s}){const u=new Set(e.map(m=>m.id)),a=[];for(const m of i){if(m.deletable===!1)continue;const v=u.has(m.id),w=!v&&m.parentId&&a.find(E=>E.id===m.parentId);(v||w)&&a.push(m)}const d=new Set(r.map(m=>m.id)),h=l.filter(m=>m.deletable!==!1),g=P_(a,h);for(const m of h)d.has(m.id)&&!g.find(w=>w.id===m.id)&&g.push(m);if(!s)return{edges:g,nodes:a};const f=await s({nodes:a,edges:g});return typeof f=="boolean"?f?{edges:g,nodes:a}:{edges:[],nodes:[]}:f}const so=(e,r=0,i=1)=>Math.min(Math.max(e,r),i),vi=(e={x:0,y:0},r,i)=>({x:so(e.x,r[0][0],r[1][0]-((i==null?void 0:i.width)??0)),y:so(e.y,r[0][1],r[1][1]-((i==null?void 0:i.height)??0))});function k0(e,r,i){const{width:l,height:s}=mr(i),{x:u,y:a}=i.internals.positionAbsolute;return vi(e,[[u,a],[u+l,a+s]],r)}const Yp=(e,r,i)=>e<r?so(Math.abs(e-r),1,r)/r:e>i?-so(Math.abs(e-i),1,r)/r:0,S0=(e,r,i=15,l=40)=>{const s=Yp(e.x,l,r.width-l)*i,u=Yp(e.y,l,r.height-l)*i;return[s,u]},da=(e,r)=>({x:Math.min(e.x,r.x),y:Math.min(e.y,r.y),x2:Math.max(e.x2,r.x2),y2:Math.max(e.y2,r.y2)}),wd=({x:e,y:r,width:i,height:l})=>({x:e,y:r,x2:e+i,y2:r+l}),fa=({x:e,y:r,x2:i,y2:l})=>({x:e,y:r,width:i-e,height:l-r}),lo=(e,r=[0,0])=>{var s,u;const{x:i,y:l}=Dd(e)?e.internals.positionAbsolute:vs(e,r);return{x:i,y:l,width:((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0,height:((u=e.measured)==null?void 0:u.height)??e.height??e.initialHeight??0}},Ql=(e,r=[0,0])=>{var s,u;const{x:i,y:l}=Dd(e)?e.internals.positionAbsolute:vs(e,r);return{x:i,y:l,x2:i+(((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0),y2:l+(((u=e.measured)==null?void 0:u.height)??e.height??e.initialHeight??0)}},N0=(e,r)=>fa(da(wd(e),wd(r))),fs=(e,r)=>{const i=Math.max(0,Math.min(e.x+e.width,r.x+r.width)-Math.max(e.x,r.x)),l=Math.max(0,Math.min(e.y+e.height,r.y+r.height)-Math.max(e.y,r.y));return Math.ceil(i*l)},Xp=e=>Ln(e.width)&&Ln(e.height)&&Ln(e.x)&&Ln(e.y),Ln=e=>!isNaN(e)&&isFinite(e),j_=(e,r)=>{},ws=(e,r=[1,1])=>({x:r[0]*Math.round(e.x/r[0]),y:r[1]*Math.round(e.y/r[1])}),Es=({x:e,y:r},[i,l,s],u=!1,a=[1,1])=>{const d={x:(e-i)/s,y:(r-l)/s};return u?ws(d,a):d},Zl=({x:e,y:r},[i,l,s])=>({x:e*s+i,y:r*s+l});function Zi(e,r){if(typeof e=="number")return Math.floor((r-r/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const i=parseFloat(e);if(!Number.isNaN(i))return Math.floor(i)}if(typeof e=="string"&&e.endsWith("%")){const i=parseFloat(e);if(!Number.isNaN(i))return Math.floor(r*i*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function B_(e,r,i){if(typeof e=="string"||typeof e=="number"){const l=Zi(e,i),s=Zi(e,r);return{top:l,right:s,bottom:l,left:s,x:s*2,y:l*2}}if(typeof e=="object"){const l=Zi(e.top??e.y??0,i),s=Zi(e.bottom??e.y??0,i),u=Zi(e.left??e.x??0,r),a=Zi(e.right??e.x??0,r);return{top:l,right:a,bottom:s,left:u,x:u+a,y:l+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function F_(e,r,i,l,s,u){const{x:a,y:d}=Zl(e,[r,i,l]),{x:h,y:p}=Zl({x:e.x+e.width,y:e.y+e.height},[r,i,l]),g=s-h,f=u-p;return{left:Math.floor(a),top:Math.floor(d),right:Math.floor(g),bottom:Math.floor(f)}}const jd=(e,r,i,l,s,u)=>{const a=B_(u,r,i),d=(r-a.x)/e.width,h=(i-a.y)/e.height,p=Math.min(d,h),g=so(p,l,s),f=e.x+e.width/2,m=e.y+e.height/2,v=r/2-f*g,w=i/2-m*g,E=F_(e,v,w,g,r,i),_={left:Math.min(E.left-a.left,0),top:Math.min(E.top-a.top,0),right:Math.min(E.right-a.right,0),bottom:Math.min(E.bottom-a.bottom,0)};return{x:v-_.left+_.right,y:w-_.top+_.bottom,zoom:g}},hs=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function ao(e){return e!=null&&e!=="parent"}function mr(e){var r,i;return{width:((r=e.measured)==null?void 0:r.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}}function C0(e){var r,i;return(((r=e.measured)==null?void 0:r.width)??e.width??e.initialWidth)!==void 0&&(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight)!==void 0}function R0(e,r={width:0,height:0},i,l,s){const u={...e},a=l.get(i);if(a){const d=a.origin||s;u.x+=a.internals.positionAbsolute.x-(r.width??0)*d[0],u.y+=a.internals.positionAbsolute.y-(r.height??0)*d[1]}return u}function Kp(e,r){if(e.size!==r.size)return!1;for(const i of e)if(!r.has(i))return!1;return!0}function H_(){let e,r;return{promise:new Promise((l,s)=>{e=l,r=s}),resolve:e,reject:r}}function U_(e){return{...x0,...e||{}}}function is(e,{snapGrid:r=[0,0],snapToGrid:i=!1,transform:l,containerBounds:s}){const{x:u,y:a}=On(e),d=Es({x:u-((s==null?void 0:s.left)??0),y:a-((s==null?void 0:s.top)??0)},l),{x:h,y:p}=i?ws(d,r):d;return{xSnapped:h,ySnapped:p,...d}}const Bd=e=>({width:e.offsetWidth,height:e.offsetHeight}),T0=e=>{var r;return((r=e==null?void 0:e.getRootNode)==null?void 0:r.call(e))||(window==null?void 0:window.document)},V_=["INPUT","SELECT","TEXTAREA"];function M0(e){var l,s;const r=((s=(l=e.composedPath)==null?void 0:l.call(e))==null?void 0:s[0])||e.target;return(r==null?void 0:r.nodeType)!==1?!1:V_.includes(r.nodeName)||r.hasAttribute("contenteditable")||!!r.closest(".nokey")}const A0=e=>"clientX"in e,On=(e,r)=>{var u,a;const i=A0(e),l=i?e.clientX:(u=e.touches)==null?void 0:u[0].clientX,s=i?e.clientY:(a=e.touches)==null?void 0:a[0].clientY;return{x:l-((r==null?void 0:r.left)??0),y:s-((r==null?void 0:r.top)??0)}},Qp=(e,r,i,l,s)=>{const u=r.querySelectorAll(`.${e}`);return!u||!u.length?null:Array.from(u).map(a=>{const d=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:e,nodeId:s,position:a.getAttribute("data-handlepos"),x:(d.left-i.left)/l,y:(d.top-i.top)/l,...Bd(a)}})};function I0({sourceX:e,sourceY:r,targetX:i,targetY:l,sourceControlX:s,sourceControlY:u,targetControlX:a,targetControlY:d}){const h=e*.125+s*.375+a*.375+i*.125,p=r*.125+u*.375+d*.375+l*.125,g=Math.abs(h-e),f=Math.abs(p-r);return[h,p,g,f]}function Ml(e,r){return e>=0?.5*e:r*25*Math.sqrt(-e)}function Zp({pos:e,x1:r,y1:i,x2:l,y2:s,c:u}){switch(e){case Re.Left:return[r-Ml(r-l,u),i];case Re.Right:return[r+Ml(l-r,u),i];case Re.Top:return[r,i-Ml(i-s,u)];case Re.Bottom:return[r,i+Ml(s-i,u)]}}function L0({sourceX:e,sourceY:r,sourcePosition:i=Re.Bottom,targetX:l,targetY:s,targetPosition:u=Re.Top,curvature:a=.25}){const[d,h]=Zp({pos:i,x1:e,y1:r,x2:l,y2:s,c:a}),[p,g]=Zp({pos:u,x1:l,y1:s,x2:e,y2:r,c:a}),[f,m,v,w]=I0({sourceX:e,sourceY:r,targetX:l,targetY:s,sourceControlX:d,sourceControlY:h,targetControlX:p,targetControlY:g});return[`M${e},${r} C${d},${h} ${p},${g} ${l},${s}`,f,m,v,w]}function O0({sourceX:e,sourceY:r,targetX:i,targetY:l}){const s=Math.abs(i-e)/2,u=i<e?i+s:i-s,a=Math.abs(l-r)/2,d=l<r?l+a:l-a;return[u,d,s,a]}function W_({sourceNode:e,targetNode:r,selected:i=!1,zIndex:l=0,elevateOnSelect:s=!1,zIndexMode:u="basic"}){if(u==="manual")return l;const a=s&&i?l+1e3:l,d=Math.max(e.parentId||s&&e.selected?e.internals.z:0,r.parentId||s&&r.selected?r.internals.z:0);return a+d}function G_({sourceNode:e,targetNode:r,width:i,height:l,transform:s}){const u=da(Ql(e),Ql(r));u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const a={x:-s[0]/s[2],y:-s[1]/s[2],width:i/s[2],height:l/s[2]};return fs(a,fa(u))>0}const q_=({source:e,sourceHandle:r,target:i,targetHandle:l})=>`xy-edge__${e}${r||""}-${i}${l||""}`,Y_=(e,r)=>r.some(i=>i.source===e.source&&i.target===e.target&&(i.sourceHandle===e.sourceHandle||!i.sourceHandle&&!e.sourceHandle)&&(i.targetHandle===e.targetHandle||!i.targetHandle&&!e.targetHandle)),X_=(e,r,i={})=>{if(!e.source||!e.target)return r;const l=i.getEdgeId||q_;let s;return _0(e)?s={...e}:s={...e,id:l(e)},Y_(s,r)?r:(s.sourceHandle===null&&delete s.sourceHandle,s.targetHandle===null&&delete s.targetHandle,r.concat(s))};function P0({sourceX:e,sourceY:r,targetX:i,targetY:l}){const[s,u,a,d]=O0({sourceX:e,sourceY:r,targetX:i,targetY:l});return[`M ${e},${r}L ${i},${l}`,s,u,a,d]}const Jp={[Re.Left]:{x:-1,y:0},[Re.Right]:{x:1,y:0},[Re.Top]:{x:0,y:-1},[Re.Bottom]:{x:0,y:1}},K_=({source:e,sourcePosition:r=Re.Bottom,target:i})=>r===Re.Left||r===Re.Right?e.x<i.x?{x:1,y:0}:{x:-1,y:0}:e.y<i.y?{x:0,y:1}:{x:0,y:-1},eg=(e,r)=>Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2));function Q_({source:e,sourcePosition:r=Re.Bottom,target:i,targetPosition:l=Re.Top,center:s,offset:u,stepPosition:a}){const d=Jp[r],h=Jp[l],p={x:e.x+d.x*u,y:e.y+d.y*u},g={x:i.x+h.x*u,y:i.y+h.y*u},f=K_({source:p,sourcePosition:r,target:g}),m=f.x!==0?"x":"y",v=f[m];let w=[],E,_;const k={x:0,y:0},S={x:0,y:0},[,,b,C]=O0({sourceX:e.x,sourceY:e.y,targetX:i.x,targetY:i.y});if(d[m]*h[m]===-1){m==="x"?(E=s.x??p.x+(g.x-p.x)*a,_=s.y??(p.y+g.y)/2):(E=s.x??(p.x+g.x)/2,_=s.y??p.y+(g.y-p.y)*a);const T=[{x:E,y:p.y},{x:E,y:g.y}],D=[{x:p.x,y:_},{x:g.x,y:_}];d[m]===v?w=m==="x"?T:D:w=m==="x"?D:T}else{const T=[{x:p.x,y:g.y}],D=[{x:g.x,y:p.y}];if(m==="x"?w=d.x===v?D:T:w=d.y===v?T:D,r===l){const j=Math.abs(e[m]-i[m]);if(j<=u){const ee=Math.min(u-1,u-j);d[m]===v?k[m]=(p[m]>e[m]?-1:1)*ee:S[m]=(g[m]>i[m]?-1:1)*ee}}if(r!==l){const j=m==="x"?"y":"x",ee=d[m]===h[j],P=p[j]>g[j],J=p[j]<g[j];(d[m]===1&&(!ee&&P||ee&&J)||d[m]!==1&&(!ee&&J||ee&&P))&&(w=m==="x"?T:D)}const R={x:p.x+k.x,y:p.y+k.y},O={x:g.x+S.x,y:g.y+S.y},G=Math.max(Math.abs(R.x-w[0].x),Math.abs(O.x-w[0].x)),z=Math.max(Math.abs(R.y-w[0].y),Math.abs(O.y-w[0].y));G>=z?(E=(R.x+O.x)/2,_=w[0].y):(E=w[0].x,_=(R.y+O.y)/2)}return[[e,{x:p.x+k.x,y:p.y+k.y},...w,{x:g.x+S.x,y:g.y+S.y},i],E,_,b,C]}function Z_(e,r,i,l){const s=Math.min(eg(e,r)/2,eg(r,i)/2,l),{x:u,y:a}=r;if(e.x===u&&u===i.x||e.y===a&&a===i.y)return`L${u} ${a}`;if(e.y===a){const p=e.x<i.x?-1:1,g=e.y<i.y?1:-1;return`L ${u+s*p},${a}Q ${u},${a} ${u},${a+s*g}`}const d=e.x<i.x?1:-1,h=e.y<i.y?-1:1;return`L ${u},${a+s*h}Q ${u},${a} ${u+s*d},${a}`}function Ed({sourceX:e,sourceY:r,sourcePosition:i=Re.Bottom,targetX:l,targetY:s,targetPosition:u=Re.Top,borderRadius:a=5,centerX:d,centerY:h,offset:p=20,stepPosition:g=.5}){const[f,m,v,w,E]=Q_({source:{x:e,y:r},sourcePosition:i,target:{x:l,y:s},targetPosition:u,center:{x:d,y:h},offset:p,stepPosition:g});return[f.reduce((k,S,b)=>{let C="";return b>0&&b<f.length-1?C=Z_(f[b-1],S,f[b+1],a):C=`${b===0?"M":"L"}${S.x} ${S.y}`,k+=C,k},""),m,v,w,E]}function tg(e){var r;return e&&!!(e.internals.handleBounds||(r=e.handles)!=null&&r.length)&&!!(e.measured.width||e.width||e.initialWidth)}function J_(e){var f;const{sourceNode:r,targetNode:i}=e;if(!tg(r)||!tg(i))return null;const l=r.internals.handleBounds||ng(r.handles),s=i.internals.handleBounds||ng(i.handles),u=rg((l==null?void 0:l.source)??[],e.sourceHandle),a=rg(e.connectionMode===oo.Strict?(s==null?void 0:s.target)??[]:((s==null?void 0:s.target)??[]).concat((s==null?void 0:s.source)??[]),e.targetHandle);if(!u||!a)return(f=e.onError)==null||f.call(e,"008",Kn.error008(u?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const d=(u==null?void 0:u.position)||Re.Bottom,h=(a==null?void 0:a.position)||Re.Top,p=xi(r,u,d),g=xi(i,a,h);return{sourceX:p.x,sourceY:p.y,targetX:g.x,targetY:g.y,sourcePosition:d,targetPosition:h}}function ng(e){if(!e)return null;const r=[],i=[];for(const l of e)l.width=l.width??1,l.height=l.height??1,l.type==="source"?r.push(l):l.type==="target"&&i.push(l);return{source:r,target:i}}function xi(e,r,i=Re.Left,l=!1){const s=((r==null?void 0:r.x)??0)+e.internals.positionAbsolute.x,u=((r==null?void 0:r.y)??0)+e.internals.positionAbsolute.y,{width:a,height:d}=r??mr(e);if(l)return{x:s+a/2,y:u+d/2};switch((r==null?void 0:r.position)??i){case Re.Top:return{x:s+a/2,y:u};case Re.Right:return{x:s+a,y:u+d/2};case Re.Bottom:return{x:s+a/2,y:u+d};case Re.Left:return{x:s,y:u+d/2}}}function rg(e,r){return e&&(r?e.find(i=>i.id===r):e[0])||null}function _d(e,r){return e?typeof e=="string"?e:`${r?`${r}__`:""}${Object.keys(e).sort().map(l=>`${l}=${e[l]}`).join("&")}`:""}function eb(e,{id:r,defaultColor:i,defaultMarkerStart:l,defaultMarkerEnd:s}){const u=new Set;return e.reduce((a,d)=>([d.markerStart||l,d.markerEnd||s].forEach(h=>{if(h&&typeof h=="object"){const p=_d(h,r);u.has(p)||(a.push({id:p,color:h.color||i,...h}),u.add(p))}}),a),[]).sort((a,d)=>a.id.localeCompare(d.id))}const z0=1e3,tb=10,Fd={nodeOrigin:[0,0],nodeExtent:cs,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},nb={...Fd,checkEquality:!0};function Hd(e,r){const i={...e};for(const l in r)r[l]!==void 0&&(i[l]=r[l]);return i}function rb(e,r,i){const l=Hd(Fd,i);for(const s of e.values())if(s.parentId)Vd(s,e,r,l);else{const u=vs(s,l.nodeOrigin),a=ao(s.extent)?s.extent:l.nodeExtent,d=vi(u,a,mr(s));s.internals.positionAbsolute=d}}function ib(e,r){if(!e.handles)return e.measured?r==null?void 0:r.internals.handleBounds:void 0;const i=[],l=[];for(const s of e.handles){const u={id:s.id,width:s.width??1,height:s.height??1,nodeId:e.id,x:s.x,y:s.y,position:s.position,type:s.type};s.type==="source"?i.push(u):s.type==="target"&&l.push(u)}return{source:i,target:l}}function Ud(e){return e==="manual"}function bd(e,r,i,l={}){var p,g;const s=Hd(nb,l),u={i:0},a=new Map(r),d=s!=null&&s.elevateNodesOnSelect&&!Ud(s.zIndexMode)?z0:0;let h=e.length>0;r.clear(),i.clear();for(const f of e){let m=a.get(f.id);if(s.checkEquality&&f===(m==null?void 0:m.internals.userNode))r.set(f.id,m);else{const v=vs(f,s.nodeOrigin),w=ao(f.extent)?f.extent:s.nodeExtent,E=vi(v,w,mr(f));m={...s.defaults,...f,measured:{width:(p=f.measured)==null?void 0:p.width,height:(g=f.measured)==null?void 0:g.height},internals:{positionAbsolute:E,handleBounds:ib(f,m),z:D0(f,d,s.zIndexMode),userNode:f}},r.set(f.id,m)}(m.measured===void 0||m.measured.width===void 0||m.measured.height===void 0)&&!m.hidden&&(h=!1),f.parentId&&Vd(m,r,i,l,u)}return h}function ob(e,r){if(!e.parentId)return;const i=r.get(e.parentId);i?i.set(e.id,e):r.set(e.parentId,new Map([[e.id,e]]))}function Vd(e,r,i,l,s){const{elevateNodesOnSelect:u,nodeOrigin:a,nodeExtent:d,zIndexMode:h}=Hd(Fd,l),p=e.parentId,g=r.get(p);if(!g){console.warn(`Parent node ${p} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}ob(e,i),s&&!g.parentId&&g.internals.rootParentIndex===void 0&&h==="auto"&&(g.internals.rootParentIndex=++s.i,g.internals.z=g.internals.z+s.i*tb),s&&g.internals.rootParentIndex!==void 0&&(s.i=g.internals.rootParentIndex);const f=u&&!Ud(h)?z0:0,{x:m,y:v,z:w}=sb(e,g,a,d,f,h),{positionAbsolute:E}=e.internals,_=m!==E.x||v!==E.y;(_||w!==e.internals.z)&&r.set(e.id,{...e,internals:{...e.internals,positionAbsolute:_?{x:m,y:v}:E,z:w}})}function D0(e,r,i){const l=Ln(e.zIndex)?e.zIndex:0;return Ud(i)?l:l+(e.selected?r:0)}function sb(e,r,i,l,s,u){const{x:a,y:d}=r.internals.positionAbsolute,h=mr(e),p=vs(e,i),g=ao(e.extent)?vi(p,e.extent,h):p;let f=vi({x:a+g.x,y:d+g.y},l,h);e.extent==="parent"&&(f=k0(f,h,r));const m=D0(e,s,u),v=r.internals.z??0;return{x:f.x,y:f.y,z:v>=m?v+1:m}}function Wd(e,r,i,l=[0,0]){var a;const s=[],u=new Map;for(const d of e){const h=r.get(d.parentId);if(!h)continue;const p=((a=u.get(d.parentId))==null?void 0:a.expandedRect)??lo(h),g=N0(p,d.rect);u.set(d.parentId,{expandedRect:g,parent:h})}return u.size>0&&u.forEach(({expandedRect:d,parent:h},p)=>{var b;const g=h.internals.positionAbsolute,f=mr(h),m=h.origin??l,v=d.x<g.x?Math.round(Math.abs(g.x-d.x)):0,w=d.y<g.y?Math.round(Math.abs(g.y-d.y)):0,E=Math.max(f.width,Math.round(d.width)),_=Math.max(f.height,Math.round(d.height)),k=(E-f.width)*m[0],S=(_-f.height)*m[1];(v>0||w>0||k||S)&&(s.push({id:p,type:"position",position:{x:h.position.x-v+k,y:h.position.y-w+S}}),(b=i.get(p))==null||b.forEach(C=>{e.some(A=>A.id===C.id)||s.push({id:C.id,type:"position",position:{x:C.position.x+v,y:C.position.y+w}})})),(f.width<d.width||f.height<d.height||v||w)&&s.push({id:p,type:"dimensions",setAttributes:!0,dimensions:{width:E+(v?m[0]*v-k:0),height:_+(w?m[1]*w-S:0)}})}),s}function lb(e,r,i,l,s,u,a){const d=l==null?void 0:l.querySelector(".xyflow__viewport");let h=!1;if(!d)return{changes:[],updatedInternals:h};const p=[],g=window.getComputedStyle(d),{m22:f}=new window.DOMMatrixReadOnly(g.transform),m=[];for(const v of e.values()){const w=r.get(v.id);if(!w)continue;if(w.hidden){r.set(w.id,{...w,internals:{...w.internals,handleBounds:void 0}}),h=!0;continue}const E=Bd(v.nodeElement),_=w.measured.width!==E.width||w.measured.height!==E.height;if(!!(E.width&&E.height&&(_||!w.internals.handleBounds||v.force))){const S=v.nodeElement.getBoundingClientRect(),b=ao(w.extent)?w.extent:u;let{positionAbsolute:C}=w.internals;w.parentId&&w.extent==="parent"?C=k0(C,E,r.get(w.parentId)):b&&(C=vi(C,b,E));const A={...w,measured:E,internals:{...w.internals,positionAbsolute:C,handleBounds:{source:Qp("source",v.nodeElement,S,f,w.id),target:Qp("target",v.nodeElement,S,f,w.id)}}};r.set(w.id,A),w.parentId&&Vd(A,r,i,{nodeOrigin:s,zIndexMode:a}),h=!0,_&&(p.push({id:w.id,type:"dimensions",dimensions:E}),w.expandParent&&w.parentId&&m.push({id:w.id,parentId:w.parentId,rect:lo(A,s)}))}}if(m.length>0){const v=Wd(m,r,i,s);p.push(...v)}return{changes:p,updatedInternals:h}}async function ab({delta:e,panZoom:r,transform:i,translateExtent:l,width:s,height:u}){if(!r||!e.x&&!e.y)return Promise.resolve(!1);const a=await r.setViewportConstrained({x:i[0]+e.x,y:i[1]+e.y,zoom:i[2]},[[0,0],[s,u]],l),d=!!a&&(a.x!==i[0]||a.y!==i[1]||a.k!==i[2]);return Promise.resolve(d)}function ig(e,r,i,l,s,u){let a=s;const d=l.get(a)||new Map;l.set(a,d.set(i,r)),a=`${s}-${e}`;const h=l.get(a)||new Map;if(l.set(a,h.set(i,r)),u){a=`${s}-${e}-${u}`;const p=l.get(a)||new Map;l.set(a,p.set(i,r))}}function $0(e,r,i){e.clear(),r.clear();for(const l of i){const{source:s,target:u,sourceHandle:a=null,targetHandle:d=null}=l,h={edgeId:l.id,source:s,target:u,sourceHandle:a,targetHandle:d},p=`${s}-${a}--${u}-${d}`,g=`${u}-${d}--${s}-${a}`;ig("source",h,g,e,s,a),ig("target",h,p,e,u,d),r.set(l.id,l)}}function j0(e,r){if(!e.parentId)return!1;const i=r.get(e.parentId);return i?i.selected?!0:j0(i,r):!1}function og(e,r,i){var s;let l=e;do{if((s=l==null?void 0:l.matches)!=null&&s.call(l,r))return!0;if(l===i)return!1;l=l==null?void 0:l.parentElement}while(l);return!1}function ub(e,r,i,l){const s=new Map;for(const[u,a]of e)if((a.selected||a.id===l)&&(!a.parentId||!j0(a,e))&&(a.draggable||r&&typeof a.draggable>"u")){const d=e.get(u);d&&s.set(u,{id:u,position:d.position||{x:0,y:0},distance:{x:i.x-d.internals.positionAbsolute.x,y:i.y-d.internals.positionAbsolute.y},extent:d.extent,parentId:d.parentId,origin:d.origin,expandParent:d.expandParent,internals:{positionAbsolute:d.internals.positionAbsolute||{x:0,y:0}},measured:{width:d.measured.width??0,height:d.measured.height??0}})}return s}function sc({nodeId:e,dragItems:r,nodeLookup:i,dragging:l=!0}){var a,d,h;const s=[];for(const[p,g]of r){const f=(a=i.get(p))==null?void 0:a.internals.userNode;f&&s.push({...f,position:g.position,dragging:l})}if(!e)return[s[0],s];const u=(d=i.get(e))==null?void 0:d.internals.userNode;return[u?{...u,position:((h=r.get(e))==null?void 0:h.position)||u.position,dragging:l}:s[0],s]}function cb({dragItems:e,snapGrid:r,x:i,y:l}){const s=e.values().next().value;if(!s)return null;const u={x:i-s.distance.x,y:l-s.distance.y},a=ws(u,r);return{x:a.x-u.x,y:a.y-u.y}}function db({onNodeMouseDown:e,getStoreItems:r,onDragStart:i,onDrag:l,onDragStop:s}){let u={x:null,y:null},a=0,d=new Map,h=!1,p={x:0,y:0},g=null,f=!1,m=null,v=!1,w=!1,E=null;function _({noDragClassName:S,handleSelector:b,domNode:C,isSelectable:A,nodeId:T,nodeClickDistance:D=0}){m=ln(C);function R({x:j,y:ee}){const{nodeLookup:P,nodeExtent:J,snapGrid:F,snapToGrid:X,nodeOrigin:I,onNodeDrag:$,onSelectionDrag:H,onError:L,updateNodePositions:V}=r();u={x:j,y:ee};let U=!1;const q=d.size>1,Q=q&&J?wd(xs(d)):null,re=q&&X?cb({dragItems:d,snapGrid:F,x:j,y:ee}):null;for(const[ae,oe]of d){if(!P.has(ae))continue;let se={x:j-oe.distance.x,y:ee-oe.distance.y};X&&(se=re?{x:Math.round(se.x+re.x),y:Math.round(se.y+re.y)}:ws(se,F));let me=null;if(q&&J&&!oe.extent&&Q){const{positionAbsolute:ye}=oe.internals,Le=ye.x-Q.x+J[0][0],We=ye.x+oe.measured.width-Q.x2+J[1][0],Be=ye.y-Q.y+J[0][1],ht=ye.y+oe.measured.height-Q.y2+J[1][1];me=[[Le,Be],[We,ht]]}const{position:Te,positionAbsolute:Ee}=b0({nodeId:ae,nextPosition:se,nodeLookup:P,nodeExtent:me||J,nodeOrigin:I,onError:L});U=U||oe.position.x!==Te.x||oe.position.y!==Te.y,oe.position=Te,oe.internals.positionAbsolute=Ee}if(w=w||U,!!U&&(V(d,!0),E&&(l||$||!T&&H))){const[ae,oe]=sc({nodeId:T,dragItems:d,nodeLookup:P});l==null||l(E,d,ae,oe),$==null||$(E,ae,oe),T||H==null||H(E,oe)}}async function O(){if(!g)return;const{transform:j,panBy:ee,autoPanSpeed:P,autoPanOnNodeDrag:J}=r();if(!J){h=!1,cancelAnimationFrame(a);return}const[F,X]=S0(p,g,P);(F!==0||X!==0)&&(u.x=(u.x??0)-F/j[2],u.y=(u.y??0)-X/j[2],await ee({x:F,y:X})&&R(u)),a=requestAnimationFrame(O)}function G(j){var q;const{nodeLookup:ee,multiSelectionActive:P,nodesDraggable:J,transform:F,snapGrid:X,snapToGrid:I,selectNodesOnDrag:$,onNodeDragStart:H,onSelectionDragStart:L,unselectNodesAndEdges:V}=r();f=!0,(!$||!A)&&!P&&T&&((q=ee.get(T))!=null&&q.selected||V()),A&&$&&T&&(e==null||e(T));const U=is(j.sourceEvent,{transform:F,snapGrid:X,snapToGrid:I,containerBounds:g});if(u=U,d=ub(ee,J,U,T),d.size>0&&(i||H||!T&&L)){const[Q,re]=sc({nodeId:T,dragItems:d,nodeLookup:ee});i==null||i(j.sourceEvent,d,Q,re),H==null||H(j.sourceEvent,Q,re),T||L==null||L(j.sourceEvent,re)}}const z=n0().clickDistance(D).on("start",j=>{const{domNode:ee,nodeDragThreshold:P,transform:J,snapGrid:F,snapToGrid:X}=r();g=(ee==null?void 0:ee.getBoundingClientRect())||null,v=!1,w=!1,E=j.sourceEvent,P===0&&G(j),u=is(j.sourceEvent,{transform:J,snapGrid:F,snapToGrid:X,containerBounds:g}),p=On(j.sourceEvent,g)}).on("drag",j=>{const{autoPanOnNodeDrag:ee,transform:P,snapGrid:J,snapToGrid:F,nodeDragThreshold:X,nodeLookup:I}=r(),$=is(j.sourceEvent,{transform:P,snapGrid:J,snapToGrid:F,containerBounds:g});if(E=j.sourceEvent,(j.sourceEvent.type==="touchmove"&&j.sourceEvent.touches.length>1||T&&!I.has(T))&&(v=!0),!v){if(!h&&ee&&f&&(h=!0,O()),!f){const H=On(j.sourceEvent,g),L=H.x-p.x,V=H.y-p.y;Math.sqrt(L*L+V*V)>X&&G(j)}(u.x!==$.xSnapped||u.y!==$.ySnapped)&&d&&f&&(p=On(j.sourceEvent,g),R($))}}).on("end",j=>{if(!(!f||v)&&(h=!1,f=!1,cancelAnimationFrame(a),d.size>0)){const{nodeLookup:ee,updateNodePositions:P,onNodeDragStop:J,onSelectionDragStop:F}=r();if(w&&(P(d,!1),w=!1),s||J||!T&&F){const[X,I]=sc({nodeId:T,dragItems:d,nodeLookup:ee,dragging:!1});s==null||s(j.sourceEvent,d,X,I),J==null||J(j.sourceEvent,X,I),T||F==null||F(j.sourceEvent,I)}}}).filter(j=>{const ee=j.target;return!j.button&&(!S||!og(ee,`.${S}`,C))&&(!b||og(ee,b,C))});m.call(z)}function k(){m==null||m.on(".drag",null)}return{update:_,destroy:k}}function fb(e,r,i){const l=[],s={x:e.x-i,y:e.y-i,width:i*2,height:i*2};for(const u of r.values())fs(s,lo(u))>0&&l.push(u);return l}const hb=250;function pb(e,r,i,l){var d,h;let s=[],u=1/0;const a=fb(e,i,r+hb);for(const p of a){const g=[...((d=p.internals.handleBounds)==null?void 0:d.source)??[],...((h=p.internals.handleBounds)==null?void 0:h.target)??[]];for(const f of g){if(l.nodeId===f.nodeId&&l.type===f.type&&l.id===f.id)continue;const{x:m,y:v}=xi(p,f,f.position,!0),w=Math.sqrt(Math.pow(m-e.x,2)+Math.pow(v-e.y,2));w>r||(w<u?(s=[{...f,x:m,y:v}],u=w):w===u&&s.push({...f,x:m,y:v}))}}if(!s.length)return null;if(s.length>1){const p=l.type==="source"?"target":"source";return s.find(g=>g.type===p)??s[0]}return s[0]}function B0(e,r,i,l,s,u=!1){var p,g,f;const a=l.get(e);if(!a)return null;const d=s==="strict"?(p=a.internals.handleBounds)==null?void 0:p[r]:[...((g=a.internals.handleBounds)==null?void 0:g.source)??[],...((f=a.internals.handleBounds)==null?void 0:f.target)??[]],h=(i?d==null?void 0:d.find(m=>m.id===i):d==null?void 0:d[0])??null;return h&&u?{...h,...xi(a,h,h.position,!0)}:h}function F0(e,r){return e||(r!=null&&r.classList.contains("target")?"target":r!=null&&r.classList.contains("source")?"source":null)}function gb(e,r){let i=null;return r?i=!0:e&&!r&&(i=!1),i}const H0=()=>!0;function mb(e,{connectionMode:r,connectionRadius:i,handleId:l,nodeId:s,edgeUpdaterType:u,isTarget:a,domNode:d,nodeLookup:h,lib:p,autoPanOnConnect:g,flowId:f,panBy:m,cancelConnection:v,onConnectStart:w,onConnect:E,onConnectEnd:_,isValidConnection:k=H0,onReconnectEnd:S,updateConnection:b,getTransform:C,getFromHandle:A,autoPanSpeed:T,dragThreshold:D=1,handleDomNode:R}){const O=T0(e.target);let G=0,z;const{x:j,y:ee}=On(e),P=F0(u,R),J=d==null?void 0:d.getBoundingClientRect();let F=!1;if(!J||!P)return;const X=B0(s,P,l,h,r);if(!X)return;let I=On(e,J),$=!1,H=null,L=!1,V=null;function U(){if(!g||!J)return;const[Te,Ee]=S0(I,J,T);m({x:Te,y:Ee}),G=requestAnimationFrame(U)}const q={...X,nodeId:s,type:P,position:X.position},Q=h.get(s);let ae={inProgress:!0,isValid:null,from:xi(Q,q,Re.Left,!0),fromHandle:q,fromPosition:q.position,fromNode:Q,to:I,toHandle:null,toPosition:qp[q.position],toNode:null,pointer:I};function oe(){F=!0,b(ae),w==null||w(e,{nodeId:s,handleId:l,handleType:P})}D===0&&oe();function se(Te){if(!F){const{x:ht,y:Jt}=On(Te),$t=ht-j,It=Jt-ee;if(!($t*$t+It*It>D*D))return;oe()}if(!A()||!q){me(Te);return}const Ee=C();I=On(Te,J),z=pb(Es(I,Ee,!1,[1,1]),i,h,q),$||(U(),$=!0);const ye=U0(Te,{handle:z,connectionMode:r,fromNodeId:s,fromHandleId:l,fromType:a?"target":"source",isValidConnection:k,doc:O,lib:p,flowId:f,nodeLookup:h});V=ye.handleDomNode,H=ye.connection,L=gb(!!z,ye.isValid);const Le=h.get(s),We=Le?xi(Le,q,Re.Left,!0):ae.from,Be={...ae,from:We,isValid:L,to:ye.toHandle&&L?Zl({x:ye.toHandle.x,y:ye.toHandle.y},Ee):I,toHandle:ye.toHandle,toPosition:L&&ye.toHandle?ye.toHandle.position:qp[q.position],toNode:ye.toHandle?h.get(ye.toHandle.nodeId):null,pointer:I};b(Be),ae=Be}function me(Te){if(!("touches"in Te&&Te.touches.length>0)){if(F){(z||V)&&H&&L&&(E==null||E(H));const{inProgress:Ee,...ye}=ae,Le={...ye,toPosition:ae.toHandle?ae.toPosition:null};_==null||_(Te,Le),u&&(S==null||S(Te,Le))}v(),cancelAnimationFrame(G),$=!1,L=!1,H=null,V=null,O.removeEventListener("mousemove",se),O.removeEventListener("mouseup",me),O.removeEventListener("touchmove",se),O.removeEventListener("touchend",me)}}O.addEventListener("mousemove",se),O.addEventListener("mouseup",me),O.addEventListener("touchmove",se),O.addEventListener("touchend",me)}function U0(e,{handle:r,connectionMode:i,fromNodeId:l,fromHandleId:s,fromType:u,doc:a,lib:d,flowId:h,isValidConnection:p=H0,nodeLookup:g}){const f=u==="target",m=r?a.querySelector(`.${d}-flow__handle[data-id="${h}-${r==null?void 0:r.nodeId}-${r==null?void 0:r.id}-${r==null?void 0:r.type}"]`):null,{x:v,y:w}=On(e),E=a.elementFromPoint(v,w),_=E!=null&&E.classList.contains(`${d}-flow__handle`)?E:m,k={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const S=F0(void 0,_),b=_.getAttribute("data-nodeid"),C=_.getAttribute("data-handleid"),A=_.classList.contains("connectable"),T=_.classList.contains("connectableend");if(!b||!S)return k;const D={source:f?b:l,sourceHandle:f?C:s,target:f?l:b,targetHandle:f?s:C};k.connection=D;const O=A&&T&&(i===oo.Strict?f&&S==="source"||!f&&S==="target":b!==l||C!==s);k.isValid=O&&p(D),k.toHandle=B0(b,S,C,g,i,!0)}return k}const kd={onPointerDown:mb,isValid:U0};function yb({domNode:e,panZoom:r,getTransform:i,getViewScale:l}){const s=ln(e);function u({translateExtent:d,width:h,height:p,zoomStep:g=1,pannable:f=!0,zoomable:m=!0,inversePan:v=!1}){const w=b=>{if(b.sourceEvent.type!=="wheel"||!r)return;const C=i(),A=b.sourceEvent.ctrlKey&&hs()?10:1,T=-b.sourceEvent.deltaY*(b.sourceEvent.deltaMode===1?.05:b.sourceEvent.deltaMode?1:.002)*g,D=C[2]*Math.pow(2,T*A);r.scaleTo(D)};let E=[0,0];const _=b=>{(b.sourceEvent.type==="mousedown"||b.sourceEvent.type==="touchstart")&&(E=[b.sourceEvent.clientX??b.sourceEvent.touches[0].clientX,b.sourceEvent.clientY??b.sourceEvent.touches[0].clientY])},k=b=>{const C=i();if(b.sourceEvent.type!=="mousemove"&&b.sourceEvent.type!=="touchmove"||!r)return;const A=[b.sourceEvent.clientX??b.sourceEvent.touches[0].clientX,b.sourceEvent.clientY??b.sourceEvent.touches[0].clientY],T=[A[0]-E[0],A[1]-E[1]];E=A;const D=l()*Math.max(C[2],Math.log(C[2]))*(v?-1:1),R={x:C[0]-T[0]*D,y:C[1]-T[1]*D},O=[[0,0],[h,p]];r.setViewportConstrained({x:R.x,y:R.y,zoom:C[2]},O,d)},S=y0().on("start",_).on("zoom",f?k:null).on("zoom.wheel",m?w:null);s.call(S,{})}function a(){s.on("zoom",null)}return{update:u,destroy:a,pointer:Tn}}const ha=e=>({x:e.x,y:e.y,zoom:e.k}),lc=({x:e,y:r,zoom:i})=>ca.translate(e,r).scale(i),Ji=(e,r)=>e.target.closest(`.${r}`),V0=(e,r)=>r===2&&Array.isArray(e)&&e.includes(2),vb=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,ac=(e,r=0,i=vb,l=()=>{})=>{const s=typeof r=="number"&&r>0;return s||l(),s?e.transition().duration(r).ease(i).on("end",l):e},W0=e=>{const r=e.ctrlKey&&hs()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*r};function xb({zoomPanValues:e,noWheelClassName:r,d3Selection:i,d3Zoom:l,panOnScrollMode:s,panOnScrollSpeed:u,zoomOnPinch:a,onPanZoomStart:d,onPanZoom:h,onPanZoomEnd:p}){return g=>{if(Ji(g,r))return g.ctrlKey&&g.preventDefault(),!1;g.preventDefault(),g.stopImmediatePropagation();const f=i.property("__zoom").k||1;if(g.ctrlKey&&a){const _=Tn(g),k=W0(g),S=f*Math.pow(2,k);l.scaleTo(i,S,_,g);return}const m=g.deltaMode===1?20:1;let v=s===gi.Vertical?0:g.deltaX*m,w=s===gi.Horizontal?0:g.deltaY*m;!hs()&&g.shiftKey&&s!==gi.Vertical&&(v=g.deltaY*m,w=0),l.translateBy(i,-(v/f)*u,-(w/f)*u,{internal:!0});const E=ha(i.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(h==null||h(g,E),e.panScrollTimeout=setTimeout(()=>{p==null||p(g,E),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,d==null||d(g,E))}}function wb({noWheelClassName:e,preventScrolling:r,d3ZoomHandler:i}){return function(l,s){const u=l.type==="wheel",a=!r&&u&&!l.ctrlKey,d=Ji(l,e);if(l.ctrlKey&&u&&d&&l.preventDefault(),a||d)return null;l.preventDefault(),i.call(this,l,s)}}function Eb({zoomPanValues:e,onDraggingChange:r,onPanZoomStart:i}){return l=>{var u,a,d;if((u=l.sourceEvent)!=null&&u.internal)return;const s=ha(l.transform);e.mouseButton=((a=l.sourceEvent)==null?void 0:a.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=s,((d=l.sourceEvent)==null?void 0:d.type)==="mousedown"&&r(!0),i&&(i==null||i(l.sourceEvent,s))}}function _b({zoomPanValues:e,panOnDrag:r,onPaneContextMenu:i,onTransformChange:l,onPanZoom:s}){return u=>{var a,d;e.usedRightMouseButton=!!(i&&V0(r,e.mouseButton??0)),(a=u.sourceEvent)!=null&&a.sync||l([u.transform.x,u.transform.y,u.transform.k]),s&&!((d=u.sourceEvent)!=null&&d.internal)&&(s==null||s(u.sourceEvent,ha(u.transform)))}}function bb({zoomPanValues:e,panOnDrag:r,panOnScroll:i,onDraggingChange:l,onPanZoomEnd:s,onPaneContextMenu:u}){return a=>{var d;if(!((d=a.sourceEvent)!=null&&d.internal)&&(e.isZoomingOrPanning=!1,u&&V0(r,e.mouseButton??0)&&!e.usedRightMouseButton&&a.sourceEvent&&u(a.sourceEvent),e.usedRightMouseButton=!1,l(!1),s)){const h=ha(a.transform);e.prevViewport=h,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{s==null||s(a.sourceEvent,h)},i?150:0)}}}function kb({zoomActivationKeyPressed:e,zoomOnScroll:r,zoomOnPinch:i,panOnDrag:l,panOnScroll:s,zoomOnDoubleClick:u,userSelectionActive:a,noWheelClassName:d,noPanClassName:h,lib:p,connectionInProgress:g}){return f=>{var _;const m=e||r,v=i&&f.ctrlKey,w=f.type==="wheel";if(f.button===1&&f.type==="mousedown"&&(Ji(f,`${p}-flow__node`)||Ji(f,`${p}-flow__edge`)))return!0;if(!l&&!m&&!s&&!u&&!i||a||g&&!w||Ji(f,d)&&w||Ji(f,h)&&(!w||s&&w&&!e)||!i&&f.ctrlKey&&w)return!1;if(!i&&f.type==="touchstart"&&((_=f.touches)==null?void 0:_.length)>1)return f.preventDefault(),!1;if(!m&&!s&&!v&&w||!l&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(l)&&!l.includes(f.button)&&f.type==="mousedown")return!1;const E=Array.isArray(l)&&l.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||w)&&E}}function Sb({domNode:e,minZoom:r,maxZoom:i,translateExtent:l,viewport:s,onPanZoom:u,onPanZoomStart:a,onPanZoomEnd:d,onDraggingChange:h}){const p={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},g=e.getBoundingClientRect(),f=y0().scaleExtent([r,i]).translateExtent(l),m=ln(e).call(f);S({x:s.x,y:s.y,zoom:so(s.zoom,r,i)},[[0,0],[g.width,g.height]],l);const v=m.on("wheel.zoom"),w=m.on("dblclick.zoom");f.wheelDelta(W0);function E(z,j){return m?new Promise(ee=>{f==null||f.interpolate((j==null?void 0:j.interpolate)==="linear"?rs:jl).transform(ac(m,j==null?void 0:j.duration,j==null?void 0:j.ease,()=>ee(!0)),z)}):Promise.resolve(!1)}function _({noWheelClassName:z,noPanClassName:j,onPaneContextMenu:ee,userSelectionActive:P,panOnScroll:J,panOnDrag:F,panOnScrollMode:X,panOnScrollSpeed:I,preventScrolling:$,zoomOnPinch:H,zoomOnScroll:L,zoomOnDoubleClick:V,zoomActivationKeyPressed:U,lib:q,onTransformChange:Q,connectionInProgress:re,paneClickDistance:ae,selectionOnDrag:oe}){P&&!p.isZoomingOrPanning&&k();const se=J&&!U&&!P;f.clickDistance(oe?1/0:!Ln(ae)||ae<0?0:ae);const me=se?xb({zoomPanValues:p,noWheelClassName:z,d3Selection:m,d3Zoom:f,panOnScrollMode:X,panOnScrollSpeed:I,zoomOnPinch:H,onPanZoomStart:a,onPanZoom:u,onPanZoomEnd:d}):wb({noWheelClassName:z,preventScrolling:$,d3ZoomHandler:v});if(m.on("wheel.zoom",me,{passive:!1}),!P){const Ee=Eb({zoomPanValues:p,onDraggingChange:h,onPanZoomStart:a});f.on("start",Ee);const ye=_b({zoomPanValues:p,panOnDrag:F,onPaneContextMenu:!!ee,onPanZoom:u,onTransformChange:Q});f.on("zoom",ye);const Le=bb({zoomPanValues:p,panOnDrag:F,panOnScroll:J,onPaneContextMenu:ee,onPanZoomEnd:d,onDraggingChange:h});f.on("end",Le)}const Te=kb({zoomActivationKeyPressed:U,panOnDrag:F,zoomOnScroll:L,panOnScroll:J,zoomOnDoubleClick:V,zoomOnPinch:H,userSelectionActive:P,noPanClassName:j,noWheelClassName:z,lib:q,connectionInProgress:re});f.filter(Te),V?m.on("dblclick.zoom",w):m.on("dblclick.zoom",null)}function k(){f.on("zoom",null)}async function S(z,j,ee){const P=lc(z),J=f==null?void 0:f.constrain()(P,j,ee);return J&&await E(J),new Promise(F=>F(J))}async function b(z,j){const ee=lc(z);return await E(ee,j),new Promise(P=>P(ee))}function C(z){if(m){const j=lc(z),ee=m.property("__zoom");(ee.k!==z.zoom||ee.x!==z.x||ee.y!==z.y)&&(f==null||f.transform(m,j,null,{sync:!0}))}}function A(){const z=m?m0(m.node()):{x:0,y:0,k:1};return{x:z.x,y:z.y,zoom:z.k}}function T(z,j){return m?new Promise(ee=>{f==null||f.interpolate((j==null?void 0:j.interpolate)==="linear"?rs:jl).scaleTo(ac(m,j==null?void 0:j.duration,j==null?void 0:j.ease,()=>ee(!0)),z)}):Promise.resolve(!1)}function D(z,j){return m?new Promise(ee=>{f==null||f.interpolate((j==null?void 0:j.interpolate)==="linear"?rs:jl).scaleBy(ac(m,j==null?void 0:j.duration,j==null?void 0:j.ease,()=>ee(!0)),z)}):Promise.resolve(!1)}function R(z){f==null||f.scaleExtent(z)}function O(z){f==null||f.translateExtent(z)}function G(z){const j=!Ln(z)||z<0?0:z;f==null||f.clickDistance(j)}return{update:_,destroy:k,setViewport:b,setViewportConstrained:S,getViewport:A,scaleTo:T,scaleBy:D,setScaleExtent:R,setTranslateExtent:O,syncViewport:C,setClickDistance:G}}var uo;(function(e){e.Line="line",e.Handle="handle"})(uo||(uo={}));function Nb({width:e,prevWidth:r,height:i,prevHeight:l,affectsX:s,affectsY:u}){const a=e-r,d=i-l,h=[a>0?1:a<0?-1:0,d>0?1:d<0?-1:0];return a&&s&&(h[0]=h[0]*-1),d&&u&&(h[1]=h[1]*-1),h}function sg(e){const r=e.includes("right")||e.includes("left"),i=e.includes("bottom")||e.includes("top"),l=e.includes("left"),s=e.includes("top");return{isHorizontal:r,isVertical:i,affectsX:l,affectsY:s}}function Br(e,r){return Math.max(0,r-e)}function Fr(e,r){return Math.max(0,e-r)}function Al(e,r,i){return Math.max(0,r-e,e-i)}function lg(e,r){return e?!r:r}function Cb(e,r,i,l,s,u,a,d){let{affectsX:h,affectsY:p}=r;const{isHorizontal:g,isVertical:f}=r,m=g&&f,{xSnapped:v,ySnapped:w}=i,{minWidth:E,maxWidth:_,minHeight:k,maxHeight:S}=l,{x:b,y:C,width:A,height:T,aspectRatio:D}=e;let R=Math.floor(g?v-e.pointerX:0),O=Math.floor(f?w-e.pointerY:0);const G=A+(h?-R:R),z=T+(p?-O:O),j=-u[0]*A,ee=-u[1]*T;let P=Al(G,E,_),J=Al(z,k,S);if(a){let I=0,$=0;h&&R<0?I=Br(b+R+j,a[0][0]):!h&&R>0&&(I=Fr(b+G+j,a[1][0])),p&&O<0?$=Br(C+O+ee,a[0][1]):!p&&O>0&&($=Fr(C+z+ee,a[1][1])),P=Math.max(P,I),J=Math.max(J,$)}if(d){let I=0,$=0;h&&R>0?I=Fr(b+R,d[0][0]):!h&&R<0&&(I=Br(b+G,d[1][0])),p&&O>0?$=Fr(C+O,d[0][1]):!p&&O<0&&($=Br(C+z,d[1][1])),P=Math.max(P,I),J=Math.max(J,$)}if(s){if(g){const I=Al(G/D,k,S)*D;if(P=Math.max(P,I),a){let $=0;!h&&!p||h&&!p&&m?$=Fr(C+ee+G/D,a[1][1])*D:$=Br(C+ee+(h?R:-R)/D,a[0][1])*D,P=Math.max(P,$)}if(d){let $=0;!h&&!p||h&&!p&&m?$=Br(C+G/D,d[1][1])*D:$=Fr(C+(h?R:-R)/D,d[0][1])*D,P=Math.max(P,$)}}if(f){const I=Al(z*D,E,_)/D;if(J=Math.max(J,I),a){let $=0;!h&&!p||p&&!h&&m?$=Fr(b+z*D+j,a[1][0])/D:$=Br(b+(p?O:-O)*D+j,a[0][0])/D,J=Math.max(J,$)}if(d){let $=0;!h&&!p||p&&!h&&m?$=Br(b+z*D,d[1][0])/D:$=Fr(b+(p?O:-O)*D,d[0][0])/D,J=Math.max(J,$)}}}O=O+(O<0?J:-J),R=R+(R<0?P:-P),s&&(m?G>z*D?O=(lg(h,p)?-R:R)/D:R=(lg(h,p)?-O:O)*D:g?(O=R/D,p=h):(R=O*D,h=p));const F=h?b+R:b,X=p?C+O:C;return{width:A+(h?-R:R),height:T+(p?-O:O),x:u[0]*R*(h?-1:1)+F,y:u[1]*O*(p?-1:1)+X}}const G0={width:0,height:0,x:0,y:0},Rb={...G0,pointerX:0,pointerY:0,aspectRatio:1};function Tb(e){return[[0,0],[e.measured.width,e.measured.height]]}function Mb(e,r,i){const l=r.position.x+e.position.x,s=r.position.y+e.position.y,u=e.measured.width??0,a=e.measured.height??0,d=i[0]*u,h=i[1]*a;return[[l-d,s-h],[l+u-d,s+a-h]]}function Ab({domNode:e,nodeId:r,getStoreItems:i,onChange:l,onEnd:s}){const u=ln(e);let a={controlDirection:sg("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function d({controlPosition:p,boundaries:g,keepAspectRatio:f,resizeDirection:m,onResizeStart:v,onResize:w,onResizeEnd:E,shouldResize:_}){let k={...G0},S={...Rb};a={boundaries:g,resizeDirection:m,keepAspectRatio:f,controlDirection:sg(p)};let b,C=null,A=[],T,D,R,O=!1;const G=n0().on("start",z=>{const{nodeLookup:j,transform:ee,snapGrid:P,snapToGrid:J,nodeOrigin:F,paneDomNode:X}=i();if(b=j.get(r),!b)return;C=(X==null?void 0:X.getBoundingClientRect())??null;const{xSnapped:I,ySnapped:$}=is(z.sourceEvent,{transform:ee,snapGrid:P,snapToGrid:J,containerBounds:C});k={width:b.measured.width??0,height:b.measured.height??0,x:b.position.x??0,y:b.position.y??0},S={...k,pointerX:I,pointerY:$,aspectRatio:k.width/k.height},T=void 0,b.parentId&&(b.extent==="parent"||b.expandParent)&&(T=j.get(b.parentId),D=T&&b.extent==="parent"?Tb(T):void 0),A=[],R=void 0;for(const[H,L]of j)if(L.parentId===r&&(A.push({id:H,position:{...L.position},extent:L.extent}),L.extent==="parent"||L.expandParent)){const V=Mb(L,b,L.origin??F);R?R=[[Math.min(V[0][0],R[0][0]),Math.min(V[0][1],R[0][1])],[Math.max(V[1][0],R[1][0]),Math.max(V[1][1],R[1][1])]]:R=V}v==null||v(z,{...k})}).on("drag",z=>{const{transform:j,snapGrid:ee,snapToGrid:P,nodeOrigin:J}=i(),F=is(z.sourceEvent,{transform:j,snapGrid:ee,snapToGrid:P,containerBounds:C}),X=[];if(!b)return;const{x:I,y:$,width:H,height:L}=k,V={},U=b.origin??J,{width:q,height:Q,x:re,y:ae}=Cb(S,a.controlDirection,F,a.boundaries,a.keepAspectRatio,U,D,R),oe=q!==H,se=Q!==L,me=re!==I&&oe,Te=ae!==$&&se;if(!me&&!Te&&!oe&&!se)return;if((me||Te||U[0]===1||U[1]===1)&&(V.x=me?re:k.x,V.y=Te?ae:k.y,k.x=V.x,k.y=V.y,A.length>0)){const We=re-I,Be=ae-$;for(const ht of A)ht.position={x:ht.position.x-We+U[0]*(q-H),y:ht.position.y-Be+U[1]*(Q-L)},X.push(ht)}if((oe||se)&&(V.width=oe&&(!a.resizeDirection||a.resizeDirection==="horizontal")?q:k.width,V.height=se&&(!a.resizeDirection||a.resizeDirection==="vertical")?Q:k.height,k.width=V.width,k.height=V.height),T&&b.expandParent){const We=U[0]*(V.width??0);V.x&&V.x<We&&(k.x=We,S.x=S.x-(V.x-We));const Be=U[1]*(V.height??0);V.y&&V.y<Be&&(k.y=Be,S.y=S.y-(V.y-Be))}const Ee=Nb({width:k.width,prevWidth:H,height:k.height,prevHeight:L,affectsX:a.controlDirection.affectsX,affectsY:a.controlDirection.affectsY}),ye={...k,direction:Ee};(_==null?void 0:_(z,ye))!==!1&&(O=!0,w==null||w(z,ye),l(V,X))}).on("end",z=>{O&&(E==null||E(z,{...k}),s==null||s({...k}),O=!1)});u.call(G)}function h(){u.on(".drag",null)}return{update:d,destroy:h}}var uc={exports:{}},cc={},dc={exports:{}},fc={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag;function Ib(){if(ag)return fc;ag=1;var e=gs();function r(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var i=typeof Object.is=="function"?Object.is:r,l=e.useState,s=e.useEffect,u=e.useLayoutEffect,a=e.useDebugValue;function d(f,m){var v=m(),w=l({inst:{value:v,getSnapshot:m}}),E=w[0].inst,_=w[1];return u(function(){E.value=v,E.getSnapshot=m,h(E)&&_({inst:E})},[f,v,m]),s(function(){return h(E)&&_({inst:E}),f(function(){h(E)&&_({inst:E})})},[f]),a(v),v}function h(f){var m=f.getSnapshot;f=f.value;try{var v=m();return!i(f,v)}catch{return!0}}function p(f,m){return m()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:d;return fc.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,fc}var ug;function Lb(){return ug||(ug=1,dc.exports=Ib()),dc.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg;function Ob(){if(cg)return cc;cg=1;var e=gs(),r=Lb();function i(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var l=typeof Object.is=="function"?Object.is:i,s=r.useSyncExternalStore,u=e.useRef,a=e.useEffect,d=e.useMemo,h=e.useDebugValue;return cc.useSyncExternalStoreWithSelector=function(p,g,f,m,v){var w=u(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=d(function(){function k(T){if(!S){if(S=!0,b=T,T=m(T),v!==void 0&&E.hasValue){var D=E.value;if(v(D,T))return C=D}return C=T}if(D=C,l(b,T))return D;var R=m(T);return v!==void 0&&v(D,R)?(b=T,D):(b=T,C=R)}var S=!1,b,C,A=f===void 0?null:f;return[function(){return k(g())},A===null?void 0:function(){return k(A())}]},[g,f,m,v]);var _=s(p,w[0],w[1]);return a(function(){E.hasValue=!0,E.value=_},[_]),h(_),_},cc}var dg;function Pb(){return dg||(dg=1,uc.exports=Ob()),uc.exports}var zb=Pb();const Db=oa(zb),$b={},fg=e=>{let r;const i=new Set,l=(g,f)=>{const m=typeof g=="function"?g(r):g;if(!Object.is(m,r)){const v=r;r=f??(typeof m!="object"||m===null)?m:Object.assign({},r,m),i.forEach(w=>w(r,v))}},s=()=>r,h={setState:l,getState:s,getInitialState:()=>p,subscribe:g=>(i.add(g),()=>i.delete(g)),destroy:()=>{($b?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},p=r=e(l,s,h);return h},jb=e=>e?fg(e):fg,{useDebugValue:Bb}=Yx,{useSyncExternalStoreWithSelector:Fb}=Db,Hb=e=>e;function q0(e,r=Hb,i){const l=Fb(e.subscribe,e.getState,e.getServerState||e.getInitialState,r,i);return Bb(l),l}const hg=(e,r)=>{const i=jb(e),l=(s,u=r)=>q0(i,s,u);return Object.assign(l,i),l},Ub=(e,r)=>e?hg(e,r):hg;function lt(e,r){if(Object.is(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(const[l,s]of e)if(!Object.is(s,r.get(l)))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(const l of e)if(!r.has(l))return!1;return!0}const i=Object.keys(e);if(i.length!==Object.keys(r).length)return!1;for(const l of i)if(!Object.prototype.hasOwnProperty.call(r,l)||!Object.is(e[l],r[l]))return!1;return!0}Fm();const pa=Z.createContext(null),Vb=pa.Provider,Y0=Kn.error001();function Ve(e,r){const i=Z.useContext(pa);if(i===null)throw new Error(Y0);return q0(i,e,r)}function at(){const e=Z.useContext(pa);if(e===null)throw new Error(Y0);return Z.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const pg={display:"none"},Wb={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},X0="react-flow__node-desc",K0="react-flow__edge-desc",Gb="react-flow__aria-live",qb=e=>e.ariaLiveMessage,Yb=e=>e.ariaLabelConfig;function Xb({rfId:e}){const r=Ve(qb);return M.jsx("div",{id:`${Gb}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Wb,children:r})}function Kb({rfId:e,disableKeyboardA11y:r}){const i=Ve(Yb);return M.jsxs(M.Fragment,{children:[M.jsx("div",{id:`${X0}-${e}`,style:pg,children:r?i["node.a11yDescription.default"]:i["node.a11yDescription.keyboardDisabled"]}),M.jsx("div",{id:`${K0}-${e}`,style:pg,children:i["edge.a11yDescription.default"]}),!r&&M.jsx(Xb,{rfId:e})]})}const ga=Z.forwardRef(({position:e="top-left",children:r,className:i,style:l,...s},u)=>{const a=`${e}`.split("-");return M.jsx("div",{className:Et(["react-flow__panel",i,...a]),style:l,ref:u,...s,children:r})});ga.displayName="Panel";function Qb({proOptions:e,position:r="bottom-right"}){return e!=null&&e.hideAttribution?null:M.jsx(ga,{position:r,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:M.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Zb=e=>{const r=[],i=[];for(const[,l]of e.nodeLookup)l.selected&&r.push(l.internals.userNode);for(const[,l]of e.edgeLookup)l.selected&&i.push(l);return{selectedNodes:r,selectedEdges:i}},Il=e=>e.id;function Jb(e,r){return lt(e.selectedNodes.map(Il),r.selectedNodes.map(Il))&&lt(e.selectedEdges.map(Il),r.selectedEdges.map(Il))}function ek({onSelectionChange:e}){const r=at(),{selectedNodes:i,selectedEdges:l}=Ve(Zb,Jb);return Z.useEffect(()=>{const s={nodes:i,edges:l};e==null||e(s),r.getState().onSelectionChangeHandlers.forEach(u=>u(s))},[i,l,e]),null}const tk=e=>!!e.onSelectionChangeHandlers;function nk({onSelectionChange:e}){const r=Ve(tk);return e||r?M.jsx(ek,{onSelectionChange:e}):null}const Q0=[0,0],rk={x:0,y:0,zoom:1},ik=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],gg=[...ik,"rfId"],ok=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),mg={translateExtent:cs,nodeOrigin:Q0,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function sk(e){const{setNodes:r,setEdges:i,setMinZoom:l,setMaxZoom:s,setTranslateExtent:u,setNodeExtent:a,reset:d,setDefaultNodesAndEdges:h}=Ve(ok,lt),p=at();Z.useEffect(()=>(h(e.defaultNodes,e.defaultEdges),()=>{g.current=mg,d()}),[]);const g=Z.useRef(mg);return Z.useEffect(()=>{for(const f of gg){const m=e[f],v=g.current[f];m!==v&&(typeof e[f]>"u"||(f==="nodes"?r(m):f==="edges"?i(m):f==="minZoom"?l(m):f==="maxZoom"?s(m):f==="translateExtent"?u(m):f==="nodeExtent"?a(m):f==="ariaLabelConfig"?p.setState({ariaLabelConfig:U_(m)}):f==="fitView"?p.setState({fitViewQueued:m}):f==="fitViewOptions"?p.setState({fitViewOptions:m}):p.setState({[f]:m})))}g.current=e},gg.map(f=>e[f])),null}function yg(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function lk(e){var l;const[r,i]=Z.useState(e==="system"?null:e);return Z.useEffect(()=>{if(e!=="system"){i(e);return}const s=yg(),u=()=>i(s!=null&&s.matches?"dark":"light");return u(),s==null||s.addEventListener("change",u),()=>{s==null||s.removeEventListener("change",u)}},[e]),r!==null?r:(l=yg())!=null&&l.matches?"dark":"light"}const vg=typeof document<"u"?document:null;function ps(e=null,r={target:vg,actInsideInputWithModifier:!0}){const[i,l]=Z.useState(!1),s=Z.useRef(!1),u=Z.useRef(new Set([])),[a,d]=Z.useMemo(()=>{if(e!==null){const p=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),g=p.reduce((f,m)=>f.concat(...m),[]);return[p,g]}return[[],[]]},[e]);return Z.useEffect(()=>{const h=(r==null?void 0:r.target)??vg,p=(r==null?void 0:r.actInsideInputWithModifier)??!0;if(e!==null){const g=v=>{var _,k;if(s.current=v.ctrlKey||v.metaKey||v.shiftKey||v.altKey,(!s.current||s.current&&!p)&&M0(v))return!1;const E=wg(v.code,d);if(u.current.add(v[E]),xg(a,u.current,!1)){const S=((k=(_=v.composedPath)==null?void 0:_.call(v))==null?void 0:k[0])||v.target,b=(S==null?void 0:S.nodeName)==="BUTTON"||(S==null?void 0:S.nodeName)==="A";r.preventDefault!==!1&&(s.current||!b)&&v.preventDefault(),l(!0)}},f=v=>{const w=wg(v.code,d);xg(a,u.current,!0)?(l(!1),u.current.clear()):u.current.delete(v[w]),v.key==="Meta"&&u.current.clear(),s.current=!1},m=()=>{u.current.clear(),l(!1)};return h==null||h.addEventListener("keydown",g),h==null||h.addEventListener("keyup",f),window.addEventListener("blur",m),window.addEventListener("contextmenu",m),()=>{h==null||h.removeEventListener("keydown",g),h==null||h.removeEventListener("keyup",f),window.removeEventListener("blur",m),window.removeEventListener("contextmenu",m)}}},[e,l]),i}function xg(e,r,i){return e.filter(l=>i||l.length===r.size).some(l=>l.every(s=>r.has(s)))}function wg(e,r){return r.includes(e)?"code":"key"}const ak=()=>{const e=at();return Z.useMemo(()=>({zoomIn:r=>{const{panZoom:i}=e.getState();return i?i.scaleBy(1.2,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},zoomOut:r=>{const{panZoom:i}=e.getState();return i?i.scaleBy(1/1.2,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},zoomTo:(r,i)=>{const{panZoom:l}=e.getState();return l?l.scaleTo(r,{duration:i==null?void 0:i.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(r,i)=>{const{transform:[l,s,u],panZoom:a}=e.getState();return a?(await a.setViewport({x:r.x??l,y:r.y??s,zoom:r.zoom??u},i),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[r,i,l]=e.getState().transform;return{x:r,y:i,zoom:l}},setCenter:async(r,i,l)=>e.getState().setCenter(r,i,l),fitBounds:async(r,i)=>{const{width:l,height:s,minZoom:u,maxZoom:a,panZoom:d}=e.getState(),h=jd(r,l,s,u,a,(i==null?void 0:i.padding)??.1);return d?(await d.setViewport(h,{duration:i==null?void 0:i.duration,ease:i==null?void 0:i.ease,interpolate:i==null?void 0:i.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(r,i={})=>{const{transform:l,snapGrid:s,snapToGrid:u,domNode:a}=e.getState();if(!a)return r;const{x:d,y:h}=a.getBoundingClientRect(),p={x:r.x-d,y:r.y-h},g=i.snapGrid??s,f=i.snapToGrid??u;return Es(p,l,f,g)},flowToScreenPosition:r=>{const{transform:i,domNode:l}=e.getState();if(!l)return r;const{x:s,y:u}=l.getBoundingClientRect(),a=Zl(r,i);return{x:a.x+s,y:a.y+u}}}),[])};function Z0(e,r){const i=[],l=new Map,s=[];for(const u of e)if(u.type==="add"){s.push(u);continue}else if(u.type==="remove"||u.type==="replace")l.set(u.id,[u]);else{const a=l.get(u.id);a?a.push(u):l.set(u.id,[u])}for(const u of r){const a=l.get(u.id);if(!a){i.push(u);continue}if(a[0].type==="remove")continue;if(a[0].type==="replace"){i.push({...a[0].item});continue}const d={...u};for(const h of a)uk(h,d);i.push(d)}return s.length&&s.forEach(u=>{u.index!==void 0?i.splice(u.index,0,{...u.item}):i.push({...u.item})}),i}function uk(e,r){switch(e.type){case"select":{r.selected=e.selected;break}case"position":{typeof e.position<"u"&&(r.position=e.position),typeof e.dragging<"u"&&(r.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(r.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(r.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(r.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(r.resizing=e.resizing);break}}}function J0(e,r){return Z0(e,r)}function ck(e,r){return Z0(e,r)}function fi(e,r){return{id:e,type:"select",selected:r}}function eo(e,r=new Set,i=!1){const l=[];for(const[s,u]of e){const a=r.has(s);!(u.selected===void 0&&!a)&&u.selected!==a&&(i&&(u.selected=a),l.push(fi(u.id,a)))}return l}function Eg({items:e=[],lookup:r}){var s;const i=[],l=new Map(e.map(u=>[u.id,u]));for(const[u,a]of e.entries()){const d=r.get(a.id),h=((s=d==null?void 0:d.internals)==null?void 0:s.userNode)??d;h!==void 0&&h!==a&&i.push({id:a.id,item:a,type:"replace"}),h===void 0&&i.push({item:a,type:"add",index:u})}for(const[u]of r)l.get(u)===void 0&&i.push({id:u,type:"remove"});return i}function _g(e){return{id:e.id,type:"remove"}}const bg=e=>L_(e),dk=e=>_0(e);function ey(e){return Z.forwardRef(e)}const fk=typeof window<"u"?Z.useLayoutEffect:Z.useEffect;function kg(e){const[r,i]=Z.useState(BigInt(0)),[l]=Z.useState(()=>hk(()=>i(s=>s+BigInt(1))));return fk(()=>{const s=l.get();s.length&&(e(s),l.reset())},[r]),l}function hk(e){let r=[];return{get:()=>r,reset:()=>{r=[]},push:i=>{r.push(i),e()}}}const ty=Z.createContext(null);function pk({children:e}){const r=at(),i=Z.useCallback(d=>{const{nodes:h=[],setNodes:p,hasDefaultNodes:g,onNodesChange:f,nodeLookup:m,fitViewQueued:v,onNodesChangeMiddlewareMap:w}=r.getState();let E=h;for(const k of d)E=typeof k=="function"?k(E):k;let _=Eg({items:E,lookup:m});for(const k of w.values())_=k(_);g&&p(E),_.length>0?f==null||f(_):v&&window.requestAnimationFrame(()=>{const{fitViewQueued:k,nodes:S,setNodes:b}=r.getState();k&&b(S)})},[]),l=kg(i),s=Z.useCallback(d=>{const{edges:h=[],setEdges:p,hasDefaultEdges:g,onEdgesChange:f,edgeLookup:m}=r.getState();let v=h;for(const w of d)v=typeof w=="function"?w(v):w;g?p(v):f&&f(Eg({items:v,lookup:m}))},[]),u=kg(s),a=Z.useMemo(()=>({nodeQueue:l,edgeQueue:u}),[]);return M.jsx(ty.Provider,{value:a,children:e})}function gk(){const e=Z.useContext(ty);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const mk=e=>!!e.panZoom;function ma(){const e=ak(),r=at(),i=gk(),l=Ve(mk),s=Z.useMemo(()=>{const u=f=>r.getState().nodeLookup.get(f),a=f=>{i.nodeQueue.push(f)},d=f=>{i.edgeQueue.push(f)},h=f=>{var k,S;const{nodeLookup:m,nodeOrigin:v}=r.getState(),w=bg(f)?f:m.get(f.id),E=w.parentId?R0(w.position,w.measured,w.parentId,m,v):w.position,_={...w,position:E,width:((k=w.measured)==null?void 0:k.width)??w.width,height:((S=w.measured)==null?void 0:S.height)??w.height};return lo(_)},p=(f,m,v={replace:!1})=>{a(w=>w.map(E=>{if(E.id===f){const _=typeof m=="function"?m(E):m;return v.replace&&bg(_)?_:{...E,..._}}return E}))},g=(f,m,v={replace:!1})=>{d(w=>w.map(E=>{if(E.id===f){const _=typeof m=="function"?m(E):m;return v.replace&&dk(_)?_:{...E,..._}}return E}))};return{getNodes:()=>r.getState().nodes.map(f=>({...f})),getNode:f=>{var m;return(m=u(f))==null?void 0:m.internals.userNode},getInternalNode:u,getEdges:()=>{const{edges:f=[]}=r.getState();return f.map(m=>({...m}))},getEdge:f=>r.getState().edgeLookup.get(f),setNodes:a,setEdges:d,addNodes:f=>{const m=Array.isArray(f)?f:[f];i.nodeQueue.push(v=>[...v,...m])},addEdges:f=>{const m=Array.isArray(f)?f:[f];i.edgeQueue.push(v=>[...v,...m])},toObject:()=>{const{nodes:f=[],edges:m=[],transform:v}=r.getState(),[w,E,_]=v;return{nodes:f.map(k=>({...k})),edges:m.map(k=>({...k})),viewport:{x:w,y:E,zoom:_}}},deleteElements:async({nodes:f=[],edges:m=[]})=>{const{nodes:v,edges:w,onNodesDelete:E,onEdgesDelete:_,triggerNodeChanges:k,triggerEdgeChanges:S,onDelete:b,onBeforeDelete:C}=r.getState(),{nodes:A,edges:T}=await $_({nodesToRemove:f,edgesToRemove:m,nodes:v,edges:w,onBeforeDelete:C}),D=T.length>0,R=A.length>0;if(D){const O=T.map(_g);_==null||_(T),S(O)}if(R){const O=A.map(_g);E==null||E(A),k(O)}return(R||D)&&(b==null||b({nodes:A,edges:T})),{deletedNodes:A,deletedEdges:T}},getIntersectingNodes:(f,m=!0,v)=>{const w=Xp(f),E=w?f:h(f),_=v!==void 0;return E?(v||r.getState().nodes).filter(k=>{const S=r.getState().nodeLookup.get(k.id);if(S&&!w&&(k.id===f.id||!S.internals.positionAbsolute))return!1;const b=lo(_?k:S),C=fs(b,E);return m&&C>0||C>=b.width*b.height||C>=E.width*E.height}):[]},isNodeIntersecting:(f,m,v=!0)=>{const E=Xp(f)?f:h(f);if(!E)return!1;const _=fs(E,m);return v&&_>0||_>=m.width*m.height||_>=E.width*E.height},updateNode:p,updateNodeData:(f,m,v={replace:!1})=>{p(f,w=>{const E=typeof m=="function"?m(w):m;return v.replace?{...w,data:E}:{...w,data:{...w.data,...E}}},v)},updateEdge:g,updateEdgeData:(f,m,v={replace:!1})=>{g(f,w=>{const E=typeof m=="function"?m(w):m;return v.replace?{...w,data:E}:{...w,data:{...w.data,...E}}},v)},getNodesBounds:f=>{const{nodeLookup:m,nodeOrigin:v}=r.getState();return O_(f,{nodeLookup:m,nodeOrigin:v})},getHandleConnections:({type:f,id:m,nodeId:v})=>{var w;return Array.from(((w=r.getState().connectionLookup.get(`${v}-${f}${m?`-${m}`:""}`))==null?void 0:w.values())??[])},getNodeConnections:({type:f,handleId:m,nodeId:v})=>{var w;return Array.from(((w=r.getState().connectionLookup.get(`${v}${f?m?`-${f}-${m}`:`-${f}`:""}`))==null?void 0:w.values())??[])},fitView:async f=>{const m=r.getState().fitViewResolver??H_();return r.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:m}),i.nodeQueue.push(v=>[...v]),m.promise}}},[]);return Z.useMemo(()=>({...s,...e,viewportInitialized:l}),[l])}const Sg=e=>e.selected,yk=typeof window<"u"?window:void 0;function vk({deleteKeyCode:e,multiSelectionKeyCode:r}){const i=at(),{deleteElements:l}=ma(),s=ps(e,{actInsideInputWithModifier:!1}),u=ps(r,{target:yk});Z.useEffect(()=>{if(s){const{edges:a,nodes:d}=i.getState();l({nodes:d.filter(Sg),edges:a.filter(Sg)}),i.setState({nodesSelectionActive:!1})}},[s]),Z.useEffect(()=>{i.setState({multiSelectionActive:u})},[u])}function xk(e){const r=at();Z.useEffect(()=>{const i=()=>{var s,u,a,d;if(!e.current||!(((u=(s=e.current).checkVisibility)==null?void 0:u.call(s))??!0))return!1;const l=Bd(e.current);(l.height===0||l.width===0)&&((d=(a=r.getState()).onError)==null||d.call(a,"004",Kn.error004())),r.setState({width:l.width||500,height:l.height||500})};if(e.current){i(),window.addEventListener("resize",i);const l=new ResizeObserver(()=>i());return l.observe(e.current),()=>{window.removeEventListener("resize",i),l&&e.current&&l.unobserve(e.current)}}},[])}const ya={position:"absolute",width:"100%",height:"100%",top:0,left:0},wk=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function Ek({onPaneContextMenu:e,zoomOnScroll:r=!0,zoomOnPinch:i=!0,panOnScroll:l=!1,panOnScrollSpeed:s=.5,panOnScrollMode:u=gi.Free,zoomOnDoubleClick:a=!0,panOnDrag:d=!0,defaultViewport:h,translateExtent:p,minZoom:g,maxZoom:f,zoomActivationKeyCode:m,preventScrolling:v=!0,children:w,noWheelClassName:E,noPanClassName:_,onViewportChange:k,isControlledViewport:S,paneClickDistance:b,selectionOnDrag:C}){const A=at(),T=Z.useRef(null),{userSelectionActive:D,lib:R,connectionInProgress:O}=Ve(wk,lt),G=ps(m),z=Z.useRef();xk(T);const j=Z.useCallback(ee=>{k==null||k({x:ee[0],y:ee[1],zoom:ee[2]}),S||A.setState({transform:ee})},[k,S]);return Z.useEffect(()=>{if(T.current){z.current=Sb({domNode:T.current,minZoom:g,maxZoom:f,translateExtent:p,viewport:h,onDraggingChange:F=>A.setState({paneDragging:F}),onPanZoomStart:(F,X)=>{const{onViewportChangeStart:I,onMoveStart:$}=A.getState();$==null||$(F,X),I==null||I(X)},onPanZoom:(F,X)=>{const{onViewportChange:I,onMove:$}=A.getState();$==null||$(F,X),I==null||I(X)},onPanZoomEnd:(F,X)=>{const{onViewportChangeEnd:I,onMoveEnd:$}=A.getState();$==null||$(F,X),I==null||I(X)}});const{x:ee,y:P,zoom:J}=z.current.getViewport();return A.setState({panZoom:z.current,transform:[ee,P,J],domNode:T.current.closest(".react-flow")}),()=>{var F;(F=z.current)==null||F.destroy()}}},[]),Z.useEffect(()=>{var ee;(ee=z.current)==null||ee.update({onPaneContextMenu:e,zoomOnScroll:r,zoomOnPinch:i,panOnScroll:l,panOnScrollSpeed:s,panOnScrollMode:u,zoomOnDoubleClick:a,panOnDrag:d,zoomActivationKeyPressed:G,preventScrolling:v,noPanClassName:_,userSelectionActive:D,noWheelClassName:E,lib:R,onTransformChange:j,connectionInProgress:O,selectionOnDrag:C,paneClickDistance:b})},[e,r,i,l,s,u,a,d,G,v,_,D,E,R,j,O,C,b]),M.jsx("div",{className:"react-flow__renderer",ref:T,style:ya,children:w})}const _k=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function bk(){const{userSelectionActive:e,userSelectionRect:r}=Ve(_k,lt);return e&&r?M.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:r.width,height:r.height,transform:`translate(${r.x}px, ${r.y}px)`}}):null}const hc=(e,r)=>i=>{i.target===r.current&&(e==null||e(i))},kk=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function Sk({isSelecting:e,selectionKeyPressed:r,selectionMode:i=ds.Full,panOnDrag:l,paneClickDistance:s,selectionOnDrag:u,onSelectionStart:a,onSelectionEnd:d,onPaneClick:h,onPaneContextMenu:p,onPaneScroll:g,onPaneMouseEnter:f,onPaneMouseMove:m,onPaneMouseLeave:v,children:w}){const E=at(),{userSelectionActive:_,elementsSelectable:k,dragging:S,connectionInProgress:b}=Ve(kk,lt),C=k&&(e||_),A=Z.useRef(null),T=Z.useRef(),D=Z.useRef(new Set),R=Z.useRef(new Set),O=Z.useRef(!1),G=I=>{if(O.current||b){O.current=!1;return}h==null||h(I),E.getState().resetSelectedElements(),E.setState({nodesSelectionActive:!1})},z=I=>{if(Array.isArray(l)&&(l!=null&&l.includes(2))){I.preventDefault();return}p==null||p(I)},j=g?I=>g(I):void 0,ee=I=>{O.current&&(I.stopPropagation(),O.current=!1)},P=I=>{var Q,re;const{domNode:$}=E.getState();if(T.current=$==null?void 0:$.getBoundingClientRect(),!T.current)return;const H=I.target===A.current;if(!H&&!!I.target.closest(".nokey")||!e||!(u&&H||r)||I.button!==0||!I.isPrimary)return;(re=(Q=I.target)==null?void 0:Q.setPointerCapture)==null||re.call(Q,I.pointerId),O.current=!1;const{x:U,y:q}=On(I.nativeEvent,T.current);E.setState({userSelectionRect:{width:0,height:0,startX:U,startY:q,x:U,y:q}}),H||(I.stopPropagation(),I.preventDefault())},J=I=>{const{userSelectionRect:$,transform:H,nodeLookup:L,edgeLookup:V,connectionLookup:U,triggerNodeChanges:q,triggerEdgeChanges:Q,defaultEdgeOptions:re,resetSelectedElements:ae}=E.getState();if(!T.current||!$)return;const{x:oe,y:se}=On(I.nativeEvent,T.current),{startX:me,startY:Te}=$;if(!O.current){const Be=r?0:s;if(Math.hypot(oe-me,se-Te)<=Be)return;ae(),a==null||a(I)}O.current=!0;const Ee={startX:me,startY:Te,x:oe<me?oe:me,y:se<Te?se:Te,width:Math.abs(oe-me),height:Math.abs(se-Te)},ye=D.current,Le=R.current;D.current=new Set($d(L,Ee,H,i===ds.Partial,!0).map(Be=>Be.id)),R.current=new Set;const We=(re==null?void 0:re.selectable)??!0;for(const Be of D.current){const ht=U.get(Be);if(ht)for(const{edgeId:Jt}of ht.values()){const $t=V.get(Jt);$t&&($t.selectable??We)&&R.current.add(Jt)}}if(!Kp(ye,D.current)){const Be=eo(L,D.current,!0);q(Be)}if(!Kp(Le,R.current)){const Be=eo(V,R.current);Q(Be)}E.setState({userSelectionRect:Ee,userSelectionActive:!0,nodesSelectionActive:!1})},F=I=>{var $,H;I.button===0&&((H=($=I.target)==null?void 0:$.releasePointerCapture)==null||H.call($,I.pointerId),!_&&I.target===A.current&&E.getState().userSelectionRect&&(G==null||G(I)),E.setState({userSelectionActive:!1,userSelectionRect:null}),O.current&&(d==null||d(I),E.setState({nodesSelectionActive:D.current.size>0})))},X=l===!0||Array.isArray(l)&&l.includes(0);return M.jsxs("div",{className:Et(["react-flow__pane",{draggable:X,dragging:S,selection:e}]),onClick:C?void 0:hc(G,A),onContextMenu:hc(z,A),onWheel:hc(j,A),onPointerEnter:C?void 0:f,onPointerMove:C?J:m,onPointerUp:C?F:void 0,onPointerDownCapture:C?P:void 0,onClickCapture:C?ee:void 0,onPointerLeave:v,ref:A,style:ya,children:[w,M.jsx(bk,{})]})}function Sd({id:e,store:r,unselect:i=!1,nodeRef:l}){const{addSelectedNodes:s,unselectNodesAndEdges:u,multiSelectionActive:a,nodeLookup:d,onError:h}=r.getState(),p=d.get(e);if(!p){h==null||h("012",Kn.error012(e));return}r.setState({nodesSelectionActive:!1}),p.selected?(i||p.selected&&a)&&(u({nodes:[p],edges:[]}),requestAnimationFrame(()=>{var g;return(g=l==null?void 0:l.current)==null?void 0:g.blur()})):s([e])}function ny({nodeRef:e,disabled:r=!1,noDragClassName:i,handleSelector:l,nodeId:s,isSelectable:u,nodeClickDistance:a}){const d=at(),[h,p]=Z.useState(!1),g=Z.useRef();return Z.useEffect(()=>{g.current=db({getStoreItems:()=>d.getState(),onNodeMouseDown:f=>{Sd({id:f,store:d,nodeRef:e})},onDragStart:()=>{p(!0)},onDragStop:()=>{p(!1)}})},[]),Z.useEffect(()=>{var f,m;if(r)(f=g.current)==null||f.destroy();else if(e.current)return(m=g.current)==null||m.update({noDragClassName:i,handleSelector:l,domNode:e.current,isSelectable:u,nodeId:s,nodeClickDistance:a}),()=>{var v;(v=g.current)==null||v.destroy()}},[i,l,r,u,e,s]),h}const Nk=e=>r=>r.selected&&(r.draggable||e&&typeof r.draggable>"u");function ry(){const e=at();return Z.useCallback(i=>{const{nodeExtent:l,snapToGrid:s,snapGrid:u,nodesDraggable:a,onError:d,updateNodePositions:h,nodeLookup:p,nodeOrigin:g}=e.getState(),f=new Map,m=Nk(a),v=s?u[0]:5,w=s?u[1]:5,E=i.direction.x*v*i.factor,_=i.direction.y*w*i.factor;for(const[,k]of p){if(!m(k))continue;let S={x:k.internals.positionAbsolute.x+E,y:k.internals.positionAbsolute.y+_};s&&(S=ws(S,u));const{position:b,positionAbsolute:C}=b0({nodeId:k.id,nextPosition:S,nodeLookup:p,nodeExtent:l,nodeOrigin:g,onError:d});k.position=b,k.internals.positionAbsolute=C,f.set(k.id,k)}h(f)},[])}const Gd=Z.createContext(null),Ck=Gd.Provider;Gd.Consumer;const iy=()=>Z.useContext(Gd),Rk=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),Tk=(e,r,i)=>l=>{const{connectionClickStartHandle:s,connectionMode:u,connection:a}=l,{fromHandle:d,toHandle:h,isValid:p}=a,g=(h==null?void 0:h.nodeId)===e&&(h==null?void 0:h.id)===r&&(h==null?void 0:h.type)===i;return{connectingFrom:(d==null?void 0:d.nodeId)===e&&(d==null?void 0:d.id)===r&&(d==null?void 0:d.type)===i,connectingTo:g,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===r&&(s==null?void 0:s.type)===i,isPossibleEndHandle:u===oo.Strict?(d==null?void 0:d.type)!==i:e!==(d==null?void 0:d.nodeId)||r!==(d==null?void 0:d.id),connectionInProcess:!!d,clickConnectionInProcess:!!s,valid:g&&p}};function Mk({type:e="source",position:r=Re.Top,isValidConnection:i,isConnectable:l=!0,isConnectableStart:s=!0,isConnectableEnd:u=!0,id:a,onConnect:d,children:h,className:p,onMouseDown:g,onTouchStart:f,...m},v){var J,F;const w=a||null,E=e==="target",_=at(),k=iy(),{connectOnClick:S,noPanClassName:b,rfId:C}=Ve(Rk,lt),{connectingFrom:A,connectingTo:T,clickConnecting:D,isPossibleEndHandle:R,connectionInProcess:O,clickConnectionInProcess:G,valid:z}=Ve(Tk(k,w,e),lt);k||(F=(J=_.getState()).onError)==null||F.call(J,"010",Kn.error010());const j=X=>{const{defaultEdgeOptions:I,onConnect:$,hasDefaultEdges:H}=_.getState(),L={...I,...X};if(H){const{edges:V,setEdges:U}=_.getState();U(X_(L,V))}$==null||$(L),d==null||d(L)},ee=X=>{if(!k)return;const I=A0(X.nativeEvent);if(s&&(I&&X.button===0||!I)){const $=_.getState();kd.onPointerDown(X.nativeEvent,{handleDomNode:X.currentTarget,autoPanOnConnect:$.autoPanOnConnect,connectionMode:$.connectionMode,connectionRadius:$.connectionRadius,domNode:$.domNode,nodeLookup:$.nodeLookup,lib:$.lib,isTarget:E,handleId:w,nodeId:k,flowId:$.rfId,panBy:$.panBy,cancelConnection:$.cancelConnection,onConnectStart:$.onConnectStart,onConnectEnd:$.onConnectEnd,updateConnection:$.updateConnection,onConnect:j,isValidConnection:i||$.isValidConnection,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle,autoPanSpeed:$.autoPanSpeed,dragThreshold:$.connectionDragThreshold})}I?g==null||g(X):f==null||f(X)},P=X=>{const{onClickConnectStart:I,onClickConnectEnd:$,connectionClickStartHandle:H,connectionMode:L,isValidConnection:V,lib:U,rfId:q,nodeLookup:Q,connection:re}=_.getState();if(!k||!H&&!s)return;if(!H){I==null||I(X.nativeEvent,{nodeId:k,handleId:w,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:k,type:e,id:w}});return}const ae=T0(X.target),oe=i||V,{connection:se,isValid:me}=kd.isValid(X.nativeEvent,{handle:{nodeId:k,id:w,type:e},connectionMode:L,fromNodeId:H.nodeId,fromHandleId:H.id||null,fromType:H.type,isValidConnection:oe,flowId:q,doc:ae,lib:U,nodeLookup:Q});me&&se&&j(se);const Te=structuredClone(re);delete Te.inProgress,Te.toPosition=Te.toHandle?Te.toHandle.position:null,$==null||$(X,Te),_.setState({connectionClickStartHandle:null})};return M.jsx("div",{"data-handleid":w,"data-nodeid":k,"data-handlepos":r,"data-id":`${C}-${k}-${w}-${e}`,className:Et(["react-flow__handle",`react-flow__handle-${r}`,"nodrag",b,p,{source:!E,target:E,connectable:l,connectablestart:s,connectableend:u,clickconnecting:D,connectingfrom:A,connectingto:T,valid:z,connectionindicator:l&&(!O||R)&&(O||G?u:s)}]),onMouseDown:ee,onTouchStart:ee,onClick:S?P:void 0,ref:v,...m,children:h})}const wi=Z.memo(ey(Mk));function Ak({data:e,isConnectable:r,sourcePosition:i=Re.Bottom}){return M.jsxs(M.Fragment,{children:[e==null?void 0:e.label,M.jsx(wi,{type:"source",position:i,isConnectable:r})]})}function Ik({data:e,isConnectable:r,targetPosition:i=Re.Top,sourcePosition:l=Re.Bottom}){return M.jsxs(M.Fragment,{children:[M.jsx(wi,{type:"target",position:i,isConnectable:r}),e==null?void 0:e.label,M.jsx(wi,{type:"source",position:l,isConnectable:r})]})}function Lk(){return null}function Ok({data:e,isConnectable:r,targetPosition:i=Re.Top}){return M.jsxs(M.Fragment,{children:[M.jsx(wi,{type:"target",position:i,isConnectable:r}),e==null?void 0:e.label]})}const Jl={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Ng={input:Ak,default:Ik,output:Ok,group:Lk};function Pk(e){var r,i,l,s;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((r=e.style)==null?void 0:r.width),height:e.height??e.initialHeight??((i=e.style)==null?void 0:i.height)}:{width:e.width??((l=e.style)==null?void 0:l.width),height:e.height??((s=e.style)==null?void 0:s.height)}}const zk=e=>{const{width:r,height:i,x:l,y:s}=xs(e.nodeLookup,{filter:u=>!!u.selected});return{width:Ln(r)?r:null,height:Ln(i)?i:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${l}px,${s}px)`}};function Dk({onSelectionContextMenu:e,noPanClassName:r,disableKeyboardA11y:i}){const l=at(),{width:s,height:u,transformString:a,userSelectionActive:d}=Ve(zk,lt),h=ry(),p=Z.useRef(null);if(Z.useEffect(()=>{var m;i||(m=p.current)==null||m.focus({preventScroll:!0})},[i]),ny({nodeRef:p}),d||!s||!u)return null;const g=e?m=>{const v=l.getState().nodes.filter(w=>w.selected);e(m,v)}:void 0,f=m=>{Object.prototype.hasOwnProperty.call(Jl,m.key)&&(m.preventDefault(),h({direction:Jl[m.key],factor:m.shiftKey?4:1}))};return M.jsx("div",{className:Et(["react-flow__nodesselection","react-flow__container",r]),style:{transform:a},children:M.jsx("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:g,tabIndex:i?void 0:-1,onKeyDown:i?void 0:f,style:{width:s,height:u}})})}const Cg=typeof window<"u"?window:void 0,$k=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function oy({children:e,onPaneClick:r,onPaneMouseEnter:i,onPaneMouseMove:l,onPaneMouseLeave:s,onPaneContextMenu:u,onPaneScroll:a,paneClickDistance:d,deleteKeyCode:h,selectionKeyCode:p,selectionOnDrag:g,selectionMode:f,onSelectionStart:m,onSelectionEnd:v,multiSelectionKeyCode:w,panActivationKeyCode:E,zoomActivationKeyCode:_,elementsSelectable:k,zoomOnScroll:S,zoomOnPinch:b,panOnScroll:C,panOnScrollSpeed:A,panOnScrollMode:T,zoomOnDoubleClick:D,panOnDrag:R,defaultViewport:O,translateExtent:G,minZoom:z,maxZoom:j,preventScrolling:ee,onSelectionContextMenu:P,noWheelClassName:J,noPanClassName:F,disableKeyboardA11y:X,onViewportChange:I,isControlledViewport:$}){const{nodesSelectionActive:H,userSelectionActive:L}=Ve($k,lt),V=ps(p,{target:Cg}),U=ps(E,{target:Cg}),q=U||R,Q=U||C,re=g&&q!==!0,ae=V||L||re;return vk({deleteKeyCode:h,multiSelectionKeyCode:w}),M.jsx(Ek,{onPaneContextMenu:u,elementsSelectable:k,zoomOnScroll:S,zoomOnPinch:b,panOnScroll:Q,panOnScrollSpeed:A,panOnScrollMode:T,zoomOnDoubleClick:D,panOnDrag:!V&&q,defaultViewport:O,translateExtent:G,minZoom:z,maxZoom:j,zoomActivationKeyCode:_,preventScrolling:ee,noWheelClassName:J,noPanClassName:F,onViewportChange:I,isControlledViewport:$,paneClickDistance:d,selectionOnDrag:re,children:M.jsxs(Sk,{onSelectionStart:m,onSelectionEnd:v,onPaneClick:r,onPaneMouseEnter:i,onPaneMouseMove:l,onPaneMouseLeave:s,onPaneContextMenu:u,onPaneScroll:a,panOnDrag:q,isSelecting:!!ae,selectionMode:f,selectionKeyPressed:V,paneClickDistance:d,selectionOnDrag:re,children:[e,H&&M.jsx(Dk,{onSelectionContextMenu:P,noPanClassName:F,disableKeyboardA11y:X})]})})}oy.displayName="FlowRenderer";const jk=Z.memo(oy),Bk=e=>r=>e?$d(r.nodeLookup,{x:0,y:0,width:r.width,height:r.height},r.transform,!0).map(i=>i.id):Array.from(r.nodeLookup.keys());function Fk(e){return Ve(Z.useCallback(Bk(e),[e]),lt)}const Hk=e=>e.updateNodeInternals;function Uk(){const e=Ve(Hk),[r]=Z.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(i=>{const l=new Map;i.forEach(s=>{const u=s.target.getAttribute("data-id");l.set(u,{id:u,nodeElement:s.target,force:!0})}),e(l)}));return Z.useEffect(()=>()=>{r==null||r.disconnect()},[r]),r}function Vk({node:e,nodeType:r,hasDimensions:i,resizeObserver:l}){const s=at(),u=Z.useRef(null),a=Z.useRef(null),d=Z.useRef(e.sourcePosition),h=Z.useRef(e.targetPosition),p=Z.useRef(r),g=i&&!!e.internals.handleBounds;return Z.useEffect(()=>{u.current&&!e.hidden&&(!g||a.current!==u.current)&&(a.current&&(l==null||l.unobserve(a.current)),l==null||l.observe(u.current),a.current=u.current)},[g,e.hidden]),Z.useEffect(()=>()=>{a.current&&(l==null||l.unobserve(a.current),a.current=null)},[]),Z.useEffect(()=>{if(u.current){const f=p.current!==r,m=d.current!==e.sourcePosition,v=h.current!==e.targetPosition;(f||m||v)&&(p.current=r,d.current=e.sourcePosition,h.current=e.targetPosition,s.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:u.current,force:!0}]])))}},[e.id,r,e.sourcePosition,e.targetPosition]),u}function Wk({id:e,onClick:r,onMouseEnter:i,onMouseMove:l,onMouseLeave:s,onContextMenu:u,onDoubleClick:a,nodesDraggable:d,elementsSelectable:h,nodesConnectable:p,nodesFocusable:g,resizeObserver:f,noDragClassName:m,noPanClassName:v,disableKeyboardA11y:w,rfId:E,nodeTypes:_,nodeClickDistance:k,onError:S}){const{node:b,internals:C,isParent:A}=Ve(oe=>{const se=oe.nodeLookup.get(e),me=oe.parentLookup.has(e);return{node:se,internals:se.internals,isParent:me}},lt);let T=b.type||"default",D=(_==null?void 0:_[T])||Ng[T];D===void 0&&(S==null||S("003",Kn.error003(T)),T="default",D=(_==null?void 0:_.default)||Ng.default);const R=!!(b.draggable||d&&typeof b.draggable>"u"),O=!!(b.selectable||h&&typeof b.selectable>"u"),G=!!(b.connectable||p&&typeof b.connectable>"u"),z=!!(b.focusable||g&&typeof b.focusable>"u"),j=at(),ee=C0(b),P=Vk({node:b,nodeType:T,hasDimensions:ee,resizeObserver:f}),J=ny({nodeRef:P,disabled:b.hidden||!R,noDragClassName:m,handleSelector:b.dragHandle,nodeId:e,isSelectable:O,nodeClickDistance:k}),F=ry();if(b.hidden)return null;const X=mr(b),I=Pk(b),$=O||R||r||i||l||s,H=i?oe=>i(oe,{...C.userNode}):void 0,L=l?oe=>l(oe,{...C.userNode}):void 0,V=s?oe=>s(oe,{...C.userNode}):void 0,U=u?oe=>u(oe,{...C.userNode}):void 0,q=a?oe=>a(oe,{...C.userNode}):void 0,Q=oe=>{const{selectNodesOnDrag:se,nodeDragThreshold:me}=j.getState();O&&(!se||!R||me>0)&&Sd({id:e,store:j,nodeRef:P}),r&&r(oe,{...C.userNode})},re=oe=>{if(!(M0(oe.nativeEvent)||w)){if(v0.includes(oe.key)&&O){const se=oe.key==="Escape";Sd({id:e,store:j,unselect:se,nodeRef:P})}else if(R&&b.selected&&Object.prototype.hasOwnProperty.call(Jl,oe.key)){oe.preventDefault();const{ariaLabelConfig:se}=j.getState();j.setState({ariaLiveMessage:se["node.a11yDescription.ariaLiveMessage"]({direction:oe.key.replace("Arrow","").toLowerCase(),x:~~C.positionAbsolute.x,y:~~C.positionAbsolute.y})}),F({direction:Jl[oe.key],factor:oe.shiftKey?4:1})}}},ae=()=>{var Le;if(w||!((Le=P.current)!=null&&Le.matches(":focus-visible")))return;const{transform:oe,width:se,height:me,autoPanOnNodeFocus:Te,setCenter:Ee}=j.getState();if(!Te)return;$d(new Map([[e,b]]),{x:0,y:0,width:se,height:me},oe,!0).length>0||Ee(b.position.x+X.width/2,b.position.y+X.height/2,{zoom:oe[2]})};return M.jsx("div",{className:Et(["react-flow__node",`react-flow__node-${T}`,{[v]:R},b.className,{selected:b.selected,selectable:O,parent:A,draggable:R,dragging:J}]),ref:P,style:{zIndex:C.z,transform:`translate(${C.positionAbsolute.x}px,${C.positionAbsolute.y}px)`,pointerEvents:$?"all":"none",visibility:ee?"visible":"hidden",...b.style,...I},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:H,onMouseMove:L,onMouseLeave:V,onContextMenu:U,onClick:Q,onDoubleClick:q,onKeyDown:z?re:void 0,tabIndex:z?0:void 0,onFocus:z?ae:void 0,role:b.ariaRole??(z?"group":void 0),"aria-roledescription":"node","aria-describedby":w?void 0:`${X0}-${E}`,"aria-label":b.ariaLabel,...b.domAttributes,children:M.jsx(Ck,{value:e,children:M.jsx(D,{id:e,data:b.data,type:T,positionAbsoluteX:C.positionAbsolute.x,positionAbsoluteY:C.positionAbsolute.y,selected:b.selected??!1,selectable:O,draggable:R,deletable:b.deletable??!0,isConnectable:G,sourcePosition:b.sourcePosition,targetPosition:b.targetPosition,dragging:J,dragHandle:b.dragHandle,zIndex:C.z,parentId:b.parentId,...X})})})}var Gk=Z.memo(Wk);const qk=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function sy(e){const{nodesDraggable:r,nodesConnectable:i,nodesFocusable:l,elementsSelectable:s,onError:u}=Ve(qk,lt),a=Fk(e.onlyRenderVisibleElements),d=Uk();return M.jsx("div",{className:"react-flow__nodes",style:ya,children:a.map(h=>M.jsx(Gk,{id:h,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:d,nodesDraggable:r,nodesConnectable:i,nodesFocusable:l,elementsSelectable:s,nodeClickDistance:e.nodeClickDistance,onError:u},h))})}sy.displayName="NodeRenderer";const Yk=Z.memo(sy);function Xk(e){return Ve(Z.useCallback(i=>{if(!e)return i.edges.map(s=>s.id);const l=[];if(i.width&&i.height)for(const s of i.edges){const u=i.nodeLookup.get(s.source),a=i.nodeLookup.get(s.target);u&&a&&G_({sourceNode:u,targetNode:a,width:i.width,height:i.height,transform:i.transform})&&l.push(s.id)}return l},[e]),lt)}const Kk=({color:e="none",strokeWidth:r=1})=>{const i={strokeWidth:r,...e&&{stroke:e}};return M.jsx("polyline",{className:"arrow",style:i,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},Qk=({color:e="none",strokeWidth:r=1})=>{const i={strokeWidth:r,...e&&{stroke:e,fill:e}};return M.jsx("polyline",{className:"arrowclosed",style:i,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Rg={[Kl.Arrow]:Kk,[Kl.ArrowClosed]:Qk};function Zk(e){const r=at();return Z.useMemo(()=>{var s,u;return Object.prototype.hasOwnProperty.call(Rg,e)?Rg[e]:((u=(s=r.getState()).onError)==null||u.call(s,"009",Kn.error009(e)),null)},[e])}const Jk=({id:e,type:r,color:i,width:l=12.5,height:s=12.5,markerUnits:u="strokeWidth",strokeWidth:a,orient:d="auto-start-reverse"})=>{const h=Zk(r);return h?M.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${l}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:u,orient:d,refX:"0",refY:"0",children:M.jsx(h,{color:i,strokeWidth:a})}):null},ly=({defaultColor:e,rfId:r})=>{const i=Ve(u=>u.edges),l=Ve(u=>u.defaultEdgeOptions),s=Z.useMemo(()=>eb(i,{id:r,defaultColor:e,defaultMarkerStart:l==null?void 0:l.markerStart,defaultMarkerEnd:l==null?void 0:l.markerEnd}),[i,l,r,e]);return s.length?M.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:M.jsx("defs",{children:s.map(u=>M.jsx(Jk,{id:u.id,type:u.type,color:u.color,width:u.width,height:u.height,markerUnits:u.markerUnits,strokeWidth:u.strokeWidth,orient:u.orient},u.id))})}):null};ly.displayName="MarkerDefinitions";var eS=Z.memo(ly);function ay({x:e,y:r,label:i,labelStyle:l,labelShowBg:s=!0,labelBgStyle:u,labelBgPadding:a=[2,4],labelBgBorderRadius:d=2,children:h,className:p,...g}){const[f,m]=Z.useState({x:1,y:0,width:0,height:0}),v=Et(["react-flow__edge-textwrapper",p]),w=Z.useRef(null);return Z.useEffect(()=>{if(w.current){const E=w.current.getBBox();m({x:E.x,y:E.y,width:E.width,height:E.height})}},[i]),i?M.jsxs("g",{transform:`translate(${e-f.width/2} ${r-f.height/2})`,className:v,visibility:f.width?"visible":"hidden",...g,children:[s&&M.jsx("rect",{width:f.width+2*a[0],x:-a[0],y:-a[1],height:f.height+2*a[1],className:"react-flow__edge-textbg",style:u,rx:d,ry:d}),M.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:w,style:l,children:i}),h]}):null}ay.displayName="EdgeText";const tS=Z.memo(ay);function va({path:e,labelX:r,labelY:i,label:l,labelStyle:s,labelShowBg:u,labelBgStyle:a,labelBgPadding:d,labelBgBorderRadius:h,interactionWidth:p=20,...g}){return M.jsxs(M.Fragment,{children:[M.jsx("path",{...g,d:e,fill:"none",className:Et(["react-flow__edge-path",g.className])}),p?M.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}):null,l&&Ln(r)&&Ln(i)?M.jsx(tS,{x:r,y:i,label:l,labelStyle:s,labelShowBg:u,labelBgStyle:a,labelBgPadding:d,labelBgBorderRadius:h}):null]})}function Tg({pos:e,x1:r,y1:i,x2:l,y2:s}){return e===Re.Left||e===Re.Right?[.5*(r+l),i]:[r,.5*(i+s)]}function uy({sourceX:e,sourceY:r,sourcePosition:i=Re.Bottom,targetX:l,targetY:s,targetPosition:u=Re.Top}){const[a,d]=Tg({pos:i,x1:e,y1:r,x2:l,y2:s}),[h,p]=Tg({pos:u,x1:l,y1:s,x2:e,y2:r}),[g,f,m,v]=I0({sourceX:e,sourceY:r,targetX:l,targetY:s,sourceControlX:a,sourceControlY:d,targetControlX:h,targetControlY:p});return[`M${e},${r} C${a},${d} ${h},${p} ${l},${s}`,g,f,m,v]}function cy(e){return Z.memo(({id:r,sourceX:i,sourceY:l,targetX:s,targetY:u,sourcePosition:a,targetPosition:d,label:h,labelStyle:p,labelShowBg:g,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:v,style:w,markerEnd:E,markerStart:_,interactionWidth:k})=>{const[S,b,C]=uy({sourceX:i,sourceY:l,sourcePosition:a,targetX:s,targetY:u,targetPosition:d}),A=e.isInternal?void 0:r;return M.jsx(va,{id:A,path:S,labelX:b,labelY:C,label:h,labelStyle:p,labelShowBg:g,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:v,style:w,markerEnd:E,markerStart:_,interactionWidth:k})})}const nS=cy({isInternal:!1}),dy=cy({isInternal:!0});nS.displayName="SimpleBezierEdge";dy.displayName="SimpleBezierEdgeInternal";function fy(e){return Z.memo(({id:r,sourceX:i,sourceY:l,targetX:s,targetY:u,label:a,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:f,style:m,sourcePosition:v=Re.Bottom,targetPosition:w=Re.Top,markerEnd:E,markerStart:_,pathOptions:k,interactionWidth:S})=>{const[b,C,A]=Ed({sourceX:i,sourceY:l,sourcePosition:v,targetX:s,targetY:u,targetPosition:w,borderRadius:k==null?void 0:k.borderRadius,offset:k==null?void 0:k.offset,stepPosition:k==null?void 0:k.stepPosition}),T=e.isInternal?void 0:r;return M.jsx(va,{id:T,path:b,labelX:C,labelY:A,label:a,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:f,style:m,markerEnd:E,markerStart:_,interactionWidth:S})})}const hy=fy({isInternal:!1}),py=fy({isInternal:!0});hy.displayName="SmoothStepEdge";py.displayName="SmoothStepEdgeInternal";function gy(e){return Z.memo(({id:r,...i})=>{var s;const l=e.isInternal?void 0:r;return M.jsx(hy,{...i,id:l,pathOptions:Z.useMemo(()=>{var u;return{borderRadius:0,offset:(u=i.pathOptions)==null?void 0:u.offset}},[(s=i.pathOptions)==null?void 0:s.offset])})})}const rS=gy({isInternal:!1}),my=gy({isInternal:!0});rS.displayName="StepEdge";my.displayName="StepEdgeInternal";function yy(e){return Z.memo(({id:r,sourceX:i,sourceY:l,targetX:s,targetY:u,label:a,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:f,style:m,markerEnd:v,markerStart:w,interactionWidth:E})=>{const[_,k,S]=P0({sourceX:i,sourceY:l,targetX:s,targetY:u}),b=e.isInternal?void 0:r;return M.jsx(va,{id:b,path:_,labelX:k,labelY:S,label:a,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:f,style:m,markerEnd:v,markerStart:w,interactionWidth:E})})}const iS=yy({isInternal:!1}),vy=yy({isInternal:!0});iS.displayName="StraightEdge";vy.displayName="StraightEdgeInternal";function xy(e){return Z.memo(({id:r,sourceX:i,sourceY:l,targetX:s,targetY:u,sourcePosition:a=Re.Bottom,targetPosition:d=Re.Top,label:h,labelStyle:p,labelShowBg:g,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:v,style:w,markerEnd:E,markerStart:_,pathOptions:k,interactionWidth:S})=>{const[b,C,A]=L0({sourceX:i,sourceY:l,sourcePosition:a,targetX:s,targetY:u,targetPosition:d,curvature:k==null?void 0:k.curvature}),T=e.isInternal?void 0:r;return M.jsx(va,{id:T,path:b,labelX:C,labelY:A,label:h,labelStyle:p,labelShowBg:g,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:v,style:w,markerEnd:E,markerStart:_,interactionWidth:S})})}const oS=xy({isInternal:!1}),wy=xy({isInternal:!0});oS.displayName="BezierEdge";wy.displayName="BezierEdgeInternal";const Mg={default:wy,straight:vy,step:my,smoothstep:py,simplebezier:dy},Ag={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},sS=(e,r,i)=>i===Re.Left?e-r:i===Re.Right?e+r:e,lS=(e,r,i)=>i===Re.Top?e-r:i===Re.Bottom?e+r:e,Ig="react-flow__edgeupdater";function Lg({position:e,centerX:r,centerY:i,radius:l=10,onMouseDown:s,onMouseEnter:u,onMouseOut:a,type:d}){return M.jsx("circle",{onMouseDown:s,onMouseEnter:u,onMouseOut:a,className:Et([Ig,`${Ig}-${d}`]),cx:sS(r,l,e),cy:lS(i,l,e),r:l,stroke:"transparent",fill:"transparent"})}function aS({isReconnectable:e,reconnectRadius:r,edge:i,sourceX:l,sourceY:s,targetX:u,targetY:a,sourcePosition:d,targetPosition:h,onReconnect:p,onReconnectStart:g,onReconnectEnd:f,setReconnecting:m,setUpdateHover:v}){const w=at(),E=(C,A)=>{if(C.button!==0)return;const{autoPanOnConnect:T,domNode:D,isValidConnection:R,connectionMode:O,connectionRadius:G,lib:z,onConnectStart:j,onConnectEnd:ee,cancelConnection:P,nodeLookup:J,rfId:F,panBy:X,updateConnection:I}=w.getState(),$=A.type==="target",H=(U,q)=>{m(!1),f==null||f(U,i,A.type,q)},L=U=>p==null?void 0:p(i,U),V=(U,q)=>{m(!0),g==null||g(C,i,A.type),j==null||j(U,q)};kd.onPointerDown(C.nativeEvent,{autoPanOnConnect:T,connectionMode:O,connectionRadius:G,domNode:D,handleId:A.id,nodeId:A.nodeId,nodeLookup:J,isTarget:$,edgeUpdaterType:A.type,lib:z,flowId:F,cancelConnection:P,panBy:X,isValidConnection:R,onConnect:L,onConnectStart:V,onConnectEnd:ee,onReconnectEnd:H,updateConnection:I,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,dragThreshold:w.getState().connectionDragThreshold,handleDomNode:C.currentTarget})},_=C=>E(C,{nodeId:i.target,id:i.targetHandle??null,type:"target"}),k=C=>E(C,{nodeId:i.source,id:i.sourceHandle??null,type:"source"}),S=()=>v(!0),b=()=>v(!1);return M.jsxs(M.Fragment,{children:[(e===!0||e==="source")&&M.jsx(Lg,{position:d,centerX:l,centerY:s,radius:r,onMouseDown:_,onMouseEnter:S,onMouseOut:b,type:"source"}),(e===!0||e==="target")&&M.jsx(Lg,{position:h,centerX:u,centerY:a,radius:r,onMouseDown:k,onMouseEnter:S,onMouseOut:b,type:"target"})]})}function uS({id:e,edgesFocusable:r,edgesReconnectable:i,elementsSelectable:l,onClick:s,onDoubleClick:u,onContextMenu:a,onMouseEnter:d,onMouseMove:h,onMouseLeave:p,reconnectRadius:g,onReconnect:f,onReconnectStart:m,onReconnectEnd:v,rfId:w,edgeTypes:E,noPanClassName:_,onError:k,disableKeyboardA11y:S}){let b=Ve(Ee=>Ee.edgeLookup.get(e));const C=Ve(Ee=>Ee.defaultEdgeOptions);b=C?{...C,...b}:b;let A=b.type||"default",T=(E==null?void 0:E[A])||Mg[A];T===void 0&&(k==null||k("011",Kn.error011(A)),A="default",T=(E==null?void 0:E.default)||Mg.default);const D=!!(b.focusable||r&&typeof b.focusable>"u"),R=typeof f<"u"&&(b.reconnectable||i&&typeof b.reconnectable>"u"),O=!!(b.selectable||l&&typeof b.selectable>"u"),G=Z.useRef(null),[z,j]=Z.useState(!1),[ee,P]=Z.useState(!1),J=at(),{zIndex:F,sourceX:X,sourceY:I,targetX:$,targetY:H,sourcePosition:L,targetPosition:V}=Ve(Z.useCallback(Ee=>{const ye=Ee.nodeLookup.get(b.source),Le=Ee.nodeLookup.get(b.target);if(!ye||!Le)return{zIndex:b.zIndex,...Ag};const We=J_({id:e,sourceNode:ye,targetNode:Le,sourceHandle:b.sourceHandle||null,targetHandle:b.targetHandle||null,connectionMode:Ee.connectionMode,onError:k});return{zIndex:W_({selected:b.selected,zIndex:b.zIndex,sourceNode:ye,targetNode:Le,elevateOnSelect:Ee.elevateEdgesOnSelect,zIndexMode:Ee.zIndexMode}),...We||Ag}},[b.source,b.target,b.sourceHandle,b.targetHandle,b.selected,b.zIndex]),lt),U=Z.useMemo(()=>b.markerStart?`url('#${_d(b.markerStart,w)}')`:void 0,[b.markerStart,w]),q=Z.useMemo(()=>b.markerEnd?`url('#${_d(b.markerEnd,w)}')`:void 0,[b.markerEnd,w]);if(b.hidden||X===null||I===null||$===null||H===null)return null;const Q=Ee=>{var Be;const{addSelectedEdges:ye,unselectNodesAndEdges:Le,multiSelectionActive:We}=J.getState();O&&(J.setState({nodesSelectionActive:!1}),b.selected&&We?(Le({nodes:[],edges:[b]}),(Be=G.current)==null||Be.blur()):ye([e])),s&&s(Ee,b)},re=u?Ee=>{u(Ee,{...b})}:void 0,ae=a?Ee=>{a(Ee,{...b})}:void 0,oe=d?Ee=>{d(Ee,{...b})}:void 0,se=h?Ee=>{h(Ee,{...b})}:void 0,me=p?Ee=>{p(Ee,{...b})}:void 0,Te=Ee=>{var ye;if(!S&&v0.includes(Ee.key)&&O){const{unselectNodesAndEdges:Le,addSelectedEdges:We}=J.getState();Ee.key==="Escape"?((ye=G.current)==null||ye.blur(),Le({edges:[b]})):We([e])}};return M.jsx("svg",{style:{zIndex:F},children:M.jsxs("g",{className:Et(["react-flow__edge",`react-flow__edge-${A}`,b.className,_,{selected:b.selected,animated:b.animated,inactive:!O&&!s,updating:z,selectable:O}]),onClick:Q,onDoubleClick:re,onContextMenu:ae,onMouseEnter:oe,onMouseMove:se,onMouseLeave:me,onKeyDown:D?Te:void 0,tabIndex:D?0:void 0,role:b.ariaRole??(D?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":b.ariaLabel===null?void 0:b.ariaLabel||`Edge from ${b.source} to ${b.target}`,"aria-describedby":D?`${K0}-${w}`:void 0,ref:G,...b.domAttributes,children:[!ee&&M.jsx(T,{id:e,source:b.source,target:b.target,type:b.type,selected:b.selected,animated:b.animated,selectable:O,deletable:b.deletable??!0,label:b.label,labelStyle:b.labelStyle,labelShowBg:b.labelShowBg,labelBgStyle:b.labelBgStyle,labelBgPadding:b.labelBgPadding,labelBgBorderRadius:b.labelBgBorderRadius,sourceX:X,sourceY:I,targetX:$,targetY:H,sourcePosition:L,targetPosition:V,data:b.data,style:b.style,sourceHandleId:b.sourceHandle,targetHandleId:b.targetHandle,markerStart:U,markerEnd:q,pathOptions:"pathOptions"in b?b.pathOptions:void 0,interactionWidth:b.interactionWidth}),R&&M.jsx(aS,{edge:b,isReconnectable:R,reconnectRadius:g,onReconnect:f,onReconnectStart:m,onReconnectEnd:v,sourceX:X,sourceY:I,targetX:$,targetY:H,sourcePosition:L,targetPosition:V,setUpdateHover:j,setReconnecting:P})]})})}var cS=Z.memo(uS);const dS=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Ey({defaultMarkerColor:e,onlyRenderVisibleElements:r,rfId:i,edgeTypes:l,noPanClassName:s,onReconnect:u,onEdgeContextMenu:a,onEdgeMouseEnter:d,onEdgeMouseMove:h,onEdgeMouseLeave:p,onEdgeClick:g,reconnectRadius:f,onEdgeDoubleClick:m,onReconnectStart:v,onReconnectEnd:w,disableKeyboardA11y:E}){const{edgesFocusable:_,edgesReconnectable:k,elementsSelectable:S,onError:b}=Ve(dS,lt),C=Xk(r);return M.jsxs("div",{className:"react-flow__edges",children:[M.jsx(eS,{defaultColor:e,rfId:i}),C.map(A=>M.jsx(cS,{id:A,edgesFocusable:_,edgesReconnectable:k,elementsSelectable:S,noPanClassName:s,onReconnect:u,onContextMenu:a,onMouseEnter:d,onMouseMove:h,onMouseLeave:p,onClick:g,reconnectRadius:f,onDoubleClick:m,onReconnectStart:v,onReconnectEnd:w,rfId:i,onError:b,edgeTypes:l,disableKeyboardA11y:E},A))]})}Ey.displayName="EdgeRenderer";const fS=Z.memo(Ey),hS=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function pS({children:e}){const r=Ve(hS);return M.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:r},children:e})}function gS(e){const r=ma(),i=Z.useRef(!1);Z.useEffect(()=>{!i.current&&r.viewportInitialized&&e&&(setTimeout(()=>e(r),1),i.current=!0)},[e,r.viewportInitialized])}const mS=e=>{var r;return(r=e.panZoom)==null?void 0:r.syncViewport};function yS(e){const r=Ve(mS),i=at();return Z.useEffect(()=>{e&&(r==null||r(e),i.setState({transform:[e.x,e.y,e.zoom]}))},[e,r]),null}function vS(e){return e.connection.inProgress?{...e.connection,to:Es(e.connection.to,e.transform)}:{...e.connection}}function xS(e){return vS}function wS(e){const r=xS();return Ve(r,lt)}const ES=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function _S({containerStyle:e,style:r,type:i,component:l}){const{nodesConnectable:s,width:u,height:a,isValid:d,inProgress:h}=Ve(ES,lt);return!(u&&s&&h)?null:M.jsx("svg",{style:e,width:u,height:a,className:"react-flow__connectionline react-flow__container",children:M.jsx("g",{className:Et(["react-flow__connection",E0(d)]),children:M.jsx(_y,{style:r,type:i,CustomComponent:l,isValid:d})})})}const _y=({style:e,type:r=Hr.Bezier,CustomComponent:i,isValid:l})=>{const{inProgress:s,from:u,fromNode:a,fromHandle:d,fromPosition:h,to:p,toNode:g,toHandle:f,toPosition:m,pointer:v}=wS();if(!s)return;if(i)return M.jsx(i,{connectionLineType:r,connectionLineStyle:e,fromNode:a,fromHandle:d,fromX:u.x,fromY:u.y,toX:p.x,toY:p.y,fromPosition:h,toPosition:m,connectionStatus:E0(l),toNode:g,toHandle:f,pointer:v});let w="";const E={sourceX:u.x,sourceY:u.y,sourcePosition:h,targetX:p.x,targetY:p.y,targetPosition:m};switch(r){case Hr.Bezier:[w]=L0(E);break;case Hr.SimpleBezier:[w]=uy(E);break;case Hr.Step:[w]=Ed({...E,borderRadius:0});break;case Hr.SmoothStep:[w]=Ed(E);break;default:[w]=P0(E)}return M.jsx("path",{d:w,fill:"none",className:"react-flow__connection-path",style:e})};_y.displayName="ConnectionLine";const bS={};function Og(e=bS){Z.useRef(e),at(),Z.useEffect(()=>{},[e])}function kS(){at(),Z.useRef(!1),Z.useEffect(()=>{},[])}function by({nodeTypes:e,edgeTypes:r,onInit:i,onNodeClick:l,onEdgeClick:s,onNodeDoubleClick:u,onEdgeDoubleClick:a,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:g,onSelectionContextMenu:f,onSelectionStart:m,onSelectionEnd:v,connectionLineType:w,connectionLineStyle:E,connectionLineComponent:_,connectionLineContainerStyle:k,selectionKeyCode:S,selectionOnDrag:b,selectionMode:C,multiSelectionKeyCode:A,panActivationKeyCode:T,zoomActivationKeyCode:D,deleteKeyCode:R,onlyRenderVisibleElements:O,elementsSelectable:G,defaultViewport:z,translateExtent:j,minZoom:ee,maxZoom:P,preventScrolling:J,defaultMarkerColor:F,zoomOnScroll:X,zoomOnPinch:I,panOnScroll:$,panOnScrollSpeed:H,panOnScrollMode:L,zoomOnDoubleClick:V,panOnDrag:U,onPaneClick:q,onPaneMouseEnter:Q,onPaneMouseMove:re,onPaneMouseLeave:ae,onPaneScroll:oe,onPaneContextMenu:se,paneClickDistance:me,nodeClickDistance:Te,onEdgeContextMenu:Ee,onEdgeMouseEnter:ye,onEdgeMouseMove:Le,onEdgeMouseLeave:We,reconnectRadius:Be,onReconnect:ht,onReconnectStart:Jt,onReconnectEnd:$t,noDragClassName:It,noWheelClassName:Ut,noPanClassName:vn,disableKeyboardA11y:xn,nodeExtent:Vt,rfId:Dn,viewport:Lt,onViewportChange:Wt}){return Og(e),Og(r),kS(),gS(i),yS(Lt),M.jsx(jk,{onPaneClick:q,onPaneMouseEnter:Q,onPaneMouseMove:re,onPaneMouseLeave:ae,onPaneContextMenu:se,onPaneScroll:oe,paneClickDistance:me,deleteKeyCode:R,selectionKeyCode:S,selectionOnDrag:b,selectionMode:C,onSelectionStart:m,onSelectionEnd:v,multiSelectionKeyCode:A,panActivationKeyCode:T,zoomActivationKeyCode:D,elementsSelectable:G,zoomOnScroll:X,zoomOnPinch:I,zoomOnDoubleClick:V,panOnScroll:$,panOnScrollSpeed:H,panOnScrollMode:L,panOnDrag:U,defaultViewport:z,translateExtent:j,minZoom:ee,maxZoom:P,onSelectionContextMenu:f,preventScrolling:J,noDragClassName:It,noWheelClassName:Ut,noPanClassName:vn,disableKeyboardA11y:xn,onViewportChange:Wt,isControlledViewport:!!Lt,children:M.jsxs(pS,{children:[M.jsx(fS,{edgeTypes:r,onEdgeClick:s,onEdgeDoubleClick:a,onReconnect:ht,onReconnectStart:Jt,onReconnectEnd:$t,onlyRenderVisibleElements:O,onEdgeContextMenu:Ee,onEdgeMouseEnter:ye,onEdgeMouseMove:Le,onEdgeMouseLeave:We,reconnectRadius:Be,defaultMarkerColor:F,noPanClassName:vn,disableKeyboardA11y:xn,rfId:Dn}),M.jsx(_S,{style:E,type:w,component:_,containerStyle:k}),M.jsx("div",{className:"react-flow__edgelabel-renderer"}),M.jsx(Yk,{nodeTypes:e,onNodeClick:l,onNodeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:g,nodeClickDistance:Te,onlyRenderVisibleElements:O,noPanClassName:vn,noDragClassName:It,disableKeyboardA11y:xn,nodeExtent:Vt,rfId:Dn}),M.jsx("div",{className:"react-flow__viewport-portal"})]})})}by.displayName="GraphView";const SS=Z.memo(by),Pg=({nodes:e,edges:r,defaultNodes:i,defaultEdges:l,width:s,height:u,fitView:a,fitViewOptions:d,minZoom:h=.5,maxZoom:p=2,nodeOrigin:g,nodeExtent:f,zIndexMode:m="basic"}={})=>{const v=new Map,w=new Map,E=new Map,_=new Map,k=l??r??[],S=i??e??[],b=g??[0,0],C=f??cs;$0(E,_,k);const A=bd(S,v,w,{nodeOrigin:b,nodeExtent:C,zIndexMode:m});let T=[0,0,1];if(a&&s&&u){const D=xs(v,{filter:z=>!!((z.width||z.initialWidth)&&(z.height||z.initialHeight))}),{x:R,y:O,zoom:G}=jd(D,s,u,h,p,(d==null?void 0:d.padding)??.1);T=[R,O,G]}return{rfId:"1",width:s??0,height:u??0,transform:T,nodes:S,nodesInitialized:A,nodeLookup:v,parentLookup:w,edges:k,edgeLookup:_,connectionLookup:E,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:i!==void 0,hasDefaultEdges:l!==void 0,panZoom:null,minZoom:h,maxZoom:p,translateExtent:cs,nodeExtent:C,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:oo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:b,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:a??!1,fitViewOptions:d,fitViewResolver:null,connection:{...w0},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:j_,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:x0,zIndexMode:m,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},NS=({nodes:e,edges:r,defaultNodes:i,defaultEdges:l,width:s,height:u,fitView:a,fitViewOptions:d,minZoom:h,maxZoom:p,nodeOrigin:g,nodeExtent:f,zIndexMode:m})=>Ub((v,w)=>{async function E(){const{nodeLookup:_,panZoom:k,fitViewOptions:S,fitViewResolver:b,width:C,height:A,minZoom:T,maxZoom:D}=w();k&&(await D_({nodes:_,width:C,height:A,panZoom:k,minZoom:T,maxZoom:D},S),b==null||b.resolve(!0),v({fitViewResolver:null}))}return{...Pg({nodes:e,edges:r,width:s,height:u,fitView:a,fitViewOptions:d,minZoom:h,maxZoom:p,nodeOrigin:g,nodeExtent:f,defaultNodes:i,defaultEdges:l,zIndexMode:m}),setNodes:_=>{const{nodeLookup:k,parentLookup:S,nodeOrigin:b,elevateNodesOnSelect:C,fitViewQueued:A,zIndexMode:T}=w(),D=bd(_,k,S,{nodeOrigin:b,nodeExtent:f,elevateNodesOnSelect:C,checkEquality:!0,zIndexMode:T});A&&D?(E(),v({nodes:_,nodesInitialized:D,fitViewQueued:!1,fitViewOptions:void 0})):v({nodes:_,nodesInitialized:D})},setEdges:_=>{const{connectionLookup:k,edgeLookup:S}=w();$0(k,S,_),v({edges:_})},setDefaultNodesAndEdges:(_,k)=>{if(_){const{setNodes:S}=w();S(_),v({hasDefaultNodes:!0})}if(k){const{setEdges:S}=w();S(k),v({hasDefaultEdges:!0})}},updateNodeInternals:_=>{const{triggerNodeChanges:k,nodeLookup:S,parentLookup:b,domNode:C,nodeOrigin:A,nodeExtent:T,debug:D,fitViewQueued:R,zIndexMode:O}=w(),{changes:G,updatedInternals:z}=lb(_,S,b,C,A,T,O);z&&(rb(S,b,{nodeOrigin:A,nodeExtent:T,zIndexMode:O}),R?(E(),v({fitViewQueued:!1,fitViewOptions:void 0})):v({}),(G==null?void 0:G.length)>0&&(D&&console.log("React Flow: trigger node changes",G),k==null||k(G)))},updateNodePositions:(_,k=!1)=>{const S=[];let b=[];const{nodeLookup:C,triggerNodeChanges:A,connection:T,updateConnection:D,onNodesChangeMiddlewareMap:R}=w();for(const[O,G]of _){const z=C.get(O),j=!!(z!=null&&z.expandParent&&(z!=null&&z.parentId)&&(G!=null&&G.position)),ee={id:O,type:"position",position:j?{x:Math.max(0,G.position.x),y:Math.max(0,G.position.y)}:G.position,dragging:k};if(z&&T.inProgress&&T.fromNode.id===z.id){const P=xi(z,T.fromHandle,Re.Left,!0);D({...T,from:P})}j&&z.parentId&&S.push({id:O,parentId:z.parentId,rect:{...G.internals.positionAbsolute,width:G.measured.width??0,height:G.measured.height??0}}),b.push(ee)}if(S.length>0){const{parentLookup:O,nodeOrigin:G}=w(),z=Wd(S,C,O,G);b.push(...z)}for(const O of R.values())b=O(b);A(b)},triggerNodeChanges:_=>{const{onNodesChange:k,setNodes:S,nodes:b,hasDefaultNodes:C,debug:A}=w();if(_!=null&&_.length){if(C){const T=J0(_,b);S(T)}A&&console.log("React Flow: trigger node changes",_),k==null||k(_)}},triggerEdgeChanges:_=>{const{onEdgesChange:k,setEdges:S,edges:b,hasDefaultEdges:C,debug:A}=w();if(_!=null&&_.length){if(C){const T=ck(_,b);S(T)}A&&console.log("React Flow: trigger edge changes",_),k==null||k(_)}},addSelectedNodes:_=>{const{multiSelectionActive:k,edgeLookup:S,nodeLookup:b,triggerNodeChanges:C,triggerEdgeChanges:A}=w();if(k){const T=_.map(D=>fi(D,!0));C(T);return}C(eo(b,new Set([..._]),!0)),A(eo(S))},addSelectedEdges:_=>{const{multiSelectionActive:k,edgeLookup:S,nodeLookup:b,triggerNodeChanges:C,triggerEdgeChanges:A}=w();if(k){const T=_.map(D=>fi(D,!0));A(T);return}A(eo(S,new Set([..._]))),C(eo(b,new Set,!0))},unselectNodesAndEdges:({nodes:_,edges:k}={})=>{const{edges:S,nodes:b,nodeLookup:C,triggerNodeChanges:A,triggerEdgeChanges:T}=w(),D=_||b,R=k||S,O=D.map(z=>{const j=C.get(z.id);return j&&(j.selected=!1),fi(z.id,!1)}),G=R.map(z=>fi(z.id,!1));A(O),T(G)},setMinZoom:_=>{const{panZoom:k,maxZoom:S}=w();k==null||k.setScaleExtent([_,S]),v({minZoom:_})},setMaxZoom:_=>{const{panZoom:k,minZoom:S}=w();k==null||k.setScaleExtent([S,_]),v({maxZoom:_})},setTranslateExtent:_=>{var k;(k=w().panZoom)==null||k.setTranslateExtent(_),v({translateExtent:_})},resetSelectedElements:()=>{const{edges:_,nodes:k,triggerNodeChanges:S,triggerEdgeChanges:b,elementsSelectable:C}=w();if(!C)return;const A=k.reduce((D,R)=>R.selected?[...D,fi(R.id,!1)]:D,[]),T=_.reduce((D,R)=>R.selected?[...D,fi(R.id,!1)]:D,[]);S(A),b(T)},setNodeExtent:_=>{const{nodes:k,nodeLookup:S,parentLookup:b,nodeOrigin:C,elevateNodesOnSelect:A,nodeExtent:T,zIndexMode:D}=w();_[0][0]===T[0][0]&&_[0][1]===T[0][1]&&_[1][0]===T[1][0]&&_[1][1]===T[1][1]||(bd(k,S,b,{nodeOrigin:C,nodeExtent:_,elevateNodesOnSelect:A,checkEquality:!1,zIndexMode:D}),v({nodeExtent:_}))},panBy:_=>{const{transform:k,width:S,height:b,panZoom:C,translateExtent:A}=w();return ab({delta:_,panZoom:C,transform:k,translateExtent:A,width:S,height:b})},setCenter:async(_,k,S)=>{const{width:b,height:C,maxZoom:A,panZoom:T}=w();if(!T)return Promise.resolve(!1);const D=typeof(S==null?void 0:S.zoom)<"u"?S.zoom:A;return await T.setViewport({x:b/2-_*D,y:C/2-k*D,zoom:D},{duration:S==null?void 0:S.duration,ease:S==null?void 0:S.ease,interpolate:S==null?void 0:S.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{v({connection:{...w0}})},updateConnection:_=>{v({connection:_})},reset:()=>v({...Pg()})}},Object.is);function ky({initialNodes:e,initialEdges:r,defaultNodes:i,defaultEdges:l,initialWidth:s,initialHeight:u,initialMinZoom:a,initialMaxZoom:d,initialFitViewOptions:h,fitView:p,nodeOrigin:g,nodeExtent:f,zIndexMode:m,children:v}){const[w]=Z.useState(()=>NS({nodes:e,edges:r,defaultNodes:i,defaultEdges:l,width:s,height:u,fitView:p,minZoom:a,maxZoom:d,fitViewOptions:h,nodeOrigin:g,nodeExtent:f,zIndexMode:m}));return M.jsx(Vb,{value:w,children:M.jsx(pk,{children:v})})}function CS({children:e,nodes:r,edges:i,defaultNodes:l,defaultEdges:s,width:u,height:a,fitView:d,fitViewOptions:h,minZoom:p,maxZoom:g,nodeOrigin:f,nodeExtent:m,zIndexMode:v}){return Z.useContext(pa)?M.jsx(M.Fragment,{children:e}):M.jsx(ky,{initialNodes:r,initialEdges:i,defaultNodes:l,defaultEdges:s,initialWidth:u,initialHeight:a,fitView:d,initialFitViewOptions:h,initialMinZoom:p,initialMaxZoom:g,nodeOrigin:f,nodeExtent:m,zIndexMode:v,children:e})}const RS={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function TS({nodes:e,edges:r,defaultNodes:i,defaultEdges:l,className:s,nodeTypes:u,edgeTypes:a,onNodeClick:d,onEdgeClick:h,onInit:p,onMove:g,onMoveStart:f,onMoveEnd:m,onConnect:v,onConnectStart:w,onConnectEnd:E,onClickConnectStart:_,onClickConnectEnd:k,onNodeMouseEnter:S,onNodeMouseMove:b,onNodeMouseLeave:C,onNodeContextMenu:A,onNodeDoubleClick:T,onNodeDragStart:D,onNodeDrag:R,onNodeDragStop:O,onNodesDelete:G,onEdgesDelete:z,onDelete:j,onSelectionChange:ee,onSelectionDragStart:P,onSelectionDrag:J,onSelectionDragStop:F,onSelectionContextMenu:X,onSelectionStart:I,onSelectionEnd:$,onBeforeDelete:H,connectionMode:L,connectionLineType:V=Hr.Bezier,connectionLineStyle:U,connectionLineComponent:q,connectionLineContainerStyle:Q,deleteKeyCode:re="Backspace",selectionKeyCode:ae="Shift",selectionOnDrag:oe=!1,selectionMode:se=ds.Full,panActivationKeyCode:me="Space",multiSelectionKeyCode:Te=hs()?"Meta":"Control",zoomActivationKeyCode:Ee=hs()?"Meta":"Control",snapToGrid:ye,snapGrid:Le,onlyRenderVisibleElements:We=!1,selectNodesOnDrag:Be,nodesDraggable:ht,autoPanOnNodeFocus:Jt,nodesConnectable:$t,nodesFocusable:It,nodeOrigin:Ut=Q0,edgesFocusable:vn,edgesReconnectable:xn,elementsSelectable:Vt=!0,defaultViewport:Dn=rk,minZoom:Lt=.5,maxZoom:Wt=2,translateExtent:$n=cs,preventScrolling:bi=!0,nodeExtent:wn,defaultMarkerColor:Zn="#b1b1b7",zoomOnScroll:co=!0,zoomOnPinch:ki=!0,panOnScroll:Vr=!1,panOnScrollSpeed:fo=.5,panOnScrollMode:Wr=gi.Free,zoomOnDoubleClick:Gr=!0,panOnDrag:Jn=!0,onPaneClick:yr,onPaneMouseEnter:vr,onPaneMouseMove:jn,onPaneMouseLeave:En,onPaneScroll:_n,onPaneContextMenu:W,paneClickDistance:le=1,nodeClickDistance:ge=0,children:Oe,onReconnect:Je,onReconnectStart:et,onReconnectEnd:we,onEdgeContextMenu:ve,onEdgeDoubleClick:Me,onEdgeMouseEnter:pt,onEdgeMouseMove:Ze,onEdgeMouseLeave:un,reconnectRadius:Bn=10,onNodesChange:er,onEdgesChange:ho,noDragClassName:qr="nodrag",noWheelClassName:po="nowheel",noPanClassName:cn="nopan",fitView:Yr,fitViewOptions:xr,connectOnClick:wr,attributionPosition:Si,proOptions:Ni,defaultEdgeOptions:Ci,elevateNodesOnSelect:en=!0,elevateEdgesOnSelect:Ri=!1,disableKeyboardA11y:Xr=!1,autoPanOnConnect:nt,autoPanOnNodeDrag:go,autoPanSpeed:Kr,connectionRadius:tr,isValidConnection:Er,onError:fe,style:Ce,id:je,nodeDragThreshold:Fe,connectionDragThreshold:ut,viewport:rt,onViewportChange:dn,width:_r,height:Rt,colorMode:Tt="light",debug:nr,onScroll:tn,ariaLabelConfig:rr,zIndexMode:Ti="basic",...mo},Qr){const br=je||"1",Fn=lk(Tt),Hn=Z.useCallback(jt=>{jt.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),tn==null||tn(jt)},[tn]);return M.jsx("div",{"data-testid":"rf__wrapper",...mo,onScroll:Hn,style:{...Ce,...RS},ref:Qr,className:Et(["react-flow",s,Fn]),id:je,role:"application",children:M.jsxs(CS,{nodes:e,edges:r,width:_r,height:Rt,fitView:Yr,fitViewOptions:xr,minZoom:Lt,maxZoom:Wt,nodeOrigin:Ut,nodeExtent:wn,zIndexMode:Ti,children:[M.jsx(SS,{onInit:p,onNodeClick:d,onEdgeClick:h,onNodeMouseEnter:S,onNodeMouseMove:b,onNodeMouseLeave:C,onNodeContextMenu:A,onNodeDoubleClick:T,nodeTypes:u,edgeTypes:a,connectionLineType:V,connectionLineStyle:U,connectionLineComponent:q,connectionLineContainerStyle:Q,selectionKeyCode:ae,selectionOnDrag:oe,selectionMode:se,deleteKeyCode:re,multiSelectionKeyCode:Te,panActivationKeyCode:me,zoomActivationKeyCode:Ee,onlyRenderVisibleElements:We,defaultViewport:Dn,translateExtent:$n,minZoom:Lt,maxZoom:Wt,preventScrolling:bi,zoomOnScroll:co,zoomOnPinch:ki,zoomOnDoubleClick:Gr,panOnScroll:Vr,panOnScrollSpeed:fo,panOnScrollMode:Wr,panOnDrag:Jn,onPaneClick:yr,onPaneMouseEnter:vr,onPaneMouseMove:jn,onPaneMouseLeave:En,onPaneScroll:_n,onPaneContextMenu:W,paneClickDistance:le,nodeClickDistance:ge,onSelectionContextMenu:X,onSelectionStart:I,onSelectionEnd:$,onReconnect:Je,onReconnectStart:et,onReconnectEnd:we,onEdgeContextMenu:ve,onEdgeDoubleClick:Me,onEdgeMouseEnter:pt,onEdgeMouseMove:Ze,onEdgeMouseLeave:un,reconnectRadius:Bn,defaultMarkerColor:Zn,noDragClassName:qr,noWheelClassName:po,noPanClassName:cn,rfId:br,disableKeyboardA11y:Xr,nodeExtent:wn,viewport:rt,onViewportChange:dn}),M.jsx(sk,{nodes:e,edges:r,defaultNodes:i,defaultEdges:l,onConnect:v,onConnectStart:w,onConnectEnd:E,onClickConnectStart:_,onClickConnectEnd:k,nodesDraggable:ht,autoPanOnNodeFocus:Jt,nodesConnectable:$t,nodesFocusable:It,edgesFocusable:vn,edgesReconnectable:xn,elementsSelectable:Vt,elevateNodesOnSelect:en,elevateEdgesOnSelect:Ri,minZoom:Lt,maxZoom:Wt,nodeExtent:wn,onNodesChange:er,onEdgesChange:ho,snapToGrid:ye,snapGrid:Le,connectionMode:L,translateExtent:$n,connectOnClick:wr,defaultEdgeOptions:Ci,fitView:Yr,fitViewOptions:xr,onNodesDelete:G,onEdgesDelete:z,onDelete:j,onNodeDragStart:D,onNodeDrag:R,onNodeDragStop:O,onSelectionDrag:J,onSelectionDragStart:P,onSelectionDragStop:F,onMove:g,onMoveStart:f,onMoveEnd:m,noPanClassName:cn,nodeOrigin:Ut,rfId:br,autoPanOnConnect:nt,autoPanOnNodeDrag:go,autoPanSpeed:Kr,onError:fe,connectionRadius:tr,isValidConnection:Er,selectNodesOnDrag:Be,nodeDragThreshold:Fe,connectionDragThreshold:ut,onBeforeDelete:H,debug:nr,ariaLabelConfig:rr,zIndexMode:Ti}),M.jsx(nk,{onSelectionChange:ee}),Oe,M.jsx(Qb,{proOptions:Ni,position:Si}),M.jsx(Kb,{rfId:br,disableKeyboardA11y:Xr})]})})}var MS=ey(TS);function AS({dimensions:e,lineWidth:r,variant:i,className:l}){return M.jsx("path",{strokeWidth:r,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Et(["react-flow__background-pattern",i,l])})}function IS({radius:e,className:r}){return M.jsx("circle",{cx:e,cy:e,r:e,className:Et(["react-flow__background-pattern","dots",r])})}var Ur;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ur||(Ur={}));const LS={[Ur.Dots]:1,[Ur.Lines]:1,[Ur.Cross]:6},OS=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Sy({id:e,variant:r=Ur.Dots,gap:i=20,size:l,lineWidth:s=1,offset:u=0,color:a,bgColor:d,style:h,className:p,patternClassName:g}){const f=Z.useRef(null),{transform:m,patternId:v}=Ve(OS,lt),w=l||LS[r],E=r===Ur.Dots,_=r===Ur.Cross,k=Array.isArray(i)?i:[i,i],S=[k[0]*m[2]||1,k[1]*m[2]||1],b=w*m[2],C=Array.isArray(u)?u:[u,u],A=_?[b,b]:S,T=[C[0]*m[2]||1+A[0]/2,C[1]*m[2]||1+A[1]/2],D=`${v}${e||""}`;return M.jsxs("svg",{className:Et(["react-flow__background",p]),style:{...h,...ya,"--xy-background-color-props":d,"--xy-background-pattern-color-props":a},ref:f,"data-testid":"rf__background",children:[M.jsx("pattern",{id:D,x:m[0]%S[0],y:m[1]%S[1],width:S[0],height:S[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${T[0]},-${T[1]})`,children:E?M.jsx(IS,{radius:b/2,className:g}):M.jsx(AS,{dimensions:A,lineWidth:s,variant:r,className:g})}),M.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${D})`})]})}Sy.displayName="Background";const PS=Z.memo(Sy);function zS(){return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:M.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function DS(){return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:M.jsx("path",{d:"M0 0h32v4.2H0z"})})}function $S(){return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:M.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function jS(){return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:M.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function BS(){return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:M.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Ll({children:e,className:r,...i}){return M.jsx("button",{type:"button",className:Et(["react-flow__controls-button",r]),...i,children:e})}const FS=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function Ny({style:e,showZoom:r=!0,showFitView:i=!0,showInteractive:l=!0,fitViewOptions:s,onZoomIn:u,onZoomOut:a,onFitView:d,onInteractiveChange:h,className:p,children:g,position:f="bottom-left",orientation:m="vertical","aria-label":v}){const w=at(),{isInteractive:E,minZoomReached:_,maxZoomReached:k,ariaLabelConfig:S}=Ve(FS,lt),{zoomIn:b,zoomOut:C,fitView:A}=ma(),T=()=>{b(),u==null||u()},D=()=>{C(),a==null||a()},R=()=>{A(s),d==null||d()},O=()=>{w.setState({nodesDraggable:!E,nodesConnectable:!E,elementsSelectable:!E}),h==null||h(!E)},G=m==="horizontal"?"horizontal":"vertical";return M.jsxs(ga,{className:Et(["react-flow__controls",G,p]),position:f,style:e,"data-testid":"rf__controls","aria-label":v??S["controls.ariaLabel"],children:[r&&M.jsxs(M.Fragment,{children:[M.jsx(Ll,{onClick:T,className:"react-flow__controls-zoomin",title:S["controls.zoomIn.ariaLabel"],"aria-label":S["controls.zoomIn.ariaLabel"],disabled:k,children:M.jsx(zS,{})}),M.jsx(Ll,{onClick:D,className:"react-flow__controls-zoomout",title:S["controls.zoomOut.ariaLabel"],"aria-label":S["controls.zoomOut.ariaLabel"],disabled:_,children:M.jsx(DS,{})})]}),i&&M.jsx(Ll,{className:"react-flow__controls-fitview",onClick:R,title:S["controls.fitView.ariaLabel"],"aria-label":S["controls.fitView.ariaLabel"],children:M.jsx($S,{})}),l&&M.jsx(Ll,{className:"react-flow__controls-interactive",onClick:O,title:S["controls.interactive.ariaLabel"],"aria-label":S["controls.interactive.ariaLabel"],children:E?M.jsx(BS,{}):M.jsx(jS,{})}),g]})}Ny.displayName="Controls";const HS=Z.memo(Ny);function US({id:e,x:r,y:i,width:l,height:s,style:u,color:a,strokeColor:d,strokeWidth:h,className:p,borderRadius:g,shapeRendering:f,selected:m,onClick:v}){const{background:w,backgroundColor:E}=u||{},_=a||w||E;return M.jsx("rect",{className:Et(["react-flow__minimap-node",{selected:m},p]),x:r,y:i,rx:g,ry:g,width:l,height:s,style:{fill:_,stroke:d,strokeWidth:h},shapeRendering:f,onClick:v?k=>v(k,e):void 0})}const VS=Z.memo(US),WS=e=>e.nodes.map(r=>r.id),pc=e=>e instanceof Function?e:()=>e;function GS({nodeStrokeColor:e,nodeColor:r,nodeClassName:i="",nodeBorderRadius:l=5,nodeStrokeWidth:s,nodeComponent:u=VS,onClick:a}){const d=Ve(WS,lt),h=pc(r),p=pc(e),g=pc(i),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return M.jsx(M.Fragment,{children:d.map(m=>M.jsx(YS,{id:m,nodeColorFunc:h,nodeStrokeColorFunc:p,nodeClassNameFunc:g,nodeBorderRadius:l,nodeStrokeWidth:s,NodeComponent:u,onClick:a,shapeRendering:f},m))})}function qS({id:e,nodeColorFunc:r,nodeStrokeColorFunc:i,nodeClassNameFunc:l,nodeBorderRadius:s,nodeStrokeWidth:u,shapeRendering:a,NodeComponent:d,onClick:h}){const{node:p,x:g,y:f,width:m,height:v}=Ve(w=>{const{internals:E}=w.nodeLookup.get(e),_=E.userNode,{x:k,y:S}=E.positionAbsolute,{width:b,height:C}=mr(_);return{node:_,x:k,y:S,width:b,height:C}},lt);return!p||p.hidden||!C0(p)?null:M.jsx(d,{x:g,y:f,width:m,height:v,style:p.style,selected:!!p.selected,className:l(p),color:r(p),borderRadius:s,strokeColor:i(p),strokeWidth:u,shapeRendering:a,onClick:h,id:p.id})}const YS=Z.memo(qS);var XS=Z.memo(GS);const KS=200,QS=150,ZS=e=>!e.hidden,JS=e=>{const r={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:r,boundingRect:e.nodeLookup.size>0?N0(xs(e.nodeLookup,{filter:ZS}),r):r,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},eN="react-flow__minimap-desc";function Cy({style:e,className:r,nodeStrokeColor:i,nodeColor:l,nodeClassName:s="",nodeBorderRadius:u=5,nodeStrokeWidth:a,nodeComponent:d,bgColor:h,maskColor:p,maskStrokeColor:g,maskStrokeWidth:f,position:m="bottom-right",onClick:v,onNodeClick:w,pannable:E=!1,zoomable:_=!1,ariaLabel:k,inversePan:S,zoomStep:b=1,offsetScale:C=5}){const A=at(),T=Z.useRef(null),{boundingRect:D,viewBB:R,rfId:O,panZoom:G,translateExtent:z,flowWidth:j,flowHeight:ee,ariaLabelConfig:P}=Ve(JS,lt),J=(e==null?void 0:e.width)??KS,F=(e==null?void 0:e.height)??QS,X=D.width/J,I=D.height/F,$=Math.max(X,I),H=$*J,L=$*F,V=C*$,U=D.x-(H-D.width)/2-V,q=D.y-(L-D.height)/2-V,Q=H+V*2,re=L+V*2,ae=`${eN}-${O}`,oe=Z.useRef(0),se=Z.useRef();oe.current=$,Z.useEffect(()=>{if(T.current&&G)return se.current=yb({domNode:T.current,panZoom:G,getTransform:()=>A.getState().transform,getViewScale:()=>oe.current}),()=>{var ye;(ye=se.current)==null||ye.destroy()}},[G]),Z.useEffect(()=>{var ye;(ye=se.current)==null||ye.update({translateExtent:z,width:j,height:ee,inversePan:S,pannable:E,zoomStep:b,zoomable:_})},[E,_,S,b,z,j,ee]);const me=v?ye=>{var Be;const[Le,We]=((Be=se.current)==null?void 0:Be.pointer(ye))||[0,0];v(ye,{x:Le,y:We})}:void 0,Te=w?Z.useCallback((ye,Le)=>{const We=A.getState().nodeLookup.get(Le).internals.userNode;w(ye,We)},[]):void 0,Ee=k??P["minimap.ariaLabel"];return M.jsx(ga,{position:m,style:{...e,"--xy-minimap-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-background-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-stroke-color-props":typeof g=="string"?g:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*$:void 0,"--xy-minimap-node-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-node-stroke-color-props":typeof i=="string"?i:void 0,"--xy-minimap-node-stroke-width-props":typeof a=="number"?a:void 0},className:Et(["react-flow__minimap",r]),"data-testid":"rf__minimap",children:M.jsxs("svg",{width:J,height:F,viewBox:`${U} ${q} ${Q} ${re}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ae,ref:T,onClick:me,children:[Ee&&M.jsx("title",{id:ae,children:Ee}),M.jsx(XS,{onClick:Te,nodeColor:l,nodeStrokeColor:i,nodeBorderRadius:u,nodeClassName:s,nodeStrokeWidth:a,nodeComponent:d}),M.jsx("path",{className:"react-flow__minimap-mask",d:`M${U-V},${q-V}h${Q+V*2}v${re+V*2}h${-Q-V*2}z
        M${R.x},${R.y}h${R.width}v${R.height}h${-R.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Cy.displayName="MiniMap";const tN=Z.memo(Cy),nN=e=>r=>e?`${Math.max(1/r.transform[2],1)}`:void 0,rN={[uo.Line]:"right",[uo.Handle]:"bottom-right"};function iN({nodeId:e,position:r,variant:i=uo.Handle,className:l,style:s=void 0,children:u,color:a,minWidth:d=10,minHeight:h=10,maxWidth:p=Number.MAX_VALUE,maxHeight:g=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:m,autoScale:v=!0,shouldResize:w,onResizeStart:E,onResize:_,onResizeEnd:k}){const S=iy(),b=typeof e=="string"?e:S,C=at(),A=Z.useRef(null),T=i===uo.Handle,D=Ve(Z.useCallback(nN(T&&v),[T,v]),lt),R=Z.useRef(null),O=r??rN[i];Z.useEffect(()=>{if(!(!A.current||!b))return R.current||(R.current=Ab({domNode:A.current,nodeId:b,getStoreItems:()=>{const{nodeLookup:z,transform:j,snapGrid:ee,snapToGrid:P,nodeOrigin:J,domNode:F}=C.getState();return{nodeLookup:z,transform:j,snapGrid:ee,snapToGrid:P,nodeOrigin:J,paneDomNode:F}},onChange:(z,j)=>{const{triggerNodeChanges:ee,nodeLookup:P,parentLookup:J,nodeOrigin:F}=C.getState(),X=[],I={x:z.x,y:z.y},$=P.get(b);if($&&$.expandParent&&$.parentId){const H=$.origin??F,L=z.width??$.measured.width??0,V=z.height??$.measured.height??0,U={id:$.id,parentId:$.parentId,rect:{width:L,height:V,...R0({x:z.x??$.position.x,y:z.y??$.position.y},{width:L,height:V},$.parentId,P,H)}},q=Wd([U],P,J,F);X.push(...q),I.x=z.x?Math.max(H[0]*L,z.x):void 0,I.y=z.y?Math.max(H[1]*V,z.y):void 0}if(I.x!==void 0&&I.y!==void 0){const H={id:b,type:"position",position:{...I}};X.push(H)}if(z.width!==void 0&&z.height!==void 0){const L={id:b,type:"dimensions",resizing:!0,setAttributes:m?m==="horizontal"?"width":"height":!0,dimensions:{width:z.width,height:z.height}};X.push(L)}for(const H of j){const L={...H,type:"position"};X.push(L)}ee(X)},onEnd:({width:z,height:j})=>{const ee={id:b,type:"dimensions",resizing:!1,dimensions:{width:z,height:j}};C.getState().triggerNodeChanges([ee])}})),R.current.update({controlPosition:O,boundaries:{minWidth:d,minHeight:h,maxWidth:p,maxHeight:g},keepAspectRatio:f,resizeDirection:m,onResizeStart:E,onResize:_,onResizeEnd:k,shouldResize:w}),()=>{var z;(z=R.current)==null||z.destroy()}},[O,d,h,p,g,f,E,_,k,w]);const G=O.split("-");return M.jsx("div",{className:Et(["react-flow__resize-control","nodrag",...G,i,l]),ref:A,style:{...s,scale:D,...a&&{[T?"backgroundColor":"borderColor"]:a}},children:u})}Z.memo(iN);function _s(){var e;return((e=window.__RAILS_MODELS_VIZ__)==null?void 0:e.apiBase)||"/rails_models_viz/api"}async function xa(e){const r=await fetch(e);if(!r.ok){const i=await r.json().catch(()=>({}));throw new Error(i.error||`HTTP ${r.status}`)}return r.json()}async function Ry(){return(await xa(`${_s()}/models`)).models}async function oN(e,r=1,i=25){return xa(`${_s()}/models/${encodeURIComponent(e)}/records?page=${r}&per_page=${i}`)}async function sN(e,r){return xa(`${_s()}/models/${encodeURIComponent(e)}/${encodeURIComponent(r)}`)}async function lN(e,r,i,l=1,s=5){return xa(`${_s()}/models/${encodeURIComponent(e)}/${encodeURIComponent(r)}/relations/${encodeURIComponent(i)}?page=${l}&per_page=${s}`)}async function aN(e){const r=await fetch(`${_s()}/llm`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:e})}),i=await r.json();if(!r.ok)throw new Error(i.error||`HTTP ${r.status}`);return i.response}function uN({onSearch:e,loading:r}){const[i,l]=Z.useState([]),[s,u]=Z.useState(""),[a,d]=Z.useState(""),[h,p]=Z.useState([]),[g,f]=Z.useState(!1);Z.useEffect(()=>{Ry().then(l).catch(()=>{})},[]),Z.useEffect(()=>{if(s.length>0){const v=s.toLowerCase();p(i.filter(w=>w.toLowerCase().includes(v)).slice(0,10))}else p([])},[s,i]);const m=v=>{v.preventDefault(),s&&a&&(e(s,a),f(!1))};return M.jsxs("form",{onSubmit:m,style:{display:"flex",gap:8,alignItems:"center",position:"relative"},children:[M.jsxs("div",{style:{position:"relative"},children:[M.jsx("input",{type:"text",placeholder:"Model name...",value:s,onChange:v=>{u(v.target.value),f(!0)},onFocus:()=>f(!0),onBlur:()=>setTimeout(()=>f(!1),200),style:{padding:"6px 10px",border:"1px solid #CBD5E1",borderRadius:6,fontSize:13,width:200,background:"#fff"}}),g&&h.length>0&&M.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"#fff",border:"1px solid #CBD5E1",borderRadius:6,marginTop:2,maxHeight:200,overflowY:"auto",zIndex:100,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:h.map(v=>M.jsx("div",{onMouseDown:()=>{u(v),f(!1)},style:{padding:"6px 10px",cursor:"pointer",fontSize:12,borderBottom:"1px solid #f1f5f9"},onMouseEnter:w=>{w.currentTarget.style.background="#f1f5f9"},onMouseLeave:w=>{w.currentTarget.style.background="#fff"},children:v},v))})]}),M.jsx("input",{type:"text",placeholder:"Record ID...",value:a,onChange:v=>d(v.target.value),style:{padding:"6px 10px",border:"1px solid #CBD5E1",borderRadius:6,fontSize:13,width:200,background:"#fff",fontFamily:"monospace"}}),M.jsx("button",{type:"submit",disabled:r||!s||!a,style:{padding:"6px 16px",background:r?"#94A3B8":"#4F46E5",color:"#fff",border:"none",borderRadius:6,fontSize:13,fontWeight:500,cursor:r?"not-allowed":"pointer"},children:r?"Loading...":"Explore"})]})}function cN({onExport:e,onImport:r,onClear:i,hasGraph:l}){const s=Z.useRef(null),u=()=>{var m;const h=e(),p=new Blob([JSON.stringify(h,null,2)],{type:"application/json"}),g=URL.createObjectURL(p),f=document.createElement("a");f.href=g,f.download=`model-graph-${((m=h.root)==null?void 0:m.model)||"empty"}-${Date.now()}.json`,f.click(),URL.revokeObjectURL(g)},a=h=>{var f;const p=(f=h.target.files)==null?void 0:f[0];if(!p)return;const g=new FileReader;g.onload=m=>{var v;try{const w=JSON.parse((v=m.target)==null?void 0:v.result);if(w.version!==1){alert("Unsupported file version");return}r(w)}catch{alert("Invalid JSON file")}},g.readAsText(p),s.current&&(s.current.value="")},d=h=>({padding:"5px 12px",background:h?"#fff":"#f1f5f9",color:h?"#334155":"#94A3B8",border:"1px solid #CBD5E1",borderRadius:5,fontSize:12,cursor:h?"pointer":"not-allowed",display:"flex",alignItems:"center",gap:4});return M.jsxs("div",{style:{display:"flex",gap:6,alignItems:"center"},children:[M.jsxs("button",{onClick:u,disabled:!l,style:d(l),title:"Save graph as JSON",children:[M.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:M.jsx("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"})}),"Save"]}),M.jsxs("button",{onClick:()=>{var h;return(h=s.current)==null?void 0:h.click()},style:d(!0),title:"Load graph from JSON",children:[M.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:M.jsx("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M17 8l-5-5-5 5M12 3v12"})}),"Load"]}),M.jsx("input",{ref:s,type:"file",accept:".json",onChange:a,style:{display:"none"}}),l&&M.jsxs("button",{onClick:i,style:d(!0),title:"Clear the graph",children:[M.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:M.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Clear"]})]})}function dN({onModelClick:e,activeModel:r}){const[i,l]=Z.useState([]),[s,u]=Z.useState(""),[a,d]=Z.useState(!0);Z.useEffect(()=>{Ry().then(l).catch(()=>{}).finally(()=>d(!1))},[]);const h=Z.useMemo(()=>{if(!s)return i;const p=s.toLowerCase();return i.filter(g=>g.toLowerCase().includes(p))},[i,s]);return M.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[M.jsxs("div",{style:{padding:"8px 10px",borderBottom:"1px solid #e2e8f0"},children:[M.jsx("input",{type:"text",placeholder:"Search models...",value:s,onChange:p=>u(p.target.value),style:{width:"100%",padding:"6px 8px",border:"1px solid #CBD5E1",borderRadius:5,fontSize:12,background:"#f8fafc",outline:"none"}}),M.jsxs("div",{style:{fontSize:10,color:"#94A3B8",marginTop:4},children:[h.length," model",h.length!==1?"s":""]})]}),M.jsx("div",{style:{flex:1,overflowY:"auto"},children:a?M.jsx("div",{style:{padding:12,color:"#94A3B8",fontSize:12},children:"Loading models..."}):h.map(p=>M.jsx("div",{onClick:()=>e(p),style:{padding:"6px 12px",fontSize:12,cursor:"pointer",borderBottom:"1px solid #f1f5f9",background:p===r?"#EEF2FF":"transparent",color:p===r?"#4F46E5":"#334155",fontWeight:p===r?600:400,transition:"background 0.1s"},onMouseEnter:g=>{p!==r&&(g.currentTarget.style.background="#f8fafc")},onMouseLeave:g=>{p!==r&&(g.currentTarget.style.background="transparent")},children:p},p))})]})}function fN({tabs:e,activeTabKey:r,onTabClick:i,onTabClose:l}){return e.length===0?null:M.jsx("div",{style:{display:"flex",borderBottom:"1px solid #e2e8f0",background:"#f8fafc",overflowX:"auto",flexShrink:0},children:e.map(s=>{const u=s.key===r,a=s.type==="table"?s.model:`${s.model}#${s.id.length>8?s.id.slice(0,8)+"...":s.id}`,d=s.type==="table"?"":"";return M.jsxs("div",{onClick:()=>i(s.key),style:{display:"flex",alignItems:"center",gap:6,padding:"6px 12px",fontSize:12,cursor:"pointer",borderRight:"1px solid #e2e8f0",background:u?"#fff":"transparent",borderBottom:u?"2px solid #4F46E5":"2px solid transparent",color:u?"#1E293B":"#64748B",fontWeight:u?600:400,whiteSpace:"nowrap",transition:"all 0.15s"},children:[M.jsx("span",{style:{fontSize:10},children:d}),M.jsx("span",{children:a}),M.jsx("span",{onClick:h=>{h.stopPropagation(),l(s.key)},style:{marginLeft:4,padding:"0 3px",borderRadius:3,fontSize:14,lineHeight:"14px",color:"#94A3B8",cursor:"pointer"},onMouseEnter:h=>{h.currentTarget.style.background="#fee2e2",h.currentTarget.style.color="#EF4444"},onMouseLeave:h=>{h.currentTarget.style.background="transparent",h.currentTarget.style.color="#94A3B8"},children:""})]},s.key)})})}function zg(e){return e==null?"":typeof e=="object"?JSON.stringify(e):String(e)}function hN({model:e,onRecordClick:r}){const[i,l]=Z.useState(null),[s,u]=Z.useState(1),[a]=Z.useState(25),[d,h]=Z.useState(!0),[p,g]=Z.useState(null),f=Z.useCallback(m=>{h(!0),g(null),oN(e,m,a).then(v=>{l(v),u(m)}).catch(v=>g(v.message)).finally(()=>h(!1))},[e,a]);return Z.useEffect(()=>{f(1)},[f]),p?M.jsxs("div",{style:{padding:24,color:"#EF4444",fontSize:13},children:["Error loading ",e,": ",p]}):!i&&d?M.jsxs("div",{style:{padding:24,color:"#94A3B8",fontSize:13},children:["Loading ",e," records..."]}):i?M.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[M.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 16px",borderBottom:"1px solid #e2e8f0",background:"#f8fafc",flexShrink:0},children:[M.jsxs("div",{style:{fontSize:12,color:"#64748B"},children:[M.jsx("strong",{children:i.total.toLocaleString()})," records","  ","Page ",i.page," of ",i.total_pages]}),M.jsxs("div",{style:{display:"flex",gap:4},children:[M.jsx("button",{onClick:()=>f(s-1),disabled:s<=1||d,style:gc(s>1&&!d),children:"Prev"}),pN(s,i.total_pages).map(m=>m==="..."?M.jsx("span",{style:{padding:"4px 2px",color:"#94A3B8",fontSize:12},children:"..."},`dots-${m}`):M.jsx("button",{onClick:()=>f(m),disabled:d,style:{...gc(!d),background:m===s?"#4F46E5":"#fff",color:m===s?"#fff":"#334155",fontWeight:m===s?600:400},children:m},m)),M.jsx("button",{onClick:()=>f(s+1),disabled:s>=i.total_pages||d,style:gc(s<i.total_pages&&!d),children:"Next"})]})]}),M.jsxs("div",{style:{flex:1,overflow:"auto"},children:[M.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:12,fontFamily:"monospace"},children:[M.jsx("thead",{children:M.jsx("tr",{children:i.columns.map(m=>M.jsx("th",{style:{position:"sticky",top:0,background:"#f1f5f9",padding:"8px 12px",textAlign:"left",borderBottom:"2px solid #e2e8f0",color:"#475569",fontWeight:600,fontSize:11,whiteSpace:"nowrap",zIndex:1},children:m},m))})}),M.jsx("tbody",{children:i.rows.map((m,v)=>{const w=String(m._id||m.id||"");return M.jsx("tr",{style:{cursor:r?"pointer":"default",transition:"background 0.1s"},onClick:()=>w&&(r==null?void 0:r(e,w)),onMouseEnter:E=>{E.currentTarget.style.background="#f8fafc"},onMouseLeave:E=>{E.currentTarget.style.background="transparent"},children:i.columns.map(E=>M.jsx("td",{style:{padding:"6px 12px",borderBottom:"1px solid #f1f5f9",maxWidth:300,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:E==="_id"?"#4F46E5":"#334155"},title:zg(m[E]),children:zg(m[E])},E))},v)})})]}),d&&M.jsx("div",{style:{padding:16,textAlign:"center",color:"#94A3B8",fontSize:12},children:"Loading..."})]})]}):null}function gc(e){return{padding:"4px 10px",border:"1px solid #CBD5E1",borderRadius:4,background:e?"#fff":"#f1f5f9",color:e?"#334155":"#94A3B8",cursor:e?"pointer":"not-allowed",fontSize:12}}function pN(e,r){if(r<=7)return Array.from({length:r},(l,s)=>s+1);const i=[1];e>3&&i.push("...");for(let l=Math.max(2,e-1);l<=Math.min(r-1,e+1);l++)i.push(l);return e<r-2&&i.push("..."),i.push(r),i}function gN(e,r=40){if(e==null)return"null";const i=typeof e=="object"?JSON.stringify(e):String(e);return i.length>r?i.slice(0,r)+"...":i}const Ty=Z.memo(({data:e})=>{const[r,i]=Z.useState(!1),[l,s]=Z.useState(!1),u=Object.entries(e.attributes),a=r?u:u.slice(0,6),d=u.length>6,h=new Set(e.expandedRelations||[]),p=e.relations.filter(f=>f.count>0),g=p.filter(f=>!h.has(f.name));return M.jsxs("div",{className:"model-node",style:{opacity:e.opacity,background:"#fff",border:`2px solid ${e.color}`,borderRadius:8,minWidth:260,maxWidth:320,fontSize:12,boxShadow:"0 2px 8px rgba(0,0,0,0.1)",overflow:"hidden"},children:[M.jsx(wi,{type:"target",position:Re.Top,style:{background:e.color}}),M.jsxs("div",{style:{background:e.color,color:"#fff",padding:"6px 10px",fontWeight:600,fontSize:13,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[M.jsx("span",{children:e.model}),M.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[M.jsxs("span",{"data-comment-btn":!0,"data-node-key":e.key,title:"Comments",style:{cursor:"pointer",opacity:.85,display:"flex",alignItems:"center",padding:"1px 3px",borderRadius:3,transition:"opacity 0.15s",position:"relative"},onMouseEnter:f=>{f.currentTarget.style.opacity="1"},onMouseLeave:f=>{f.currentTarget.style.opacity="0.85"},children:[M.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[M.jsx("path",{d:"M8 1l1.5 3.5L13 6l-3.5 1.5L8 11 6.5 7.5 3 6l3.5-1.5z"}),M.jsx("path",{d:"M12 10l.75 1.75L14.5 12.5l-1.75.75L12 15l-.75-1.75-1.75-.75 1.75-.75z",opacity:"0.6"})]}),e.hasComments&&M.jsx("span",{style:{position:"absolute",top:-2,right:-2,width:7,height:7,borderRadius:"50%",background:"#FACC15",border:"1.5px solid "+e.color}})]}),M.jsx("span",{style:{opacity:.8,fontSize:11,fontFamily:"monospace"},children:e.record_id.length>12?e.record_id.slice(0,12)+"...":e.record_id})]})]}),M.jsxs("div",{style:{padding:"6px 10px"},children:[a.map(([f,m])=>M.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"2px 0",borderBottom:"1px solid #f1f5f9",gap:8},children:[M.jsx("span",{style:{color:"#64748B",fontWeight:500,flexShrink:0},children:f}),M.jsx("span",{style:{color:"#334155",fontFamily:"monospace",fontSize:11,textAlign:"right",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:String(m),children:gN(m)})]},f)),d&&M.jsx("button",{onClick:f=>{f.stopPropagation(),i(!r)},style:{background:"none",border:"none",color:e.color,cursor:"pointer",fontSize:11,padding:"4px 0",width:"100%",textAlign:"center"},children:r?"Show less":`+${u.length-6} more attributes`})]}),p.length>0&&M.jsxs("div",{style:{borderTop:"1px solid #e2e8f0"},children:[M.jsxs("button",{onClick:f=>{f.stopPropagation(),s(!l)},style:{width:"100%",background:"none",border:"none",padding:"5px 10px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:10,color:"#64748B",textTransform:"uppercase",letterSpacing:.5,fontWeight:600},children:[M.jsxs("span",{children:["Relations (",g.length," expandable",h.size>0&&`, ${h.size} loaded`,")"]}),M.jsx("span",{style:{fontSize:12},children:l?"":""})]}),l&&M.jsx("div",{style:{padding:"0 10px 6px",maxHeight:200,overflowY:"auto"},children:p.map(f=>{const m=h.has(f.name);return M.jsxs("div",{"data-relation":f.name,"data-source-key":e.key,className:m?"relation-expanded":"relation-expandable",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px 6px",marginBottom:2,borderRadius:4,cursor:m?"default":"pointer",background:m?"#f0fdf4":"#f8fafc",border:m?"1px solid #bbf7d0":"1px solid #e2e8f0",transition:"all 0.15s",opacity:m?.7:1},onMouseEnter:v=>{m||(v.currentTarget.style.background="#eef2ff")},onMouseLeave:v=>{m||(v.currentTarget.style.background="#f8fafc")},children:[M.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[M.jsx("span",{style:{width:6,height:6,borderRadius:"50%",background:m?"#22c55e":e.color,flexShrink:0}}),M.jsx("span",{style:{color:"#334155",fontSize:11,fontWeight:500},children:f.name}),M.jsx("span",{style:{color:"#94A3B8",fontSize:10},children:f.macro==="belongs_to"?"1":f.macro==="has_one"||f.macro==="embeds_one"?"1":`${f.count}`})]}),M.jsx("span",{style:{fontSize:10,color:m?"#16a34a":"#64748B",background:m?"#dcfce7":"#f1f5f9",borderRadius:3,padding:"1px 5px",whiteSpace:"nowrap"},children:m?" loaded":f.class_name})]},f.name)})})]}),M.jsx(wi,{type:"source",position:Re.Bottom,style:{background:e.color}})]})});Ty.displayName="ModelNode";const My=Z.memo(({data:e})=>M.jsxs("div",{style:{background:"#f1f5f9",border:"1.5px dashed #94A3B8",borderRadius:6,padding:"6px 14px",fontSize:11,cursor:"pointer",textAlign:"center",opacity:.6,transition:"opacity 0.2s"},onMouseEnter:r=>{r.currentTarget.style.opacity="1"},onMouseLeave:r=>{r.currentTarget.style.opacity="0.6"},title:"Click to load more",children:[M.jsx(wi,{type:"target",position:Re.Top,style:{background:"#94A3B8"}}),M.jsxs("div",{style:{color:"#64748B",fontWeight:500},children:["+",e.remaining," more ",e.relation.class_name]}),M.jsx("div",{style:{color:"#94A3B8",fontSize:10},children:"Click to load"})]}));My.displayName="LoadMoreNode";function qd(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var _i=qd();function Ay(e){_i=e}var os={exec:()=>null};function Ke(e,r=""){let i=typeof e=="string"?e:e.source,l={replace:(s,u)=>{let a=typeof u=="string"?u:u.source;return a=a.replace(Ht.caret,"$1"),i=i.replace(s,a),l},getRegex:()=>new RegExp(i,r)};return l}var mN=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),Ht={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},yN=/^(?:[ \t]*(?:\n|$))+/,vN=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,xN=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,bs=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,wN=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Yd=/(?:[*+-]|\d{1,9}[.)])/,Iy=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Ly=Ke(Iy).replace(/bull/g,Yd).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),EN=Ke(Iy).replace(/bull/g,Yd).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Xd=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,_N=/^[^\n]+/,Kd=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,bN=Ke(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Kd).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),kN=Ke(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Yd).getRegex(),wa="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Qd=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,SN=Ke("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Qd).replace("tag",wa).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Oy=Ke(Xd).replace("hr",bs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wa).getRegex(),NN=Ke(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Oy).getRegex(),Zd={blockquote:NN,code:vN,def:bN,fences:xN,heading:wN,hr:bs,html:SN,lheading:Ly,list:kN,newline:yN,paragraph:Oy,table:os,text:_N},Dg=Ke("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",bs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wa).getRegex(),CN={...Zd,lheading:EN,table:Dg,paragraph:Ke(Xd).replace("hr",bs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Dg).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wa).getRegex()},RN={...Zd,html:Ke(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Qd).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:os,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ke(Xd).replace("hr",bs).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ly).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},TN=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,MN=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Py=/^( {2,}|\\)\n(?!\s*$)/,AN=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Ea=/[\p{P}\p{S}]/u,Jd=/[\s\p{P}\p{S}]/u,zy=/[^\s\p{P}\p{S}]/u,IN=Ke(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Jd).getRegex(),Dy=/(?!~)[\p{P}\p{S}]/u,LN=/(?!~)[\s\p{P}\p{S}]/u,ON=/(?:[^\s\p{P}\p{S}]|~)/u,PN=Ke(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",mN?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),$y=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,zN=Ke($y,"u").replace(/punct/g,Ea).getRegex(),DN=Ke($y,"u").replace(/punct/g,Dy).getRegex(),jy="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",$N=Ke(jy,"gu").replace(/notPunctSpace/g,zy).replace(/punctSpace/g,Jd).replace(/punct/g,Ea).getRegex(),jN=Ke(jy,"gu").replace(/notPunctSpace/g,ON).replace(/punctSpace/g,LN).replace(/punct/g,Dy).getRegex(),BN=Ke("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,zy).replace(/punctSpace/g,Jd).replace(/punct/g,Ea).getRegex(),FN=Ke(/\\(punct)/,"gu").replace(/punct/g,Ea).getRegex(),HN=Ke(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),UN=Ke(Qd).replace("(?:-->|$)","-->").getRegex(),VN=Ke("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",UN).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ea=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,WN=Ke(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",ea).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),By=Ke(/^!?\[(label)\]\[(ref)\]/).replace("label",ea).replace("ref",Kd).getRegex(),Fy=Ke(/^!?\[(ref)\](?:\[\])?/).replace("ref",Kd).getRegex(),GN=Ke("reflink|nolink(?!\\()","g").replace("reflink",By).replace("nolink",Fy).getRegex(),$g=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,ef={_backpedal:os,anyPunctuation:FN,autolink:HN,blockSkip:PN,br:Py,code:MN,del:os,emStrongLDelim:zN,emStrongRDelimAst:$N,emStrongRDelimUnd:BN,escape:TN,link:WN,nolink:Fy,punctuation:IN,reflink:By,reflinkSearch:GN,tag:VN,text:AN,url:os},qN={...ef,link:Ke(/^!?\[(label)\]\((.*?)\)/).replace("label",ea).getRegex(),reflink:Ke(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ea).getRegex()},Nd={...ef,emStrongRDelimAst:jN,emStrongLDelim:DN,url:Ke(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",$g).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Ke(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",$g).getRegex()},YN={...Nd,br:Ke(Py).replace("{2,}","*").getRegex(),text:Ke(Nd.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ol={normal:Zd,gfm:CN,pedantic:RN},Qo={normal:ef,gfm:Nd,breaks:YN,pedantic:qN},XN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},jg=e=>XN[e];function hr(e,r){if(r){if(Ht.escapeTest.test(e))return e.replace(Ht.escapeReplace,jg)}else if(Ht.escapeTestNoEncode.test(e))return e.replace(Ht.escapeReplaceNoEncode,jg);return e}function Bg(e){try{e=encodeURI(e).replace(Ht.percentDecode,"%")}catch{return null}return e}function Fg(e,r){var u;let i=e.replace(Ht.findPipe,(a,d,h)=>{let p=!1,g=d;for(;--g>=0&&h[g]==="\\";)p=!p;return p?"|":" |"}),l=i.split(Ht.splitPipe),s=0;if(l[0].trim()||l.shift(),l.length>0&&!((u=l.at(-1))!=null&&u.trim())&&l.pop(),r)if(l.length>r)l.splice(r);else for(;l.length<r;)l.push("");for(;s<l.length;s++)l[s]=l[s].trim().replace(Ht.slashPipe,"|");return l}function Zo(e,r,i){let l=e.length;if(l===0)return"";let s=0;for(;s<l&&e.charAt(l-s-1)===r;)s++;return e.slice(0,l-s)}function KN(e,r){if(e.indexOf(r[1])===-1)return-1;let i=0;for(let l=0;l<e.length;l++)if(e[l]==="\\")l++;else if(e[l]===r[0])i++;else if(e[l]===r[1]&&(i--,i<0))return l;return i>0?-2:-1}function Hg(e,r,i,l,s){let u=r.href,a=r.title||null,d=e[1].replace(s.other.outputLinkReplace,"$1");l.state.inLink=!0;let h={type:e[0].charAt(0)==="!"?"image":"link",raw:i,href:u,title:a,text:d,tokens:l.inlineTokens(d)};return l.state.inLink=!1,h}function QN(e,r,i){let l=e.match(i.other.indentCodeCompensation);if(l===null)return r;let s=l[1];return r.split(`
`).map(u=>{let a=u.match(i.other.beginningSpace);if(a===null)return u;let[d]=a;return d.length>=s.length?u.slice(s.length):u}).join(`
`)}var ta=class{constructor(e){De(this,"options");De(this,"rules");De(this,"lexer");this.options=e||_i}space(e){let r=this.rules.block.newline.exec(e);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(e){let r=this.rules.block.code.exec(e);if(r){let i=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?i:Zo(i,`
`)}}}fences(e){let r=this.rules.block.fences.exec(e);if(r){let i=r[0],l=QN(i,r[3]||"",this.rules);return{type:"code",raw:i,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:l}}}heading(e){let r=this.rules.block.heading.exec(e);if(r){let i=r[2].trim();if(this.rules.other.endingHash.test(i)){let l=Zo(i,"#");(this.options.pedantic||!l||this.rules.other.endingSpaceChar.test(l))&&(i=l.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(e){let r=this.rules.block.hr.exec(e);if(r)return{type:"hr",raw:Zo(r[0],`
`)}}blockquote(e){let r=this.rules.block.blockquote.exec(e);if(r){let i=Zo(r[0],`
`).split(`
`),l="",s="",u=[];for(;i.length>0;){let a=!1,d=[],h;for(h=0;h<i.length;h++)if(this.rules.other.blockquoteStart.test(i[h]))d.push(i[h]),a=!0;else if(!a)d.push(i[h]);else break;i=i.slice(h);let p=d.join(`
`),g=p.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");l=l?`${l}
${p}`:p,s=s?`${s}
${g}`:g;let f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(g,u,!0),this.lexer.state.top=f,i.length===0)break;let m=u.at(-1);if((m==null?void 0:m.type)==="code")break;if((m==null?void 0:m.type)==="blockquote"){let v=m,w=v.raw+`
`+i.join(`
`),E=this.blockquote(w);u[u.length-1]=E,l=l.substring(0,l.length-v.raw.length)+E.raw,s=s.substring(0,s.length-v.text.length)+E.text;break}else if((m==null?void 0:m.type)==="list"){let v=m,w=v.raw+`
`+i.join(`
`),E=this.list(w);u[u.length-1]=E,l=l.substring(0,l.length-m.raw.length)+E.raw,s=s.substring(0,s.length-v.raw.length)+E.raw,i=w.substring(u.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:l,tokens:u,text:s}}}list(e){var i,l;let r=this.rules.block.list.exec(e);if(r){let s=r[1].trim(),u=s.length>1,a={type:"list",raw:"",ordered:u,start:u?+s.slice(0,-1):"",loose:!1,items:[]};s=u?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=u?s:"[*+-]");let d=this.rules.other.listItemRegex(s),h=!1;for(;e;){let g=!1,f="",m="";if(!(r=d.exec(e))||this.rules.block.hr.test(e))break;f=r[0],e=e.substring(f.length);let v=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,k=>" ".repeat(3*k.length)),w=e.split(`
`,1)[0],E=!v.trim(),_=0;if(this.options.pedantic?(_=2,m=v.trimStart()):E?_=r[1].length+1:(_=r[2].search(this.rules.other.nonSpaceChar),_=_>4?1:_,m=v.slice(_),_+=r[1].length),E&&this.rules.other.blankLine.test(w)&&(f+=w+`
`,e=e.substring(w.length+1),g=!0),!g){let k=this.rules.other.nextBulletRegex(_),S=this.rules.other.hrRegex(_),b=this.rules.other.fencesBeginRegex(_),C=this.rules.other.headingBeginRegex(_),A=this.rules.other.htmlBeginRegex(_);for(;e;){let T=e.split(`
`,1)[0],D;if(w=T,this.options.pedantic?(w=w.replace(this.rules.other.listReplaceNesting,"  "),D=w):D=w.replace(this.rules.other.tabCharGlobal,"    "),b.test(w)||C.test(w)||A.test(w)||k.test(w)||S.test(w))break;if(D.search(this.rules.other.nonSpaceChar)>=_||!w.trim())m+=`
`+D.slice(_);else{if(E||v.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||b.test(v)||C.test(v)||S.test(v))break;m+=`
`+w}!E&&!w.trim()&&(E=!0),f+=T+`
`,e=e.substring(T.length+1),v=D.slice(_)}}a.loose||(h?a.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(h=!0)),a.items.push({type:"list_item",raw:f,task:!!this.options.gfm&&this.rules.other.listIsTask.test(m),loose:!1,text:m,tokens:[]}),a.raw+=f}let p=a.items.at(-1);if(p)p.raw=p.raw.trimEnd(),p.text=p.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let g of a.items){if(this.lexer.state.top=!1,g.tokens=this.lexer.blockTokens(g.text,[]),g.task){if(g.text=g.text.replace(this.rules.other.listReplaceTask,""),((i=g.tokens[0])==null?void 0:i.type)==="text"||((l=g.tokens[0])==null?void 0:l.type)==="paragraph"){g.tokens[0].raw=g.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),g.tokens[0].text=g.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let m=this.lexer.inlineQueue.length-1;m>=0;m--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[m].src)){this.lexer.inlineQueue[m].src=this.lexer.inlineQueue[m].src.replace(this.rules.other.listReplaceTask,"");break}}let f=this.rules.other.listTaskCheckbox.exec(g.raw);if(f){let m={type:"checkbox",raw:f[0]+" ",checked:f[0]!=="[ ]"};g.checked=m.checked,a.loose?g.tokens[0]&&["paragraph","text"].includes(g.tokens[0].type)&&"tokens"in g.tokens[0]&&g.tokens[0].tokens?(g.tokens[0].raw=m.raw+g.tokens[0].raw,g.tokens[0].text=m.raw+g.tokens[0].text,g.tokens[0].tokens.unshift(m)):g.tokens.unshift({type:"paragraph",raw:m.raw,text:m.raw,tokens:[m]}):g.tokens.unshift(m)}}if(!a.loose){let f=g.tokens.filter(v=>v.type==="space"),m=f.length>0&&f.some(v=>this.rules.other.anyLine.test(v.raw));a.loose=m}}if(a.loose)for(let g of a.items){g.loose=!0;for(let f of g.tokens)f.type==="text"&&(f.type="paragraph")}return a}}html(e){let r=this.rules.block.html.exec(e);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(e){let r=this.rules.block.def.exec(e);if(r){let i=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),l=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:i,raw:r[0],href:l,title:s}}}table(e){var a;let r=this.rules.block.table.exec(e);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;let i=Fg(r[1]),l=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(a=r[3])!=null&&a.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],u={type:"table",raw:r[0],header:[],align:[],rows:[]};if(i.length===l.length){for(let d of l)this.rules.other.tableAlignRight.test(d)?u.align.push("right"):this.rules.other.tableAlignCenter.test(d)?u.align.push("center"):this.rules.other.tableAlignLeft.test(d)?u.align.push("left"):u.align.push(null);for(let d=0;d<i.length;d++)u.header.push({text:i[d],tokens:this.lexer.inline(i[d]),header:!0,align:u.align[d]});for(let d of s)u.rows.push(Fg(d,u.header.length).map((h,p)=>({text:h,tokens:this.lexer.inline(h),header:!1,align:u.align[p]})));return u}}lheading(e){let r=this.rules.block.lheading.exec(e);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(e){let r=this.rules.block.paragraph.exec(e);if(r){let i=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:i,tokens:this.lexer.inline(i)}}}text(e){let r=this.rules.block.text.exec(e);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(e){let r=this.rules.inline.escape.exec(e);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(e){let r=this.rules.inline.tag.exec(e);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(e){let r=this.rules.inline.link.exec(e);if(r){let i=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(i)){if(!this.rules.other.endAngleBracket.test(i))return;let u=Zo(i.slice(0,-1),"\\");if((i.length-u.length)%2===0)return}else{let u=KN(r[2],"()");if(u===-2)return;if(u>-1){let a=(r[0].indexOf("!")===0?5:4)+r[1].length+u;r[2]=r[2].substring(0,u),r[0]=r[0].substring(0,a).trim(),r[3]=""}}let l=r[2],s="";if(this.options.pedantic){let u=this.rules.other.pedanticHrefTitle.exec(l);u&&(l=u[1],s=u[3])}else s=r[3]?r[3].slice(1,-1):"";return l=l.trim(),this.rules.other.startAngleBracket.test(l)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(i)?l=l.slice(1):l=l.slice(1,-1)),Hg(r,{href:l&&l.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(e,r){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){let l=(i[2]||i[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=r[l.toLowerCase()];if(!s){let u=i[0].charAt(0);return{type:"text",raw:u,text:u}}return Hg(i,s,i[0],this.lexer,this.rules)}}emStrong(e,r,i=""){let l=this.rules.inline.emStrongLDelim.exec(e);if(!(!l||l[3]&&i.match(this.rules.other.unicodeAlphaNumeric))&&(!(l[1]||l[2])||!i||this.rules.inline.punctuation.exec(i))){let s=[...l[0]].length-1,u,a,d=s,h=0,p=l[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,r=r.slice(-1*e.length+s);(l=p.exec(r))!=null;){if(u=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!u)continue;if(a=[...u].length,l[3]||l[4]){d+=a;continue}else if((l[5]||l[6])&&s%3&&!((s+a)%3)){h+=a;continue}if(d-=a,d>0)continue;a=Math.min(a,a+d+h);let g=[...l[0]][0].length,f=e.slice(0,s+l.index+g+a);if(Math.min(s,a)%2){let v=f.slice(1,-1);return{type:"em",raw:f,text:v,tokens:this.lexer.inlineTokens(v)}}let m=f.slice(2,-2);return{type:"strong",raw:f,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){let r=this.rules.inline.code.exec(e);if(r){let i=r[2].replace(this.rules.other.newLineCharGlobal," "),l=this.rules.other.nonSpaceChar.test(i),s=this.rules.other.startingSpaceChar.test(i)&&this.rules.other.endingSpaceChar.test(i);return l&&s&&(i=i.substring(1,i.length-1)),{type:"codespan",raw:r[0],text:i}}}br(e){let r=this.rules.inline.br.exec(e);if(r)return{type:"br",raw:r[0]}}del(e){let r=this.rules.inline.del.exec(e);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(e){let r=this.rules.inline.autolink.exec(e);if(r){let i,l;return r[2]==="@"?(i=r[1],l="mailto:"+i):(i=r[1],l=i),{type:"link",raw:r[0],text:i,href:l,tokens:[{type:"text",raw:i,text:i}]}}}url(e){var i;let r;if(r=this.rules.inline.url.exec(e)){let l,s;if(r[2]==="@")l=r[0],s="mailto:"+l;else{let u;do u=r[0],r[0]=((i=this.rules.inline._backpedal.exec(r[0]))==null?void 0:i[0])??"";while(u!==r[0]);l=r[0],r[1]==="www."?s="http://"+r[0]:s=r[0]}return{type:"link",raw:r[0],text:l,href:s,tokens:[{type:"text",raw:l,text:l}]}}}inlineText(e){let r=this.rules.inline.text.exec(e);if(r){let i=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:i}}}},Mn=class Cd{constructor(r){De(this,"tokens");De(this,"options");De(this,"state");De(this,"inlineQueue");De(this,"tokenizer");this.tokens=[],this.tokens.links=Object.create(null),this.options=r||_i,this.options.tokenizer=this.options.tokenizer||new ta,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let i={other:Ht,block:Ol.normal,inline:Qo.normal};this.options.pedantic?(i.block=Ol.pedantic,i.inline=Qo.pedantic):this.options.gfm&&(i.block=Ol.gfm,this.options.breaks?i.inline=Qo.breaks:i.inline=Qo.gfm),this.tokenizer.rules=i}static get rules(){return{block:Ol,inline:Qo}}static lex(r,i){return new Cd(i).lex(r)}static lexInline(r,i){return new Cd(i).inlineTokens(r)}lex(r){r=r.replace(Ht.carriageReturn,`
`),this.blockTokens(r,this.tokens);for(let i=0;i<this.inlineQueue.length;i++){let l=this.inlineQueue[i];this.inlineTokens(l.src,l.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(r,i=[],l=!1){var s,u,a;for(this.options.pedantic&&(r=r.replace(Ht.tabCharGlobal,"    ").replace(Ht.spaceLine,""));r;){let d;if((u=(s=this.options.extensions)==null?void 0:s.block)!=null&&u.some(p=>(d=p.call({lexer:this},r,i))?(r=r.substring(d.raw.length),i.push(d),!0):!1))continue;if(d=this.tokenizer.space(r)){r=r.substring(d.raw.length);let p=i.at(-1);d.raw.length===1&&p!==void 0?p.raw+=`
`:i.push(d);continue}if(d=this.tokenizer.code(r)){r=r.substring(d.raw.length);let p=i.at(-1);(p==null?void 0:p.type)==="paragraph"||(p==null?void 0:p.type)==="text"?(p.raw+=(p.raw.endsWith(`
`)?"":`
`)+d.raw,p.text+=`
`+d.text,this.inlineQueue.at(-1).src=p.text):i.push(d);continue}if(d=this.tokenizer.fences(r)){r=r.substring(d.raw.length),i.push(d);continue}if(d=this.tokenizer.heading(r)){r=r.substring(d.raw.length),i.push(d);continue}if(d=this.tokenizer.hr(r)){r=r.substring(d.raw.length),i.push(d);continue}if(d=this.tokenizer.blockquote(r)){r=r.substring(d.raw.length),i.push(d);continue}if(d=this.tokenizer.list(r)){r=r.substring(d.raw.length),i.push(d);continue}if(d=this.tokenizer.html(r)){r=r.substring(d.raw.length),i.push(d);continue}if(d=this.tokenizer.def(r)){r=r.substring(d.raw.length);let p=i.at(-1);(p==null?void 0:p.type)==="paragraph"||(p==null?void 0:p.type)==="text"?(p.raw+=(p.raw.endsWith(`
`)?"":`
`)+d.raw,p.text+=`
`+d.raw,this.inlineQueue.at(-1).src=p.text):this.tokens.links[d.tag]||(this.tokens.links[d.tag]={href:d.href,title:d.title},i.push(d));continue}if(d=this.tokenizer.table(r)){r=r.substring(d.raw.length),i.push(d);continue}if(d=this.tokenizer.lheading(r)){r=r.substring(d.raw.length),i.push(d);continue}let h=r;if((a=this.options.extensions)!=null&&a.startBlock){let p=1/0,g=r.slice(1),f;this.options.extensions.startBlock.forEach(m=>{f=m.call({lexer:this},g),typeof f=="number"&&f>=0&&(p=Math.min(p,f))}),p<1/0&&p>=0&&(h=r.substring(0,p+1))}if(this.state.top&&(d=this.tokenizer.paragraph(h))){let p=i.at(-1);l&&(p==null?void 0:p.type)==="paragraph"?(p.raw+=(p.raw.endsWith(`
`)?"":`
`)+d.raw,p.text+=`
`+d.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=p.text):i.push(d),l=h.length!==r.length,r=r.substring(d.raw.length);continue}if(d=this.tokenizer.text(r)){r=r.substring(d.raw.length);let p=i.at(-1);(p==null?void 0:p.type)==="text"?(p.raw+=(p.raw.endsWith(`
`)?"":`
`)+d.raw,p.text+=`
`+d.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=p.text):i.push(d);continue}if(r){let p="Infinite loop on byte: "+r.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return this.state.top=!0,i}inline(r,i=[]){return this.inlineQueue.push({src:r,tokens:i}),i}inlineTokens(r,i=[]){var h,p,g,f,m;let l=r,s=null;if(this.tokens.links){let v=Object.keys(this.tokens.links);if(v.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)v.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(l))!=null;)l=l.slice(0,s.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let u;for(;(s=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)u=s[2]?s[2].length:0,l=l.slice(0,s.index+u)+"["+"a".repeat(s[0].length-u-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);l=((p=(h=this.options.hooks)==null?void 0:h.emStrongMask)==null?void 0:p.call({lexer:this},l))??l;let a=!1,d="";for(;r;){a||(d=""),a=!1;let v;if((f=(g=this.options.extensions)==null?void 0:g.inline)!=null&&f.some(E=>(v=E.call({lexer:this},r,i))?(r=r.substring(v.raw.length),i.push(v),!0):!1))continue;if(v=this.tokenizer.escape(r)){r=r.substring(v.raw.length),i.push(v);continue}if(v=this.tokenizer.tag(r)){r=r.substring(v.raw.length),i.push(v);continue}if(v=this.tokenizer.link(r)){r=r.substring(v.raw.length),i.push(v);continue}if(v=this.tokenizer.reflink(r,this.tokens.links)){r=r.substring(v.raw.length);let E=i.at(-1);v.type==="text"&&(E==null?void 0:E.type)==="text"?(E.raw+=v.raw,E.text+=v.text):i.push(v);continue}if(v=this.tokenizer.emStrong(r,l,d)){r=r.substring(v.raw.length),i.push(v);continue}if(v=this.tokenizer.codespan(r)){r=r.substring(v.raw.length),i.push(v);continue}if(v=this.tokenizer.br(r)){r=r.substring(v.raw.length),i.push(v);continue}if(v=this.tokenizer.del(r)){r=r.substring(v.raw.length),i.push(v);continue}if(v=this.tokenizer.autolink(r)){r=r.substring(v.raw.length),i.push(v);continue}if(!this.state.inLink&&(v=this.tokenizer.url(r))){r=r.substring(v.raw.length),i.push(v);continue}let w=r;if((m=this.options.extensions)!=null&&m.startInline){let E=1/0,_=r.slice(1),k;this.options.extensions.startInline.forEach(S=>{k=S.call({lexer:this},_),typeof k=="number"&&k>=0&&(E=Math.min(E,k))}),E<1/0&&E>=0&&(w=r.substring(0,E+1))}if(v=this.tokenizer.inlineText(w)){r=r.substring(v.raw.length),v.raw.slice(-1)!=="_"&&(d=v.raw.slice(-1)),a=!0;let E=i.at(-1);(E==null?void 0:E.type)==="text"?(E.raw+=v.raw,E.text+=v.text):i.push(v);continue}if(r){let E="Infinite loop on byte: "+r.charCodeAt(0);if(this.options.silent){console.error(E);break}else throw new Error(E)}}return i}},na=class{constructor(e){De(this,"options");De(this,"parser");this.options=e||_i}space(e){return""}code({text:e,lang:r,escaped:i}){var u;let l=(u=(r||"").match(Ht.notSpaceStart))==null?void 0:u[0],s=e.replace(Ht.endingNewline,"")+`
`;return l?'<pre><code class="language-'+hr(l)+'">'+(i?s:hr(s,!0))+`</code></pre>
`:"<pre><code>"+(i?s:hr(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:r}){return`<h${r}>${this.parser.parseInline(e)}</h${r}>
`}hr(e){return`<hr>
`}list(e){let r=e.ordered,i=e.start,l="";for(let a=0;a<e.items.length;a++){let d=e.items[a];l+=this.listitem(d)}let s=r?"ol":"ul",u=r&&i!==1?' start="'+i+'"':"";return"<"+s+u+`>
`+l+"</"+s+`>
`}listitem(e){return`<li>${this.parser.parse(e.tokens)}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let r="",i="";for(let s=0;s<e.header.length;s++)i+=this.tablecell(e.header[s]);r+=this.tablerow({text:i});let l="";for(let s=0;s<e.rows.length;s++){let u=e.rows[s];i="";for(let a=0;a<u.length;a++)i+=this.tablecell(u[a]);l+=this.tablerow({text:i})}return l&&(l=`<tbody>${l}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+l+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let r=this.parser.parseInline(e.tokens),i=e.header?"th":"td";return(e.align?`<${i} align="${e.align}">`:`<${i}>`)+r+`</${i}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${hr(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:r,tokens:i}){let l=this.parser.parseInline(i),s=Bg(e);if(s===null)return l;e=s;let u='<a href="'+e+'"';return r&&(u+=' title="'+hr(r)+'"'),u+=">"+l+"</a>",u}image({href:e,title:r,text:i,tokens:l}){l&&(i=this.parser.parseInline(l,this.parser.textRenderer));let s=Bg(e);if(s===null)return hr(i);e=s;let u=`<img src="${e}" alt="${i}"`;return r&&(u+=` title="${hr(r)}"`),u+=">",u}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:hr(e.text)}},tf=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}checkbox({raw:e}){return e}},An=class Rd{constructor(r){De(this,"options");De(this,"renderer");De(this,"textRenderer");this.options=r||_i,this.options.renderer=this.options.renderer||new na,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new tf}static parse(r,i){return new Rd(i).parse(r)}static parseInline(r,i){return new Rd(i).parseInline(r)}parse(r){var l,s;let i="";for(let u=0;u<r.length;u++){let a=r[u];if((s=(l=this.options.extensions)==null?void 0:l.renderers)!=null&&s[a.type]){let h=a,p=this.options.extensions.renderers[h.type].call({parser:this},h);if(p!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(h.type)){i+=p||"";continue}}let d=a;switch(d.type){case"space":{i+=this.renderer.space(d);break}case"hr":{i+=this.renderer.hr(d);break}case"heading":{i+=this.renderer.heading(d);break}case"code":{i+=this.renderer.code(d);break}case"table":{i+=this.renderer.table(d);break}case"blockquote":{i+=this.renderer.blockquote(d);break}case"list":{i+=this.renderer.list(d);break}case"checkbox":{i+=this.renderer.checkbox(d);break}case"html":{i+=this.renderer.html(d);break}case"def":{i+=this.renderer.def(d);break}case"paragraph":{i+=this.renderer.paragraph(d);break}case"text":{i+=this.renderer.text(d);break}default:{let h='Token with "'+d.type+'" type was not found.';if(this.options.silent)return console.error(h),"";throw new Error(h)}}}return i}parseInline(r,i=this.renderer){var s,u;let l="";for(let a=0;a<r.length;a++){let d=r[a];if((u=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&u[d.type]){let p=this.options.extensions.renderers[d.type].call({parser:this},d);if(p!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(d.type)){l+=p||"";continue}}let h=d;switch(h.type){case"escape":{l+=i.text(h);break}case"html":{l+=i.html(h);break}case"link":{l+=i.link(h);break}case"image":{l+=i.image(h);break}case"checkbox":{l+=i.checkbox(h);break}case"strong":{l+=i.strong(h);break}case"em":{l+=i.em(h);break}case"codespan":{l+=i.codespan(h);break}case"br":{l+=i.br(h);break}case"del":{l+=i.del(h);break}case"text":{l+=i.text(h);break}default:{let p='Token with "'+h.type+'" type was not found.';if(this.options.silent)return console.error(p),"";throw new Error(p)}}}return l}},Dl,ns=(Dl=class{constructor(e){De(this,"options");De(this,"block");this.options=e||_i}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?Mn.lex:Mn.lexInline}provideParser(){return this.block?An.parse:An.parseInline}},De(Dl,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),De(Dl,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),Dl),ZN=class{constructor(...e){De(this,"defaults",qd());De(this,"options",this.setOptions);De(this,"parse",this.parseMarkdown(!0));De(this,"parseInline",this.parseMarkdown(!1));De(this,"Parser",An);De(this,"Renderer",na);De(this,"TextRenderer",tf);De(this,"Lexer",Mn);De(this,"Tokenizer",ta);De(this,"Hooks",ns);this.use(...e)}walkTokens(e,r){var l,s;let i=[];for(let u of e)switch(i=i.concat(r.call(this,u)),u.type){case"table":{let a=u;for(let d of a.header)i=i.concat(this.walkTokens(d.tokens,r));for(let d of a.rows)for(let h of d)i=i.concat(this.walkTokens(h.tokens,r));break}case"list":{let a=u;i=i.concat(this.walkTokens(a.items,r));break}default:{let a=u;(s=(l=this.defaults.extensions)==null?void 0:l.childTokens)!=null&&s[a.type]?this.defaults.extensions.childTokens[a.type].forEach(d=>{let h=a[d].flat(1/0);i=i.concat(this.walkTokens(h,r))}):a.tokens&&(i=i.concat(this.walkTokens(a.tokens,r)))}}return i}use(...e){let r=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(i=>{let l={...i};if(l.async=this.defaults.async||l.async||!1,i.extensions&&(i.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let u=r.renderers[s.name];u?r.renderers[s.name]=function(...a){let d=s.renderer.apply(this,a);return d===!1&&(d=u.apply(this,a)),d}:r.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let u=r[s.level];u?u.unshift(s.tokenizer):r[s.level]=[s.tokenizer],s.start&&(s.level==="block"?r.startBlock?r.startBlock.push(s.start):r.startBlock=[s.start]:s.level==="inline"&&(r.startInline?r.startInline.push(s.start):r.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(r.childTokens[s.name]=s.childTokens)}),l.extensions=r),i.renderer){let s=this.defaults.renderer||new na(this.defaults);for(let u in i.renderer){if(!(u in s))throw new Error(`renderer '${u}' does not exist`);if(["options","parser"].includes(u))continue;let a=u,d=i.renderer[a],h=s[a];s[a]=(...p)=>{let g=d.apply(s,p);return g===!1&&(g=h.apply(s,p)),g||""}}l.renderer=s}if(i.tokenizer){let s=this.defaults.tokenizer||new ta(this.defaults);for(let u in i.tokenizer){if(!(u in s))throw new Error(`tokenizer '${u}' does not exist`);if(["options","rules","lexer"].includes(u))continue;let a=u,d=i.tokenizer[a],h=s[a];s[a]=(...p)=>{let g=d.apply(s,p);return g===!1&&(g=h.apply(s,p)),g}}l.tokenizer=s}if(i.hooks){let s=this.defaults.hooks||new ns;for(let u in i.hooks){if(!(u in s))throw new Error(`hook '${u}' does not exist`);if(["options","block"].includes(u))continue;let a=u,d=i.hooks[a],h=s[a];ns.passThroughHooks.has(u)?s[a]=p=>{if(this.defaults.async&&ns.passThroughHooksRespectAsync.has(u))return(async()=>{let f=await d.call(s,p);return h.call(s,f)})();let g=d.call(s,p);return h.call(s,g)}:s[a]=(...p)=>{if(this.defaults.async)return(async()=>{let f=await d.apply(s,p);return f===!1&&(f=await h.apply(s,p)),f})();let g=d.apply(s,p);return g===!1&&(g=h.apply(s,p)),g}}l.hooks=s}if(i.walkTokens){let s=this.defaults.walkTokens,u=i.walkTokens;l.walkTokens=function(a){let d=[];return d.push(u.call(this,a)),s&&(d=d.concat(s.call(this,a))),d}}this.defaults={...this.defaults,...l}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,r){return Mn.lex(e,r??this.defaults)}parser(e,r){return An.parse(e,r??this.defaults)}parseMarkdown(e){return(r,i)=>{let l={...i},s={...this.defaults,...l},u=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&l.async===!1)return u(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return u(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return u(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=e),s.async)return(async()=>{let a=s.hooks?await s.hooks.preprocess(r):r,d=await(s.hooks?await s.hooks.provideLexer():e?Mn.lex:Mn.lexInline)(a,s),h=s.hooks?await s.hooks.processAllTokens(d):d;s.walkTokens&&await Promise.all(this.walkTokens(h,s.walkTokens));let p=await(s.hooks?await s.hooks.provideParser():e?An.parse:An.parseInline)(h,s);return s.hooks?await s.hooks.postprocess(p):p})().catch(u);try{s.hooks&&(r=s.hooks.preprocess(r));let a=(s.hooks?s.hooks.provideLexer():e?Mn.lex:Mn.lexInline)(r,s);s.hooks&&(a=s.hooks.processAllTokens(a)),s.walkTokens&&this.walkTokens(a,s.walkTokens);let d=(s.hooks?s.hooks.provideParser():e?An.parse:An.parseInline)(a,s);return s.hooks&&(d=s.hooks.postprocess(d)),d}catch(a){return u(a)}}}onError(e,r){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let l="<p>An error occurred:</p><pre>"+hr(i.message+"",!0)+"</pre>";return r?Promise.resolve(l):l}if(r)return Promise.reject(i);throw i}}},Ei=new ZN;function Xe(e,r){return Ei.parse(e,r)}Xe.options=Xe.setOptions=function(e){return Ei.setOptions(e),Xe.defaults=Ei.defaults,Ay(Xe.defaults),Xe};Xe.getDefaults=qd;Xe.defaults=_i;Xe.use=function(...e){return Ei.use(...e),Xe.defaults=Ei.defaults,Ay(Xe.defaults),Xe};Xe.walkTokens=function(e,r){return Ei.walkTokens(e,r)};Xe.parseInline=Ei.parseInline;Xe.Parser=An;Xe.parser=An.parse;Xe.Renderer=na;Xe.TextRenderer=tf;Xe.Lexer=Mn;Xe.lexer=Mn.lex;Xe.Tokenizer=ta;Xe.Hooks=ns;Xe.parse=Xe;Xe.options;Xe.setOptions;Xe.use;Xe.walkTokens;Xe.parseInline;An.parse;Mn.lex;var mc,Ug;function JN(){if(Ug)return mc;Ug=1;function e(W){return W instanceof Map?W.clear=W.delete=W.set=function(){throw new Error("map is read-only")}:W instanceof Set&&(W.add=W.clear=W.delete=function(){throw new Error("set is read-only")}),Object.freeze(W),Object.getOwnPropertyNames(W).forEach(le=>{const ge=W[le],Oe=typeof ge;(Oe==="object"||Oe==="function")&&!Object.isFrozen(ge)&&e(ge)}),W}class r{constructor(le){le.data===void 0&&(le.data={}),this.data=le.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function i(W){return W.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function l(W,...le){const ge=Object.create(null);for(const Oe in W)ge[Oe]=W[Oe];return le.forEach(function(Oe){for(const Je in Oe)ge[Je]=Oe[Je]}),ge}const s="</span>",u=W=>!!W.scope,a=(W,{prefix:le})=>{if(W.startsWith("language:"))return W.replace("language:","language-");if(W.includes(".")){const ge=W.split(".");return[`${le}${ge.shift()}`,...ge.map((Oe,Je)=>`${Oe}${"_".repeat(Je+1)}`)].join(" ")}return`${le}${W}`};class d{constructor(le,ge){this.buffer="",this.classPrefix=ge.classPrefix,le.walk(this)}addText(le){this.buffer+=i(le)}openNode(le){if(!u(le))return;const ge=a(le.scope,{prefix:this.classPrefix});this.span(ge)}closeNode(le){u(le)&&(this.buffer+=s)}value(){return this.buffer}span(le){this.buffer+=`<span class="${le}">`}}const h=(W={})=>{const le={children:[]};return Object.assign(le,W),le};class p{constructor(){this.rootNode=h(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(le){this.top.children.push(le)}openNode(le){const ge=h({scope:le});this.add(ge),this.stack.push(ge)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(le){return this.constructor._walk(le,this.rootNode)}static _walk(le,ge){return typeof ge=="string"?le.addText(ge):ge.children&&(le.openNode(ge),ge.children.forEach(Oe=>this._walk(le,Oe)),le.closeNode(ge)),le}static _collapse(le){typeof le!="string"&&le.children&&(le.children.every(ge=>typeof ge=="string")?le.children=[le.children.join("")]:le.children.forEach(ge=>{p._collapse(ge)}))}}class g extends p{constructor(le){super(),this.options=le}addText(le){le!==""&&this.add(le)}startScope(le){this.openNode(le)}endScope(){this.closeNode()}__addSublanguage(le,ge){const Oe=le.root;ge&&(Oe.scope=`language:${ge}`),this.add(Oe)}toHTML(){return new d(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function f(W){return W?typeof W=="string"?W:W.source:null}function m(W){return E("(?=",W,")")}function v(W){return E("(?:",W,")*")}function w(W){return E("(?:",W,")?")}function E(...W){return W.map(ge=>f(ge)).join("")}function _(W){const le=W[W.length-1];return typeof le=="object"&&le.constructor===Object?(W.splice(W.length-1,1),le):{}}function k(...W){return"("+(_(W).capture?"":"?:")+W.map(Oe=>f(Oe)).join("|")+")"}function S(W){return new RegExp(W.toString()+"|").exec("").length-1}function b(W,le){const ge=W&&W.exec(le);return ge&&ge.index===0}const C=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function A(W,{joinWith:le}){let ge=0;return W.map(Oe=>{ge+=1;const Je=ge;let et=f(Oe),we="";for(;et.length>0;){const ve=C.exec(et);if(!ve){we+=et;break}we+=et.substring(0,ve.index),et=et.substring(ve.index+ve[0].length),ve[0][0]==="\\"&&ve[1]?we+="\\"+String(Number(ve[1])+Je):(we+=ve[0],ve[0]==="("&&ge++)}return we}).map(Oe=>`(${Oe})`).join(le)}const T=/\b\B/,D="[a-zA-Z]\\w*",R="[a-zA-Z_]\\w*",O="\\b\\d+(\\.\\d+)?",G="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",z="\\b(0b[01]+)",j="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",ee=(W={})=>{const le=/^#![ ]*\//;return W.binary&&(W.begin=E(le,/.*\b/,W.binary,/\b.*/)),l({scope:"meta",begin:le,end:/$/,relevance:0,"on:begin":(ge,Oe)=>{ge.index!==0&&Oe.ignoreMatch()}},W)},P={begin:"\\\\[\\s\\S]",relevance:0},J={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[P]},F={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[P]},X={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},I=function(W,le,ge={}){const Oe=l({scope:"comment",begin:W,end:le,contains:[]},ge);Oe.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const Je=k("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return Oe.contains.push({begin:E(/[ ]+/,"(",Je,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),Oe},$=I("//","$"),H=I("/\\*","\\*/"),L=I("#","$"),V={scope:"number",begin:O,relevance:0},U={scope:"number",begin:G,relevance:0},q={scope:"number",begin:z,relevance:0},Q={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[P,{begin:/\[/,end:/\]/,relevance:0,contains:[P]}]},re={scope:"title",begin:D,relevance:0},ae={scope:"title",begin:R,relevance:0},oe={begin:"\\.\\s*"+R,relevance:0};var me=Object.freeze({__proto__:null,APOS_STRING_MODE:J,BACKSLASH_ESCAPE:P,BINARY_NUMBER_MODE:q,BINARY_NUMBER_RE:z,COMMENT:I,C_BLOCK_COMMENT_MODE:H,C_LINE_COMMENT_MODE:$,C_NUMBER_MODE:U,C_NUMBER_RE:G,END_SAME_AS_BEGIN:function(W){return Object.assign(W,{"on:begin":(le,ge)=>{ge.data._beginMatch=le[1]},"on:end":(le,ge)=>{ge.data._beginMatch!==le[1]&&ge.ignoreMatch()}})},HASH_COMMENT_MODE:L,IDENT_RE:D,MATCH_NOTHING_RE:T,METHOD_GUARD:oe,NUMBER_MODE:V,NUMBER_RE:O,PHRASAL_WORDS_MODE:X,QUOTE_STRING_MODE:F,REGEXP_MODE:Q,RE_STARTERS_RE:j,SHEBANG:ee,TITLE_MODE:re,UNDERSCORE_IDENT_RE:R,UNDERSCORE_TITLE_MODE:ae});function Te(W,le){W.input[W.index-1]==="."&&le.ignoreMatch()}function Ee(W,le){W.className!==void 0&&(W.scope=W.className,delete W.className)}function ye(W,le){le&&W.beginKeywords&&(W.begin="\\b("+W.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",W.__beforeBegin=Te,W.keywords=W.keywords||W.beginKeywords,delete W.beginKeywords,W.relevance===void 0&&(W.relevance=0))}function Le(W,le){Array.isArray(W.illegal)&&(W.illegal=k(...W.illegal))}function We(W,le){if(W.match){if(W.begin||W.end)throw new Error("begin & end are not supported with match");W.begin=W.match,delete W.match}}function Be(W,le){W.relevance===void 0&&(W.relevance=1)}const ht=(W,le)=>{if(!W.beforeMatch)return;if(W.starts)throw new Error("beforeMatch cannot be used with starts");const ge=Object.assign({},W);Object.keys(W).forEach(Oe=>{delete W[Oe]}),W.keywords=ge.keywords,W.begin=E(ge.beforeMatch,m(ge.begin)),W.starts={relevance:0,contains:[Object.assign(ge,{endsParent:!0})]},W.relevance=0,delete ge.beforeMatch},Jt=["of","and","for","in","not","or","if","then","parent","list","value"],$t="keyword";function It(W,le,ge=$t){const Oe=Object.create(null);return typeof W=="string"?Je(ge,W.split(" ")):Array.isArray(W)?Je(ge,W):Object.keys(W).forEach(function(et){Object.assign(Oe,It(W[et],le,et))}),Oe;function Je(et,we){le&&(we=we.map(ve=>ve.toLowerCase())),we.forEach(function(ve){const Me=ve.split("|");Oe[Me[0]]=[et,Ut(Me[0],Me[1])]})}}function Ut(W,le){return le?Number(le):vn(W)?0:1}function vn(W){return Jt.includes(W.toLowerCase())}const xn={},Vt=W=>{console.error(W)},Dn=(W,...le)=>{console.log(`WARN: ${W}`,...le)},Lt=(W,le)=>{xn[`${W}/${le}`]||(console.log(`Deprecated as of ${W}. ${le}`),xn[`${W}/${le}`]=!0)},Wt=new Error;function $n(W,le,{key:ge}){let Oe=0;const Je=W[ge],et={},we={};for(let ve=1;ve<=le.length;ve++)we[ve+Oe]=Je[ve],et[ve+Oe]=!0,Oe+=S(le[ve-1]);W[ge]=we,W[ge]._emit=et,W[ge]._multi=!0}function bi(W){if(Array.isArray(W.begin)){if(W.skip||W.excludeBegin||W.returnBegin)throw Vt("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Wt;if(typeof W.beginScope!="object"||W.beginScope===null)throw Vt("beginScope must be object"),Wt;$n(W,W.begin,{key:"beginScope"}),W.begin=A(W.begin,{joinWith:""})}}function wn(W){if(Array.isArray(W.end)){if(W.skip||W.excludeEnd||W.returnEnd)throw Vt("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Wt;if(typeof W.endScope!="object"||W.endScope===null)throw Vt("endScope must be object"),Wt;$n(W,W.end,{key:"endScope"}),W.end=A(W.end,{joinWith:""})}}function Zn(W){W.scope&&typeof W.scope=="object"&&W.scope!==null&&(W.beginScope=W.scope,delete W.scope)}function co(W){Zn(W),typeof W.beginScope=="string"&&(W.beginScope={_wrap:W.beginScope}),typeof W.endScope=="string"&&(W.endScope={_wrap:W.endScope}),bi(W),wn(W)}function ki(W){function le(we,ve){return new RegExp(f(we),"m"+(W.case_insensitive?"i":"")+(W.unicodeRegex?"u":"")+(ve?"g":""))}class ge{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(ve,Me){Me.position=this.position++,this.matchIndexes[this.matchAt]=Me,this.regexes.push([Me,ve]),this.matchAt+=S(ve)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const ve=this.regexes.map(Me=>Me[1]);this.matcherRe=le(A(ve,{joinWith:"|"}),!0),this.lastIndex=0}exec(ve){this.matcherRe.lastIndex=this.lastIndex;const Me=this.matcherRe.exec(ve);if(!Me)return null;const pt=Me.findIndex((un,Bn)=>Bn>0&&un!==void 0),Ze=this.matchIndexes[pt];return Me.splice(0,pt),Object.assign(Me,Ze)}}class Oe{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(ve){if(this.multiRegexes[ve])return this.multiRegexes[ve];const Me=new ge;return this.rules.slice(ve).forEach(([pt,Ze])=>Me.addRule(pt,Ze)),Me.compile(),this.multiRegexes[ve]=Me,Me}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(ve,Me){this.rules.push([ve,Me]),Me.type==="begin"&&this.count++}exec(ve){const Me=this.getMatcher(this.regexIndex);Me.lastIndex=this.lastIndex;let pt=Me.exec(ve);if(this.resumingScanAtSamePosition()&&!(pt&&pt.index===this.lastIndex)){const Ze=this.getMatcher(0);Ze.lastIndex=this.lastIndex+1,pt=Ze.exec(ve)}return pt&&(this.regexIndex+=pt.position+1,this.regexIndex===this.count&&this.considerAll()),pt}}function Je(we){const ve=new Oe;return we.contains.forEach(Me=>ve.addRule(Me.begin,{rule:Me,type:"begin"})),we.terminatorEnd&&ve.addRule(we.terminatorEnd,{type:"end"}),we.illegal&&ve.addRule(we.illegal,{type:"illegal"}),ve}function et(we,ve){const Me=we;if(we.isCompiled)return Me;[Ee,We,co,ht].forEach(Ze=>Ze(we,ve)),W.compilerExtensions.forEach(Ze=>Ze(we,ve)),we.__beforeBegin=null,[ye,Le,Be].forEach(Ze=>Ze(we,ve)),we.isCompiled=!0;let pt=null;return typeof we.keywords=="object"&&we.keywords.$pattern&&(we.keywords=Object.assign({},we.keywords),pt=we.keywords.$pattern,delete we.keywords.$pattern),pt=pt||/\w+/,we.keywords&&(we.keywords=It(we.keywords,W.case_insensitive)),Me.keywordPatternRe=le(pt,!0),ve&&(we.begin||(we.begin=/\B|\b/),Me.beginRe=le(Me.begin),!we.end&&!we.endsWithParent&&(we.end=/\B|\b/),we.end&&(Me.endRe=le(Me.end)),Me.terminatorEnd=f(Me.end)||"",we.endsWithParent&&ve.terminatorEnd&&(Me.terminatorEnd+=(we.end?"|":"")+ve.terminatorEnd)),we.illegal&&(Me.illegalRe=le(we.illegal)),we.contains||(we.contains=[]),we.contains=[].concat(...we.contains.map(function(Ze){return fo(Ze==="self"?we:Ze)})),we.contains.forEach(function(Ze){et(Ze,Me)}),we.starts&&et(we.starts,ve),Me.matcher=Je(Me),Me}if(W.compilerExtensions||(W.compilerExtensions=[]),W.contains&&W.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return W.classNameAliases=l(W.classNameAliases||{}),et(W)}function Vr(W){return W?W.endsWithParent||Vr(W.starts):!1}function fo(W){return W.variants&&!W.cachedVariants&&(W.cachedVariants=W.variants.map(function(le){return l(W,{variants:null},le)})),W.cachedVariants?W.cachedVariants:Vr(W)?l(W,{starts:W.starts?l(W.starts):null}):Object.isFrozen(W)?l(W):W}var Wr="11.11.1";class Gr extends Error{constructor(le,ge){super(le),this.name="HTMLInjectionError",this.html=ge}}const Jn=i,yr=l,vr=Symbol("nomatch"),jn=7,En=function(W){const le=Object.create(null),ge=Object.create(null),Oe=[];let Je=!0;const et="Could not find the language '{}', did you forget to load/include a language module?",we={disableAutodetect:!0,name:"Plain text",contains:[]};let ve={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:g};function Me(fe){return ve.noHighlightRe.test(fe)}function pt(fe){let Ce=fe.className+" ";Ce+=fe.parentNode?fe.parentNode.className:"";const je=ve.languageDetectRe.exec(Ce);if(je){const Fe=en(je[1]);return Fe||(Dn(et.replace("{}",je[1])),Dn("Falling back to no-highlight mode for this block.",fe)),Fe?je[1]:"no-highlight"}return Ce.split(/\s+/).find(Fe=>Me(Fe)||en(Fe))}function Ze(fe,Ce,je){let Fe="",ut="";typeof Ce=="object"?(Fe=fe,je=Ce.ignoreIllegals,ut=Ce.language):(Lt("10.7.0","highlight(lang, code, ...args) has been deprecated."),Lt("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),ut=fe,Fe=Ce),je===void 0&&(je=!0);const rt={code:Fe,language:ut};tr("before:highlight",rt);const dn=rt.result?rt.result:un(rt.language,rt.code,je);return dn.code=rt.code,tr("after:highlight",dn),dn}function un(fe,Ce,je,Fe){const ut=Object.create(null);function rt(pe,_e){return pe.keywords[_e]}function dn(){if(!$e.keywords){yt.addText(Qe);return}let pe=0;$e.keywordPatternRe.lastIndex=0;let _e=$e.keywordPatternRe.exec(Qe),Pe="";for(;_e;){Pe+=Qe.substring(pe,_e.index);const Ue=jt.case_insensitive?_e[0].toLowerCase():_e[0],gt=rt($e,Ue);if(gt){const[kt,_a]=gt;if(yt.addText(Pe),Pe="",ut[Ue]=(ut[Ue]||0)+1,ut[Ue]<=jn&&(Zr+=_a),kt.startsWith("_"))Pe+=_e[0];else{const ks=jt.classNameAliases[kt]||kt;Tt(_e[0],ks)}}else Pe+=_e[0];pe=$e.keywordPatternRe.lastIndex,_e=$e.keywordPatternRe.exec(Qe)}Pe+=Qe.substring(pe),yt.addText(Pe)}function _r(){if(Qe==="")return;let pe=null;if(typeof $e.subLanguage=="string"){if(!le[$e.subLanguage]){yt.addText(Qe);return}pe=un($e.subLanguage,Qe,!0,vo[$e.subLanguage]),vo[$e.subLanguage]=pe._top}else pe=er(Qe,$e.subLanguage.length?$e.subLanguage:null);$e.relevance>0&&(Zr+=pe.relevance),yt.__addSublanguage(pe._emitter,pe.language)}function Rt(){$e.subLanguage!=null?_r():dn(),Qe=""}function Tt(pe,_e){pe!==""&&(yt.startScope(_e),yt.addText(pe),yt.endScope())}function nr(pe,_e){let Pe=1;const Ue=_e.length-1;for(;Pe<=Ue;){if(!pe._emit[Pe]){Pe++;continue}const gt=jt.classNameAliases[pe[Pe]]||pe[Pe],kt=_e[Pe];gt?Tt(kt,gt):(Qe=kt,dn(),Qe=""),Pe++}}function tn(pe,_e){return pe.scope&&typeof pe.scope=="string"&&yt.openNode(jt.classNameAliases[pe.scope]||pe.scope),pe.beginScope&&(pe.beginScope._wrap?(Tt(Qe,jt.classNameAliases[pe.beginScope._wrap]||pe.beginScope._wrap),Qe=""):pe.beginScope._multi&&(nr(pe.beginScope,_e),Qe="")),$e=Object.create(pe,{parent:{value:$e}}),$e}function rr(pe,_e,Pe){let Ue=b(pe.endRe,Pe);if(Ue){if(pe["on:end"]){const gt=new r(pe);pe["on:end"](_e,gt),gt.isMatchIgnored&&(Ue=!1)}if(Ue){for(;pe.endsParent&&pe.parent;)pe=pe.parent;return pe}}if(pe.endsWithParent)return rr(pe.parent,_e,Pe)}function Ti(pe){return $e.matcher.regexIndex===0?(Qe+=pe[0],1):(kr=!0,0)}function mo(pe){const _e=pe[0],Pe=pe.rule,Ue=new r(Pe),gt=[Pe.__beforeBegin,Pe["on:begin"]];for(const kt of gt)if(kt&&(kt(pe,Ue),Ue.isMatchIgnored))return Ti(_e);return Pe.skip?Qe+=_e:(Pe.excludeBegin&&(Qe+=_e),Rt(),!Pe.returnBegin&&!Pe.excludeBegin&&(Qe=_e)),tn(Pe,pe),Pe.returnBegin?0:_e.length}function Qr(pe){const _e=pe[0],Pe=Ce.substring(pe.index),Ue=rr($e,pe,Pe);if(!Ue)return vr;const gt=$e;$e.endScope&&$e.endScope._wrap?(Rt(),Tt(_e,$e.endScope._wrap)):$e.endScope&&$e.endScope._multi?(Rt(),nr($e.endScope,pe)):gt.skip?Qe+=_e:(gt.returnEnd||gt.excludeEnd||(Qe+=_e),Rt(),gt.excludeEnd&&(Qe=_e));do $e.scope&&yt.closeNode(),!$e.skip&&!$e.subLanguage&&(Zr+=$e.relevance),$e=$e.parent;while($e!==Ue.parent);return Ue.starts&&tn(Ue.starts,pe),gt.returnEnd?0:_e.length}function br(){const pe=[];for(let _e=$e;_e!==jt;_e=_e.parent)_e.scope&&pe.unshift(_e.scope);pe.forEach(_e=>yt.openNode(_e))}let Fn={};function Hn(pe,_e){const Pe=_e&&_e[0];if(Qe+=pe,Pe==null)return Rt(),0;if(Fn.type==="begin"&&_e.type==="end"&&Fn.index===_e.index&&Pe===""){if(Qe+=Ce.slice(_e.index,_e.index+1),!Je){const Ue=new Error(`0 width match regex (${fe})`);throw Ue.languageName=fe,Ue.badRule=Fn.rule,Ue}return 1}if(Fn=_e,_e.type==="begin")return mo(_e);if(_e.type==="illegal"&&!je){const Ue=new Error('Illegal lexeme "'+Pe+'" for mode "'+($e.scope||"<unnamed>")+'"');throw Ue.mode=$e,Ue}else if(_e.type==="end"){const Ue=Qr(_e);if(Ue!==vr)return Ue}if(_e.type==="illegal"&&Pe==="")return Qe+=`
`,1;if(Jr>1e5&&Jr>_e.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Qe+=Pe,Pe.length}const jt=en(fe);if(!jt)throw Vt(et.replace("{}",fe)),new Error('Unknown language: "'+fe+'"');const yo=ki(jt);let Ge="",$e=Fe||yo;const vo={},yt=new ve.__emitter(ve);br();let Qe="",Zr=0,Un=0,Jr=0,kr=!1;try{if(jt.__emitTokens)jt.__emitTokens(Ce,yt);else{for($e.matcher.considerAll();;){Jr++,kr?kr=!1:$e.matcher.considerAll(),$e.matcher.lastIndex=Un;const pe=$e.matcher.exec(Ce);if(!pe)break;const _e=Ce.substring(Un,pe.index),Pe=Hn(_e,pe);Un=pe.index+Pe}Hn(Ce.substring(Un))}return yt.finalize(),Ge=yt.toHTML(),{language:fe,value:Ge,relevance:Zr,illegal:!1,_emitter:yt,_top:$e}}catch(pe){if(pe.message&&pe.message.includes("Illegal"))return{language:fe,value:Jn(Ce),illegal:!0,relevance:0,_illegalBy:{message:pe.message,index:Un,context:Ce.slice(Un-100,Un+100),mode:pe.mode,resultSoFar:Ge},_emitter:yt};if(Je)return{language:fe,value:Jn(Ce),illegal:!1,relevance:0,errorRaised:pe,_emitter:yt,_top:$e};throw pe}}function Bn(fe){const Ce={value:Jn(fe),illegal:!1,relevance:0,_top:we,_emitter:new ve.__emitter(ve)};return Ce._emitter.addText(fe),Ce}function er(fe,Ce){Ce=Ce||ve.languages||Object.keys(le);const je=Bn(fe),Fe=Ce.filter(en).filter(Xr).map(Rt=>un(Rt,fe,!1));Fe.unshift(je);const ut=Fe.sort((Rt,Tt)=>{if(Rt.relevance!==Tt.relevance)return Tt.relevance-Rt.relevance;if(Rt.language&&Tt.language){if(en(Rt.language).supersetOf===Tt.language)return 1;if(en(Tt.language).supersetOf===Rt.language)return-1}return 0}),[rt,dn]=ut,_r=rt;return _r.secondBest=dn,_r}function ho(fe,Ce,je){const Fe=Ce&&ge[Ce]||je;fe.classList.add("hljs"),fe.classList.add(`language-${Fe}`)}function qr(fe){let Ce=null;const je=pt(fe);if(Me(je))return;if(tr("before:highlightElement",{el:fe,language:je}),fe.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",fe);return}if(fe.children.length>0&&(ve.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(fe)),ve.throwUnescapedHTML))throw new Gr("One of your code blocks includes unescaped HTML.",fe.innerHTML);Ce=fe;const Fe=Ce.textContent,ut=je?Ze(Fe,{language:je,ignoreIllegals:!0}):er(Fe);fe.innerHTML=ut.value,fe.dataset.highlighted="yes",ho(fe,je,ut.language),fe.result={language:ut.language,re:ut.relevance,relevance:ut.relevance},ut.secondBest&&(fe.secondBest={language:ut.secondBest.language,relevance:ut.secondBest.relevance}),tr("after:highlightElement",{el:fe,result:ut,text:Fe})}function po(fe){ve=yr(ve,fe)}const cn=()=>{wr(),Lt("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function Yr(){wr(),Lt("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let xr=!1;function wr(){function fe(){wr()}if(document.readyState==="loading"){xr||window.addEventListener("DOMContentLoaded",fe,!1),xr=!0;return}document.querySelectorAll(ve.cssSelector).forEach(qr)}function Si(fe,Ce){let je=null;try{je=Ce(W)}catch(Fe){if(Vt("Language definition for '{}' could not be registered.".replace("{}",fe)),Je)Vt(Fe);else throw Fe;je=we}je.name||(je.name=fe),le[fe]=je,je.rawDefinition=Ce.bind(null,W),je.aliases&&Ri(je.aliases,{languageName:fe})}function Ni(fe){delete le[fe];for(const Ce of Object.keys(ge))ge[Ce]===fe&&delete ge[Ce]}function Ci(){return Object.keys(le)}function en(fe){return fe=(fe||"").toLowerCase(),le[fe]||le[ge[fe]]}function Ri(fe,{languageName:Ce}){typeof fe=="string"&&(fe=[fe]),fe.forEach(je=>{ge[je.toLowerCase()]=Ce})}function Xr(fe){const Ce=en(fe);return Ce&&!Ce.disableAutodetect}function nt(fe){fe["before:highlightBlock"]&&!fe["before:highlightElement"]&&(fe["before:highlightElement"]=Ce=>{fe["before:highlightBlock"](Object.assign({block:Ce.el},Ce))}),fe["after:highlightBlock"]&&!fe["after:highlightElement"]&&(fe["after:highlightElement"]=Ce=>{fe["after:highlightBlock"](Object.assign({block:Ce.el},Ce))})}function go(fe){nt(fe),Oe.push(fe)}function Kr(fe){const Ce=Oe.indexOf(fe);Ce!==-1&&Oe.splice(Ce,1)}function tr(fe,Ce){const je=fe;Oe.forEach(function(Fe){Fe[je]&&Fe[je](Ce)})}function Er(fe){return Lt("10.7.0","highlightBlock will be removed entirely in v12.0"),Lt("10.7.0","Please use highlightElement now."),qr(fe)}Object.assign(W,{highlight:Ze,highlightAuto:er,highlightAll:wr,highlightElement:qr,highlightBlock:Er,configure:po,initHighlighting:cn,initHighlightingOnLoad:Yr,registerLanguage:Si,unregisterLanguage:Ni,listLanguages:Ci,getLanguage:en,registerAliases:Ri,autoDetection:Xr,inherit:yr,addPlugin:go,removePlugin:Kr}),W.debugMode=function(){Je=!1},W.safeMode=function(){Je=!0},W.versionString=Wr,W.regex={concat:E,lookahead:m,either:k,optional:w,anyNumberOfTimes:v};for(const fe in me)typeof me[fe]=="object"&&e(me[fe]);return Object.assign(W,me),W},_n=En({});return _n.newInstance=()=>En({}),mc=_n,_n.HighlightJS=_n,_n.default=_n,mc}var eC=JN();const ft=oa(eC),Vg="[A-Za-z$_][0-9A-Za-z$_]*",tC=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],nC=["true","false","null","undefined","NaN","Infinity"],Hy=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Uy=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Vy=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],rC=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],iC=[].concat(Vy,Hy,Uy);function Wy(e){const r=e.regex,i=(I,{after:$})=>{const H="</"+I[0].slice(1);return I.input.indexOf(H,$)!==-1},l=Vg,s={begin:"<>",end:"</>"},u=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(I,$)=>{const H=I[0].length+I.index,L=I.input[H];if(L==="<"||L===","){$.ignoreMatch();return}L===">"&&(i(I,{after:H})||$.ignoreMatch());let V;const U=I.input.substring(H);if(V=U.match(/^\s*=/)){$.ignoreMatch();return}if((V=U.match(/^\s+extends\s+/))&&V.index===0){$.ignoreMatch();return}}},d={$pattern:Vg,keyword:tC,literal:nC,built_in:iC,"variable.language":rC},h="[0-9](_?[0-9])*",p=`\\.(${h})`,g="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",f={className:"number",variants:[{begin:`(\\b(${g})((${p})|\\.)?|(${p}))[eE][+-]?(${h})\\b`},{begin:`\\b(${g})\\b((${p})\\b|\\.)?|(${p})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},m={className:"subst",begin:"\\$\\{",end:"\\}",keywords:d,contains:[]},v={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,m],subLanguage:"xml"}},w={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,m],subLanguage:"css"}},E={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,m],subLanguage:"graphql"}},_={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,m]},S={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:l+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},b=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,v,w,E,_,{match:/\$\d+/},f];m.contains=b.concat({begin:/\{/,end:/\}/,keywords:d,contains:["self"].concat(b)});const C=[].concat(S,m.contains),A=C.concat([{begin:/(\s*)\(/,end:/\)/,keywords:d,contains:["self"].concat(C)}]),T={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:d,contains:A},D={variants:[{match:[/class/,/\s+/,l,/\s+/,/extends/,/\s+/,r.concat(l,"(",r.concat(/\./,l),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,l],scope:{1:"keyword",3:"title.class"}}]},R={relevance:0,match:r.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Hy,...Uy]}},O={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},G={variants:[{match:[/function/,/\s+/,l,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[T],illegal:/%/},z={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function j(I){return r.concat("(?!",I.join("|"),")")}const ee={match:r.concat(/\b/,j([...Vy,"super","import"].map(I=>`${I}\\s*\\(`)),l,r.lookahead(/\s*\(/)),className:"title.function",relevance:0},P={begin:r.concat(/\./,r.lookahead(r.concat(l,/(?![0-9A-Za-z$_(])/))),end:l,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},J={match:[/get|set/,/\s+/,l,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},T]},F="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",X={match:[/const|var|let/,/\s+/,l,/\s*/,/=\s*/,/(async\s*)?/,r.lookahead(F)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[T]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:d,exports:{PARAMS_CONTAINS:A,CLASS_REFERENCE:R},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),O,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,v,w,E,_,S,{match:/\$\d+/},f,R,{scope:"attr",match:l+r.lookahead(":"),relevance:0},X,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[S,e.REGEXP_MODE,{className:"function",begin:F,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:d,contains:A}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:s.begin,end:s.end},{match:u},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},G,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[T,e.inherit(e.TITLE_MODE,{begin:l,className:"title.function"})]},{match:/\.\.\./,relevance:0},P,{match:"\\$"+l,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[T]},ee,z,D,J,{match:/\$[(.]/}]}}const ra="[A-Za-z$_][0-9A-Za-z$_]*",Gy=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],qy=["true","false","null","undefined","NaN","Infinity"],Yy=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Xy=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Ky=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Qy=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Zy=[].concat(Ky,Yy,Xy);function oC(e){const r=e.regex,i=(I,{after:$})=>{const H="</"+I[0].slice(1);return I.input.indexOf(H,$)!==-1},l=ra,s={begin:"<>",end:"</>"},u=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(I,$)=>{const H=I[0].length+I.index,L=I.input[H];if(L==="<"||L===","){$.ignoreMatch();return}L===">"&&(i(I,{after:H})||$.ignoreMatch());let V;const U=I.input.substring(H);if(V=U.match(/^\s*=/)){$.ignoreMatch();return}if((V=U.match(/^\s+extends\s+/))&&V.index===0){$.ignoreMatch();return}}},d={$pattern:ra,keyword:Gy,literal:qy,built_in:Zy,"variable.language":Qy},h="[0-9](_?[0-9])*",p=`\\.(${h})`,g="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",f={className:"number",variants:[{begin:`(\\b(${g})((${p})|\\.)?|(${p}))[eE][+-]?(${h})\\b`},{begin:`\\b(${g})\\b((${p})\\b|\\.)?|(${p})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},m={className:"subst",begin:"\\$\\{",end:"\\}",keywords:d,contains:[]},v={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,m],subLanguage:"xml"}},w={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,m],subLanguage:"css"}},E={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,m],subLanguage:"graphql"}},_={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,m]},S={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:l+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},b=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,v,w,E,_,{match:/\$\d+/},f];m.contains=b.concat({begin:/\{/,end:/\}/,keywords:d,contains:["self"].concat(b)});const C=[].concat(S,m.contains),A=C.concat([{begin:/(\s*)\(/,end:/\)/,keywords:d,contains:["self"].concat(C)}]),T={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:d,contains:A},D={variants:[{match:[/class/,/\s+/,l,/\s+/,/extends/,/\s+/,r.concat(l,"(",r.concat(/\./,l),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,l],scope:{1:"keyword",3:"title.class"}}]},R={relevance:0,match:r.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Yy,...Xy]}},O={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},G={variants:[{match:[/function/,/\s+/,l,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[T],illegal:/%/},z={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function j(I){return r.concat("(?!",I.join("|"),")")}const ee={match:r.concat(/\b/,j([...Ky,"super","import"].map(I=>`${I}\\s*\\(`)),l,r.lookahead(/\s*\(/)),className:"title.function",relevance:0},P={begin:r.concat(/\./,r.lookahead(r.concat(l,/(?![0-9A-Za-z$_(])/))),end:l,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},J={match:[/get|set/,/\s+/,l,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},T]},F="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",X={match:[/const|var|let/,/\s+/,l,/\s*/,/=\s*/,/(async\s*)?/,r.lookahead(F)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[T]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:d,exports:{PARAMS_CONTAINS:A,CLASS_REFERENCE:R},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),O,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,v,w,E,_,S,{match:/\$\d+/},f,R,{scope:"attr",match:l+r.lookahead(":"),relevance:0},X,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[S,e.REGEXP_MODE,{className:"function",begin:F,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:d,contains:A}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:s.begin,end:s.end},{match:u},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},G,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[T,e.inherit(e.TITLE_MODE,{begin:l,className:"title.function"})]},{match:/\.\.\./,relevance:0},P,{match:"\\$"+l,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[T]},ee,z,D,J,{match:/\$[(.]/}]}}function Jy(e){const r=e.regex,i=oC(e),l=ra,s=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],u={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},a={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:s},contains:[i.exports.CLASS_REFERENCE]},d={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},h=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],p={$pattern:ra,keyword:Gy.concat(h),literal:qy,built_in:Zy.concat(s),"variable.language":Qy},g={className:"meta",begin:"@"+l},f=(E,_,k)=>{const S=E.contains.findIndex(b=>b.label===_);if(S===-1)throw new Error("can not find mode to replace");E.contains.splice(S,1,k)};Object.assign(i.keywords,p),i.exports.PARAMS_CONTAINS.push(g);const m=i.contains.find(E=>E.scope==="attr"),v=Object.assign({},m,{match:r.concat(l,r.lookahead(/\s*\?:/))});i.exports.PARAMS_CONTAINS.push([i.exports.CLASS_REFERENCE,m,v]),i.contains=i.contains.concat([g,u,a,v]),f(i,"shebang",e.SHEBANG()),f(i,"use_strict",d);const w=i.contains.find(E=>E.label==="func.def");return w.relevance=0,Object.assign(i,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),i}function ev(e){const r=e.regex,i="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",l=r.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),s=r.concat(l,/(::\w+)*/),a={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},d={className:"doctag",begin:"@[A-Za-z]+"},h={begin:"#<",end:">"},p=[e.COMMENT("#","$",{contains:[d]}),e.COMMENT("^=begin","^=end",{contains:[d],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],g={className:"subst",begin:/#\{/,end:/\}/,keywords:a},f={className:"string",contains:[e.BACKSLASH_ESCAPE,g],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:r.concat(/<<[-~]?'?/,r.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,g]})]}]},m="[1-9](_?[0-9])*|0",v="[0-9](_?[0-9])*",w={className:"number",relevance:0,variants:[{begin:`\\b(${m})(\\.(${v}))?([eE][+-]?(${v})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},E={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:a}]},T=[f,{variants:[{match:[/class\s+/,s,/\s+<\s+/,s]},{match:[/\b(class|module)\s+/,s]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:a},{match:[/(include|extend)\s+/,s],scope:{2:"title.class"},keywords:a},{relevance:0,match:[s,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:l,scope:"title.class"},{match:[/def/,/\s+/,i],scope:{1:"keyword",3:"title.function"},contains:[E]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[f,{begin:i}],relevance:0},w,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:a},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,g],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(h,p),relevance:0}].concat(h,p);g.contains=T,E.contains=T;const G=[{begin:/^\s*=>/,starts:{end:"$",contains:T}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:a,contains:T}}];return p.unshift(h),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:a,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(G).concat(p).concat(T)}}function tv(e){const r=e.regex,i=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),l=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],d={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:l,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},h={className:"meta",begin:/^(>>>|\.\.\.) /},p={className:"subst",begin:/\{/,end:/\}/,keywords:d,illegal:/#/},g={begin:/\{\{/,relevance:0},f={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,h],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,h],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,h,g,p]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,h,g,p]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,g,p]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,g,p]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},m="[0-9](_?[0-9])*",v=`(\\b(${m}))?\\.(${m})|\\b(${m})\\.`,w=`\\b|${l.join("|")}`,E={className:"number",relevance:0,variants:[{begin:`(\\b(${m})|(${v}))[eE][+-]?(${m})[jJ]?(?=${w})`},{begin:`(${v})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${w})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${w})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${w})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${w})`},{begin:`\\b(${m})[jJ](?=${w})`}]},_={className:"comment",begin:r.lookahead(/# type:/),end:/$/,keywords:d,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},k={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:d,contains:["self",h,E,f,e.HASH_COMMENT_MODE]}]};return p.contains=[f,E,h],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:d,illegal:/(<\/|\?)|=>/,contains:[h,E,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},f,_,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,i],scope:{1:"keyword",3:"title.function"},contains:[k]},{variants:[{match:[/\bclass/,/\s+/,i,/\s*/,/\(\s*/,i,/\s*\)/]},{match:[/\bclass/,/\s+/,i]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[E,k,f]}]}}function sC(e){const r=e.regex,i=e.COMMENT("--","$"),l={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},s={begin:/"/,end:/"/,contains:[{match:/""/}]},u=["true","false","unknown"],a=["double precision","large object","with timezone","without timezone"],d=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],h=["add","asc","collation","desc","final","first","last","view"],p=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],g=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],f=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],m=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],v=g,w=[...p,...h].filter(A=>!g.includes(A)),E={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},_={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},k={match:r.concat(/\b/,r.either(...v),/\s*\(/),relevance:0,keywords:{built_in:v}};function S(A){return r.concat(/\b/,r.either(...A.map(T=>T.replace(/\s+/,"\\s+"))),/\b/)}const b={scope:"keyword",match:S(m),relevance:0};function C(A,{exceptions:T,when:D}={}){const R=D;return T=T||[],A.map(O=>O.match(/\|\d+$/)||T.includes(O)?O:R(O)?`${O}|0`:O)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:C(w,{when:A=>A.length<3}),literal:u,type:d,built_in:f},contains:[{scope:"type",match:S(a)},b,k,E,l,s,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,i,_]}}function lC(e){const r={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},i={match:/[{}[\],:]/,className:"punctuation",relevance:0},l=["true","false","null"],s={scope:"literal",beginKeywords:l.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:l},contains:[r,i,e.QUOTE_STRING_MODE,s,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}function nf(e){const r=e.regex,i={},l={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[i]}]};Object.assign(i,{className:"variable",variants:[{begin:r.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},l]});const s={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},u=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),a={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},d={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,i,s]};s.contains.push(d);const h={match:/\\"/},p={className:"string",begin:/'/,end:/'/},g={match:/\\'/},f={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,i]},m=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],v=e.SHEBANG({binary:`(${m.join("|")})`,relevance:10}),w={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},E=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],_=["true","false"],k={match:/(\/[a-z._-]+)+/},S=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],b=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],C=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],A=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:E,literal:_,built_in:[...S,...b,"set","shopt",...C,...A]},contains:[v,e.SHEBANG(),w,f,u,a,k,d,h,p,g,i]}}function nv(e){const r=e.regex,i=r.concat(/[\p{L}_]/u,r.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),l=/[\p{L}0-9._:-]+/u,s={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},u={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},a=e.inherit(u,{begin:/\(/,end:/\)/}),d=e.inherit(e.APOS_STRING_MODE,{className:"string"}),h=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),p={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:l,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[s]},{begin:/'/,end:/'/,contains:[s]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[u,h,d,a,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[u,a,h,d]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},s,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[h]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[p],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[p],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:r.concat(/</,r.lookahead(r.concat(i,r.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:i,relevance:0,starts:p}]},{className:"tag",begin:r.concat(/<\//,r.lookahead(r.concat(i,/>/))),contains:[{className:"name",begin:i,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}const aC=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),uC=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],cC=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],dC=[...uC,...cC],fC=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),hC=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),pC=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),gC=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function mC(e){const r=e.regex,i=aC(e),l={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},s="and or not only",u=/@-?\w[\w]*(-\w+)*/,a="[a-zA-Z-][a-zA-Z0-9_-]*",d=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[i.BLOCK_COMMENT,l,i.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+a,relevance:0},i.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+hC.join("|")+")"},{begin:":(:)?("+pC.join("|")+")"}]},i.CSS_VARIABLE,{className:"attribute",begin:"\\b("+gC.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[i.BLOCK_COMMENT,i.HEXCOLOR,i.IMPORTANT,i.CSS_NUMBER_MODE,...d,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...d,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},i.FUNCTION_DISPATCH]},{begin:r.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:u},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:fC.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...d,i.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+dC.join("|")+")\\b"}]}}function rv(e){const r="true false yes no null",i="[\\w#;/?:@&=+$,.~*'()[\\]]+",l={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},s={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},u={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},a={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,s]},d=e.inherit(a,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),m={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},v={end:",",endsWithParent:!0,excludeEnd:!0,keywords:r,relevance:0},w={begin:/\{/,end:/\}/,contains:[v],illegal:"\\n",relevance:0},E={begin:"\\[",end:"\\]",contains:[v],illegal:"\\n",relevance:0},_=[l,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+i},{className:"type",begin:"!<"+i+">"},{className:"type",begin:"!"+i},{className:"type",begin:"!!"+i},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:r,keywords:{literal:r}},m,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},w,E,u,a],k=[..._];return k.pop(),k.push(d),v.contains=k,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:_}}function iv(e){const r=e.regex,i={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},l={begin:"^[-\\*]{3,}",end:"$"},s={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},u={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},a={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},d=/[A-Za-z][A-Za-z0-9+.-]*/,h={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:r.concat(/\[.+?\]\(/,d,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},p={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},g={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},f=e.inherit(p,{contains:[]}),m=e.inherit(g,{contains:[]});p.contains.push(m),g.contains.push(f);let v=[i,h];return[p,g,f,m].forEach(k=>{k.contains=k.contains.concat(v)}),v=v.concat(p,g),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:v},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:v}]}]},i,u,p,g,{className:"quote",begin:"^>\\s+",contains:v,end:"$"},s,l,h,a,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}ft.registerLanguage("javascript",Wy);ft.registerLanguage("js",Wy);ft.registerLanguage("typescript",Jy);ft.registerLanguage("ts",Jy);ft.registerLanguage("ruby",ev);ft.registerLanguage("rb",ev);ft.registerLanguage("python",tv);ft.registerLanguage("py",tv);ft.registerLanguage("sql",sC);ft.registerLanguage("json",lC);ft.registerLanguage("bash",nf);ft.registerLanguage("sh",nf);ft.registerLanguage("shell",nf);ft.registerLanguage("html",nv);ft.registerLanguage("xml",nv);ft.registerLanguage("css",mC);ft.registerLanguage("yaml",rv);ft.registerLanguage("yml",rv);ft.registerLanguage("markdown",iv);ft.registerLanguage("md",iv);Xe.setOptions({breaks:!0,gfm:!0});const ov=new Xe.Renderer;ov.code=function({text:e,lang:r}){let i;return r&&ft.getLanguage(r)?i=ft.highlight(e,{language:r}).value:i=ft.highlightAuto(e).value,`<pre><code class="hljs${r?` language-${r}`:""}">${i}</code></pre>`};Xe.use({renderer:ov});function yC(e){if(!e)return"";const r=[`Model: ${e.model}`,`Record ID: ${e.record_id}`,"","Attributes:"];for(const[i,l]of Object.entries(e.attributes)){const s=l==null?"null":String(l);r.push(`  ${i}: ${s}`)}if(e.relations.length>0){r.push("","Relations:");for(const i of e.relations)r.push(`  ${i.name} (${i.macro} -> ${i.class_name}, count: ${i.count})`)}return r.join(`
`)}const Wg=280,vC=.7;function xC({nodeKey:e,nodeData:r,comments:i,onAddComment:l,onClose:s}){const[u,a]=Z.useState(""),[d,h]=Z.useState(!1),[p,g]=Z.useState(()=>Math.max(Wg,window.innerWidth*.35)),f=Z.useRef(null),m=Z.useRef(!1);Z.useEffect(()=>{f.current&&(f.current.scrollTop=f.current.scrollHeight)},[i.length]);const v=Z.useCallback(S=>{S.preventDefault(),m.current=!0;const b=S.clientX,C=p,A=D=>{if(!m.current)return;const R=b-D.clientX,O=window.innerWidth*vC;g(Math.max(Wg,Math.min(C+R,O)))},T=()=>{m.current=!1,document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",T),document.body.style.cursor="",document.body.style.userSelect=""};document.body.style.cursor="col-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",A),document.addEventListener("mouseup",T)},[p]),w=()=>{const S=u.trim();S&&(l(e,S,"user"),a(""))},E=async()=>{const S=u.trim();if(S){l(e,S,"user"),a(""),h(!0);try{const b=yC(r),A=[...i,{text:S,type:"user"}].map(R=>`[${R.type==="ai"?"AI":"User"}]: ${R.text}`).join(`
`),T=b?`--- Node Context ---
${b}

--- Conversation ---
${A}`:A,D=await aN(T);l(e,D,"ai")}catch(b){l(e,`Error: ${b instanceof Error?b.message:"LLM request failed"}`,"ai")}finally{h(!1)}}},_=e.includes(":")?e.split(":")[0]:e,k=e.includes(":")?e.split(":").slice(1).join(":"):"";return M.jsxs("div",{style:{position:"absolute",top:0,right:0,width:p,height:"100%",background:"#fff",borderLeft:"1px solid #e2e8f0",boxShadow:"-4px 0 20px rgba(0,0,0,0.08)",display:"flex",flexDirection:"column",zIndex:20,fontSize:13,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[M.jsx("div",{onMouseDown:v,style:{position:"absolute",left:-3,top:0,width:6,height:"100%",cursor:"col-resize",zIndex:21},children:M.jsx("div",{style:{position:"absolute",left:2,top:"50%",transform:"translateY(-50%)",width:3,height:40,borderRadius:2,background:"#CBD5E1",transition:"background 0.15s"}})}),M.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 16px",borderBottom:"1px solid #e2e8f0",background:"#f8fafc",flexShrink:0},children:[M.jsxs("div",{children:[M.jsx("div",{style:{fontWeight:600,fontSize:13,color:"#1E293B"},children:_}),k&&M.jsx("div",{style:{fontSize:11,color:"#64748B",fontFamily:"monospace",marginTop:1},children:k})]}),M.jsx("button",{onClick:s,style:{background:"none",border:"none",cursor:"pointer",color:"#94A3B8",fontSize:18,padding:"2px 6px",lineHeight:1,borderRadius:4},onMouseEnter:S=>{S.currentTarget.style.color="#334155"},onMouseLeave:S=>{S.currentTarget.style.color="#94A3B8"},children:""})]}),M.jsxs("div",{ref:f,style:{flex:1,overflowY:"auto",padding:"12px 16px"},children:[M.jsx("style",{children:EC}),M.jsx("style",{children:wC}),i.length===0&&M.jsxs("div",{style:{color:"#94A3B8",fontSize:12,textAlign:"center",padding:"32px 0"},children:[M.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 16 16",fill:"none",stroke:"#CBD5E1",strokeWidth:"1",style:{marginBottom:8},children:[M.jsx("path",{d:"M8 1l1.5 3.5L13 6l-3.5 1.5L8 11 6.5 7.5 3 6l3.5-1.5z"}),M.jsx("path",{d:"M12 10l.75 1.75L14.5 12.5l-1.75.75L12 15l-.75-1.75-1.75-.75 1.75-.75z",opacity:"0.6"})]}),M.jsx("div",{children:"No comments yet"}),M.jsx("div",{style:{fontSize:11,marginTop:4},children:"Type a message or ask AI about this node"})]}),i.map(S=>M.jsx(_C,{comment:S},S.id)),d&&M.jsxs("div",{style:{marginBottom:8,padding:"10px 12px",borderRadius:8,background:"#f0f4ff",border:"1px solid #dbe4ff",display:"flex",alignItems:"center",gap:8,color:"#4F46E5",fontSize:12},children:[M.jsx("span",{style:{animation:"spin 1s linear infinite",display:"inline-block"},children:""}),"AI is thinking...",M.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }"})]})]}),M.jsxs("div",{style:{borderTop:"1px solid #e2e8f0",padding:"12px 16px",flexShrink:0,background:"#f8fafc"},children:[M.jsx("textarea",{value:u,onChange:S=>a(S.target.value),placeholder:"Type a comment...",disabled:d,onKeyDown:S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),w())},style:{width:"100%",minHeight:56,maxHeight:120,resize:"vertical",border:"1px solid #e2e8f0",borderRadius:8,padding:"10px 12px",fontSize:13,fontFamily:"inherit",outline:"none",boxSizing:"border-box",background:"#fff"},onFocus:S=>{S.target.style.borderColor="#4F46E5"},onBlur:S=>{S.target.style.borderColor="#e2e8f0"}}),M.jsxs("div",{style:{display:"flex",gap:8,marginTop:10,justifyContent:"flex-end"},children:[M.jsxs("button",{onClick:w,disabled:!u.trim()||d,style:{padding:"8px 16px",borderRadius:6,border:"none",background:u.trim()&&!d?"#334155":"#e2e8f0",color:u.trim()&&!d?"#fff":"#94A3B8",cursor:u.trim()&&!d?"pointer":"default",fontSize:12,fontWeight:500,display:"flex",alignItems:"center",gap:5},children:[M.jsx("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:M.jsx("path",{d:"M14 2L7 9M14 2l-4.5 12-2.5-5.5L2 6z"})}),"Send"]}),M.jsx("button",{onClick:E,disabled:!u.trim()||d,style:{padding:"8px 16px",borderRadius:6,border:"none",background:u.trim()&&!d?"#4F46E5":"#e2e8f0",color:u.trim()&&!d?"#fff":"#94A3B8",cursor:u.trim()&&!d?"pointer":"default",fontSize:12,fontWeight:500,display:"flex",alignItems:"center",gap:5},children:d?M.jsxs(M.Fragment,{children:[M.jsx("span",{style:{animation:"spin 1s linear infinite",display:"inline-block"},children:""}),"Thinking..."]}):M.jsxs(M.Fragment,{children:[M.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[M.jsx("path",{d:"M8 1l1.5 3.5L13 6l-3.5 1.5L8 11 6.5 7.5 3 6l3.5-1.5z"}),M.jsx("path",{d:"M12 10l.75 1.75L14.5 12.5l-1.75.75L12 15l-.75-1.75-1.75-.75 1.75-.75z",opacity:"0.6"})]}),"AI"]})})]})]})]})}const wC=`
.hljs { color: #334155; }
.hljs-keyword, .hljs-selector-tag, .hljs-built_in { color: #8250df; font-weight: 500; }
.hljs-string, .hljs-attr { color: #0a3069; }
.hljs-number, .hljs-literal { color: #0550ae; }
.hljs-comment, .hljs-quote { color: #6e7781; font-style: italic; }
.hljs-function .hljs-title, .hljs-title.function_ { color: #6639ba; }
.hljs-variable, .hljs-template-variable { color: #953800; }
.hljs-type, .hljs-class .hljs-title { color: #0550ae; font-weight: 500; }
.hljs-tag { color: #116329; }
.hljs-name { color: #116329; font-weight: 500; }
.hljs-attribute { color: #0550ae; }
.hljs-symbol, .hljs-bullet { color: #0550ae; }
.hljs-meta { color: #6e7781; }
.hljs-addition { color: #116329; background: #dafbe1; }
.hljs-deletion { color: #82071e; background: #ffebe9; }
`,EC=`
.comment-md { color: #334155; line-height: 1.5; font-size: 13px; }
.comment-md p { margin: 0 0 8px; }
.comment-md p:last-child { margin-bottom: 0; }
.comment-md code {
  background: #f1f5f9; padding: 2px 5px; border-radius: 4px;
  font-size: 12px; font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace;
}
.comment-md pre {
  background: #f8fafc; padding: 12px; border-radius: 6px;
  overflow-x: auto; margin: 8px 0; border: 1px solid #e2e8f0;
  font-size: 12px; line-height: 1.5;
  font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace;
}
.comment-md pre code { background: none; padding: 0; font-size: 12px; }
.comment-md ul, .comment-md ol { margin: 6px 0; padding-left: 20px; }
.comment-md li { margin: 3px 0; }
.comment-md h1, .comment-md h2, .comment-md h3 { margin: 10px 0 6px; }
.comment-md h1 { font-size: 16px; }
.comment-md h2 { font-size: 14px; }
.comment-md h3 { font-size: 13px; }
.comment-md blockquote { margin: 6px 0; padding-left: 12px; border-left: 3px solid #dbe4ff; color: #64748B; }
.comment-md a { color: #4F46E5; text-decoration: underline; }
.comment-md table { border-collapse: collapse; margin: 6px 0; font-size: 12px; width: 100%; }
.comment-md th, .comment-md td { border: 1px solid #e2e8f0; padding: 5px 8px; text-align: left; }
.comment-md th { background: #f1f5f9; font-weight: 600; }
.comment-md hr { border: none; border-top: 1px solid #e2e8f0; margin: 8px 0; }
.comment-md strong { font-weight: 600; }
`;function _C({comment:e}){const r=Z.useMemo(()=>e.type!=="ai"?null:Xe.parse(e.text),[e.text,e.type]);return M.jsxs("div",{style:{marginBottom:10,padding:"10px 12px",borderRadius:10,background:e.type==="ai"?"#f0f4ff":"#f8fafc",border:e.type==="ai"?"1px solid #dbe4ff":"1px solid #e2e8f0"},children:[M.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,marginBottom:6,fontSize:10,color:e.type==="ai"?"#4F46E5":"#64748B",fontWeight:600},children:[e.type==="ai"?M.jsxs(M.Fragment,{children:[M.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[M.jsx("path",{d:"M8 1l1.5 3.5L13 6l-3.5 1.5L8 11 6.5 7.5 3 6l3.5-1.5z"}),M.jsx("path",{d:"M12 10l.75 1.75L14.5 12.5l-1.75.75L12 15l-.75-1.75-1.75-.75 1.75-.75z",opacity:"0.6"})]}),"AI"]}):"You",M.jsx("span",{style:{fontWeight:400,color:"#94A3B8",marginLeft:"auto"},children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.type==="ai"&&r?M.jsx("div",{className:"comment-md",dangerouslySetInnerHTML:{__html:r}}):M.jsx("div",{style:{color:"#334155",whiteSpace:"pre-wrap",lineHeight:1.5,fontSize:13},children:e.text})]})}const bC={modelNode:Ty,loadMoreNode:My};function kC({nodes:e,edges:r,onNodesChange:i,onExpandRelation:l,focusNodeKey:s,onFocusHandled:u,getComments:a,addComment:d,getNodeData:h,nodeKeysWithComments:p}){const{setCenter:g,getZoom:f}=ma(),m=Z.useRef(e.length),[v,w]=Z.useState(null),E=Z.useMemo(()=>p.size===0?e:e.map(k=>{if(k.type!=="modelNode")return k;const S=p.has(k.id);return S===k.data.hasComments?k:{...k,data:{...k.data,hasComments:S}}}),[e,p]);Z.useEffect(()=>{if(!s)return;const k=setTimeout(()=>{var b;const S=e.find(C=>C.id===s);if(S){const C=Number((b=S.data)==null?void 0:b.estimatedHeight)||180;g(S.position.x+140,S.position.y+C/2,{zoom:Math.max(f(),.6),duration:400})}u()},100);return()=>clearTimeout(k)},[s,e,g,f,u]),Z.useEffect(()=>{m.current=e.length},[e.length]);const _=Z.useCallback((k,S)=>{var T,D;const b=k.target,C=(T=b.closest)==null?void 0:T.call(b,"[data-comment-btn]");if(C){const R=C.getAttribute("data-node-key");R&&w(O=>O===R?null:R);return}const A=(D=b.closest)==null?void 0:D.call(b,"[data-relation]");if(A&&A.classList.contains("relation-expandable")){const R=A.getAttribute("data-relation"),O=A.getAttribute("data-source-key");if(R&&O&&S.type==="modelNode"){const z=S.data.relations.find(j=>j.name===R);z&&l(O,z)}return}if(S.type==="loadMoreNode"){const{sourceKey:R,relation:O,nextPage:G}=S.data;l(R,O,G)}},[l]);return e.length===0?M.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"#94A3B8",fontSize:14,flexDirection:"column",gap:8},children:[M.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#CBD5E1",strokeWidth:"1.5",children:[M.jsx("circle",{cx:"12",cy:"12",r:"3"}),M.jsx("path",{d:"M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"})]}),M.jsx("div",{children:"Enter a model name and ID above to start exploring"}),M.jsx("div",{style:{fontSize:12},children:"Or click a model on the left to browse records"})]}):M.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[M.jsxs(MS,{nodes:E,edges:r,nodeTypes:bC,onNodesChange:i,onNodeClick:_,fitView:!0,fitViewOptions:{padding:.3},minZoom:.1,maxZoom:2,proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"smoothstep"},children:[M.jsx(PS,{gap:20,size:1,color:"#f1f5f9"}),M.jsx(HS,{position:"bottom-right"}),M.jsx(tN,{position:"bottom-left",nodeColor:k=>k.type==="modelNode"?k.data.color:"#CBD5E1",style:{width:120,height:80}})]}),v&&M.jsx(xC,{nodeKey:v,nodeData:h(v),comments:a(v),onAddComment:d,onClose:()=>w(null)})]})}var yc,Gg;function rf(){if(Gg)return yc;Gg=1;var e="\0",r="\0",i="";class l{constructor(g){De(this,"_isDirected",!0);De(this,"_isMultigraph",!1);De(this,"_isCompound",!1);De(this,"_label");De(this,"_defaultNodeLabelFn",()=>{});De(this,"_defaultEdgeLabelFn",()=>{});De(this,"_nodes",{});De(this,"_in",{});De(this,"_preds",{});De(this,"_out",{});De(this,"_sucs",{});De(this,"_edgeObjs",{});De(this,"_edgeLabels",{});De(this,"_nodeCount",0);De(this,"_edgeCount",0);De(this,"_parent");De(this,"_children");g&&(this._isDirected=Object.hasOwn(g,"directed")?g.directed:!0,this._isMultigraph=Object.hasOwn(g,"multigraph")?g.multigraph:!1,this._isCompound=Object.hasOwn(g,"compound")?g.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[r]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(g){return this._label=g,this}graph(){return this._label}setDefaultNodeLabel(g){return this._defaultNodeLabelFn=g,typeof g!="function"&&(this._defaultNodeLabelFn=()=>g),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var g=this;return this.nodes().filter(f=>Object.keys(g._in[f]).length===0)}sinks(){var g=this;return this.nodes().filter(f=>Object.keys(g._out[f]).length===0)}setNodes(g,f){var m=arguments,v=this;return g.forEach(function(w){m.length>1?v.setNode(w,f):v.setNode(w)}),this}setNode(g,f){return Object.hasOwn(this._nodes,g)?(arguments.length>1&&(this._nodes[g]=f),this):(this._nodes[g]=arguments.length>1?f:this._defaultNodeLabelFn(g),this._isCompound&&(this._parent[g]=r,this._children[g]={},this._children[r][g]=!0),this._in[g]={},this._preds[g]={},this._out[g]={},this._sucs[g]={},++this._nodeCount,this)}node(g){return this._nodes[g]}hasNode(g){return Object.hasOwn(this._nodes,g)}removeNode(g){var f=this;if(Object.hasOwn(this._nodes,g)){var m=v=>f.removeEdge(f._edgeObjs[v]);delete this._nodes[g],this._isCompound&&(this._removeFromParentsChildList(g),delete this._parent[g],this.children(g).forEach(function(v){f.setParent(v)}),delete this._children[g]),Object.keys(this._in[g]).forEach(m),delete this._in[g],delete this._preds[g],Object.keys(this._out[g]).forEach(m),delete this._out[g],delete this._sucs[g],--this._nodeCount}return this}setParent(g,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(f===void 0)f=r;else{f+="";for(var m=f;m!==void 0;m=this.parent(m))if(m===g)throw new Error("Setting "+f+" as parent of "+g+" would create a cycle");this.setNode(f)}return this.setNode(g),this._removeFromParentsChildList(g),this._parent[g]=f,this._children[f][g]=!0,this}_removeFromParentsChildList(g){delete this._children[this._parent[g]][g]}parent(g){if(this._isCompound){var f=this._parent[g];if(f!==r)return f}}children(g=r){if(this._isCompound){var f=this._children[g];if(f)return Object.keys(f)}else{if(g===r)return this.nodes();if(this.hasNode(g))return[]}}predecessors(g){var f=this._preds[g];if(f)return Object.keys(f)}successors(g){var f=this._sucs[g];if(f)return Object.keys(f)}neighbors(g){var f=this.predecessors(g);if(f){const v=new Set(f);for(var m of this.successors(g))v.add(m);return Array.from(v.values())}}isLeaf(g){var f;return this.isDirected()?f=this.successors(g):f=this.neighbors(g),f.length===0}filterNodes(g){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var m=this;Object.entries(this._nodes).forEach(function([E,_]){g(E)&&f.setNode(E,_)}),Object.values(this._edgeObjs).forEach(function(E){f.hasNode(E.v)&&f.hasNode(E.w)&&f.setEdge(E,m.edge(E))});var v={};function w(E){var _=m.parent(E);return _===void 0||f.hasNode(_)?(v[E]=_,_):_ in v?v[_]:w(_)}return this._isCompound&&f.nodes().forEach(E=>f.setParent(E,w(E))),f}setDefaultEdgeLabel(g){return this._defaultEdgeLabelFn=g,typeof g!="function"&&(this._defaultEdgeLabelFn=()=>g),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(g,f){var m=this,v=arguments;return g.reduce(function(w,E){return v.length>1?m.setEdge(w,E,f):m.setEdge(w,E),E}),this}setEdge(){var g,f,m,v,w=!1,E=arguments[0];typeof E=="object"&&E!==null&&"v"in E?(g=E.v,f=E.w,m=E.name,arguments.length===2&&(v=arguments[1],w=!0)):(g=E,f=arguments[1],m=arguments[3],arguments.length>2&&(v=arguments[2],w=!0)),g=""+g,f=""+f,m!==void 0&&(m=""+m);var _=a(this._isDirected,g,f,m);if(Object.hasOwn(this._edgeLabels,_))return w&&(this._edgeLabels[_]=v),this;if(m!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(g),this.setNode(f),this._edgeLabels[_]=w?v:this._defaultEdgeLabelFn(g,f,m);var k=d(this._isDirected,g,f,m);return g=k.v,f=k.w,Object.freeze(k),this._edgeObjs[_]=k,s(this._preds[f],g),s(this._sucs[g],f),this._in[f][_]=k,this._out[g][_]=k,this._edgeCount++,this}edge(g,f,m){var v=arguments.length===1?h(this._isDirected,arguments[0]):a(this._isDirected,g,f,m);return this._edgeLabels[v]}edgeAsObj(){const g=this.edge(...arguments);return typeof g!="object"?{label:g}:g}hasEdge(g,f,m){var v=arguments.length===1?h(this._isDirected,arguments[0]):a(this._isDirected,g,f,m);return Object.hasOwn(this._edgeLabels,v)}removeEdge(g,f,m){var v=arguments.length===1?h(this._isDirected,arguments[0]):a(this._isDirected,g,f,m),w=this._edgeObjs[v];return w&&(g=w.v,f=w.w,delete this._edgeLabels[v],delete this._edgeObjs[v],u(this._preds[f],g),u(this._sucs[g],f),delete this._in[f][v],delete this._out[g][v],this._edgeCount--),this}inEdges(g,f){var m=this._in[g];if(m){var v=Object.values(m);return f?v.filter(w=>w.v===f):v}}outEdges(g,f){var m=this._out[g];if(m){var v=Object.values(m);return f?v.filter(w=>w.w===f):v}}nodeEdges(g,f){var m=this.inEdges(g,f);if(m)return m.concat(this.outEdges(g,f))}}function s(p,g){p[g]?p[g]++:p[g]=1}function u(p,g){--p[g]||delete p[g]}function a(p,g,f,m){var v=""+g,w=""+f;if(!p&&v>w){var E=v;v=w,w=E}return v+i+w+i+(m===void 0?e:m)}function d(p,g,f,m){var v=""+g,w=""+f;if(!p&&v>w){var E=v;v=w,w=E}var _={v,w};return m&&(_.name=m),_}function h(p,g){return a(p,g.v,g.w,g.name)}return yc=l,yc}var vc,qg;function SC(){return qg||(qg=1,vc="2.2.4"),vc}var xc,Yg;function NC(){return Yg||(Yg=1,xc={Graph:rf(),version:SC()}),xc}var wc,Xg;function CC(){if(Xg)return wc;Xg=1;var e=rf();wc={write:r,read:s};function r(u){var a={options:{directed:u.isDirected(),multigraph:u.isMultigraph(),compound:u.isCompound()},nodes:i(u),edges:l(u)};return u.graph()!==void 0&&(a.value=structuredClone(u.graph())),a}function i(u){return u.nodes().map(function(a){var d=u.node(a),h=u.parent(a),p={v:a};return d!==void 0&&(p.value=d),h!==void 0&&(p.parent=h),p})}function l(u){return u.edges().map(function(a){var d=u.edge(a),h={v:a.v,w:a.w};return a.name!==void 0&&(h.name=a.name),d!==void 0&&(h.value=d),h})}function s(u){var a=new e(u.options).setGraph(u.value);return u.nodes.forEach(function(d){a.setNode(d.v,d.value),d.parent&&a.setParent(d.v,d.parent)}),u.edges.forEach(function(d){a.setEdge({v:d.v,w:d.w,name:d.name},d.value)}),a}return wc}var Ec,Kg;function RC(){if(Kg)return Ec;Kg=1,Ec=e;function e(r){var i={},l=[],s;function u(a){Object.hasOwn(i,a)||(i[a]=!0,s.push(a),r.successors(a).forEach(u),r.predecessors(a).forEach(u))}return r.nodes().forEach(function(a){s=[],u(a),s.length&&l.push(s)}),l}return Ec}var _c,Qg;function sv(){if(Qg)return _c;Qg=1;class e{constructor(){De(this,"_arr",[]);De(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(i){return i.key})}has(i){return Object.hasOwn(this._keyIndices,i)}priority(i){var l=this._keyIndices[i];if(l!==void 0)return this._arr[l].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(i,l){var s=this._keyIndices;if(i=String(i),!Object.hasOwn(s,i)){var u=this._arr,a=u.length;return s[i]=a,u.push({key:i,priority:l}),this._decrease(a),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var i=this._arr.pop();return delete this._keyIndices[i.key],this._heapify(0),i.key}decrease(i,l){var s=this._keyIndices[i];if(l>this._arr[s].priority)throw new Error("New priority is greater than current priority. Key: "+i+" Old: "+this._arr[s].priority+" New: "+l);this._arr[s].priority=l,this._decrease(s)}_heapify(i){var l=this._arr,s=2*i,u=s+1,a=i;s<l.length&&(a=l[s].priority<l[a].priority?s:a,u<l.length&&(a=l[u].priority<l[a].priority?u:a),a!==i&&(this._swap(i,a),this._heapify(a)))}_decrease(i){for(var l=this._arr,s=l[i].priority,u;i!==0&&(u=i>>1,!(l[u].priority<s));)this._swap(i,u),i=u}_swap(i,l){var s=this._arr,u=this._keyIndices,a=s[i],d=s[l];s[i]=d,s[l]=a,u[d.key]=i,u[a.key]=l}}return _c=e,_c}var bc,Zg;function lv(){if(Zg)return bc;Zg=1;var e=sv();bc=i;var r=()=>1;function i(s,u,a,d){return l(s,String(u),a||r,d||function(h){return s.outEdges(h)})}function l(s,u,a,d){var h={},p=new e,g,f,m=function(v){var w=v.v!==g?v.v:v.w,E=h[w],_=a(v),k=f.distance+_;if(_<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+v+" Weight: "+_);k<E.distance&&(E.distance=k,E.predecessor=g,p.decrease(w,k))};for(s.nodes().forEach(function(v){var w=v===u?0:Number.POSITIVE_INFINITY;h[v]={distance:w},p.add(v,w)});p.size()>0&&(g=p.removeMin(),f=h[g],f.distance!==Number.POSITIVE_INFINITY);)d(g).forEach(m);return h}return bc}var kc,Jg;function TC(){if(Jg)return kc;Jg=1;var e=lv();kc=r;function r(i,l,s){return i.nodes().reduce(function(u,a){return u[a]=e(i,a,l,s),u},{})}return kc}var Sc,em;function av(){if(em)return Sc;em=1,Sc=e;function e(r){var i=0,l=[],s={},u=[];function a(d){var h=s[d]={onStack:!0,lowlink:i,index:i++};if(l.push(d),r.successors(d).forEach(function(f){Object.hasOwn(s,f)?s[f].onStack&&(h.lowlink=Math.min(h.lowlink,s[f].index)):(a(f),h.lowlink=Math.min(h.lowlink,s[f].lowlink))}),h.lowlink===h.index){var p=[],g;do g=l.pop(),s[g].onStack=!1,p.push(g);while(d!==g);u.push(p)}}return r.nodes().forEach(function(d){Object.hasOwn(s,d)||a(d)}),u}return Sc}var Nc,tm;function MC(){if(tm)return Nc;tm=1;var e=av();Nc=r;function r(i){return e(i).filter(function(l){return l.length>1||l.length===1&&i.hasEdge(l[0],l[0])})}return Nc}var Cc,nm;function AC(){if(nm)return Cc;nm=1,Cc=r;var e=()=>1;function r(l,s,u){return i(l,s||e,u||function(a){return l.outEdges(a)})}function i(l,s,u){var a={},d=l.nodes();return d.forEach(function(h){a[h]={},a[h][h]={distance:0},d.forEach(function(p){h!==p&&(a[h][p]={distance:Number.POSITIVE_INFINITY})}),u(h).forEach(function(p){var g=p.v===h?p.w:p.v,f=s(p);a[h][g]={distance:f,predecessor:h}})}),d.forEach(function(h){var p=a[h];d.forEach(function(g){var f=a[g];d.forEach(function(m){var v=f[h],w=p[m],E=f[m],_=v.distance+w.distance;_<E.distance&&(E.distance=_,E.predecessor=w.predecessor)})})}),a}return Cc}var Rc,rm;function uv(){if(rm)return Rc;rm=1;function e(i){var l={},s={},u=[];function a(d){if(Object.hasOwn(s,d))throw new r;Object.hasOwn(l,d)||(s[d]=!0,l[d]=!0,i.predecessors(d).forEach(a),delete s[d],u.push(d))}if(i.sinks().forEach(a),Object.keys(l).length!==i.nodeCount())throw new r;return u}class r extends Error{constructor(){super(...arguments)}}return Rc=e,e.CycleException=r,Rc}var Tc,im;function IC(){if(im)return Tc;im=1;var e=uv();Tc=r;function r(i){try{e(i)}catch(l){if(l instanceof e.CycleException)return!1;throw l}return!0}return Tc}var Mc,om;function cv(){if(om)return Mc;om=1,Mc=e;function e(s,u,a){Array.isArray(u)||(u=[u]);var d=s.isDirected()?f=>s.successors(f):f=>s.neighbors(f),h=a==="post"?r:i,p=[],g={};return u.forEach(f=>{if(!s.hasNode(f))throw new Error("Graph does not have node: "+f);h(f,d,g,p)}),p}function r(s,u,a,d){for(var h=[[s,!1]];h.length>0;){var p=h.pop();p[1]?d.push(p[0]):Object.hasOwn(a,p[0])||(a[p[0]]=!0,h.push([p[0],!0]),l(u(p[0]),g=>h.push([g,!1])))}}function i(s,u,a,d){for(var h=[s];h.length>0;){var p=h.pop();Object.hasOwn(a,p)||(a[p]=!0,d.push(p),l(u(p),g=>h.push(g)))}}function l(s,u){for(var a=s.length;a--;)u(s[a],a,s);return s}return Mc}var Ac,sm;function LC(){if(sm)return Ac;sm=1;var e=cv();Ac=r;function r(i,l){return e(i,l,"post")}return Ac}var Ic,lm;function OC(){if(lm)return Ic;lm=1;var e=cv();Ic=r;function r(i,l){return e(i,l,"pre")}return Ic}var Lc,am;function PC(){if(am)return Lc;am=1;var e=rf(),r=sv();Lc=i;function i(l,s){var u=new e,a={},d=new r,h;function p(f){var m=f.v===h?f.w:f.v,v=d.priority(m);if(v!==void 0){var w=s(f);w<v&&(a[m]=h,d.decrease(m,w))}}if(l.nodeCount()===0)return u;l.nodes().forEach(function(f){d.add(f,Number.POSITIVE_INFINITY),u.setNode(f)}),d.decrease(l.nodes()[0],0);for(var g=!1;d.size()>0;){if(h=d.removeMin(),Object.hasOwn(a,h))u.setEdge(h,a[h]);else{if(g)throw new Error("Input graph is not connected: "+l);g=!0}l.nodeEdges(h).forEach(p)}return u}return Lc}var Oc,um;function zC(){return um||(um=1,Oc={components:RC(),dijkstra:lv(),dijkstraAll:TC(),findCycles:MC(),floydWarshall:AC(),isAcyclic:IC(),postorder:LC(),preorder:OC(),prim:PC(),tarjan:av(),topsort:uv()}),Oc}var Pc,cm;function Pn(){if(cm)return Pc;cm=1;var e=NC();return Pc={Graph:e.Graph,json:CC(),alg:zC(),version:e.version},Pc}var zc,dm;function DC(){if(dm)return zc;dm=1;class e{constructor(){let s={};s._next=s._prev=s,this._sentinel=s}dequeue(){let s=this._sentinel,u=s._prev;if(u!==s)return r(u),u}enqueue(s){let u=this._sentinel;s._prev&&s._next&&r(s),s._next=u._next,u._next._prev=s,u._next=s,s._prev=u}toString(){let s=[],u=this._sentinel,a=u._prev;for(;a!==u;)s.push(JSON.stringify(a,i)),a=a._prev;return"["+s.join(", ")+"]"}}function r(l){l._prev._next=l._next,l._next._prev=l._prev,delete l._next,delete l._prev}function i(l,s){if(l!=="_next"&&l!=="_prev")return s}return zc=e,zc}var Dc,fm;function $C(){if(fm)return Dc;fm=1;let e=Pn().Graph,r=DC();Dc=l;let i=()=>1;function l(p,g){if(p.nodeCount()<=1)return[];let f=a(p,g||i);return s(f.graph,f.buckets,f.zeroIdx).flatMap(v=>p.outEdges(v.v,v.w))}function s(p,g,f){let m=[],v=g[g.length-1],w=g[0],E;for(;p.nodeCount();){for(;E=w.dequeue();)u(p,g,f,E);for(;E=v.dequeue();)u(p,g,f,E);if(p.nodeCount()){for(let _=g.length-2;_>0;--_)if(E=g[_].dequeue(),E){m=m.concat(u(p,g,f,E,!0));break}}}return m}function u(p,g,f,m,v){let w=v?[]:void 0;return p.inEdges(m.v).forEach(E=>{let _=p.edge(E),k=p.node(E.v);v&&w.push({v:E.v,w:E.w}),k.out-=_,d(g,f,k)}),p.outEdges(m.v).forEach(E=>{let _=p.edge(E),k=E.w,S=p.node(k);S.in-=_,d(g,f,S)}),p.removeNode(m.v),w}function a(p,g){let f=new e,m=0,v=0;p.nodes().forEach(_=>{f.setNode(_,{v:_,in:0,out:0})}),p.edges().forEach(_=>{let k=f.edge(_.v,_.w)||0,S=g(_),b=k+S;f.setEdge(_.v,_.w,b),v=Math.max(v,f.node(_.v).out+=S),m=Math.max(m,f.node(_.w).in+=S)});let w=h(v+m+3).map(()=>new r),E=m+1;return f.nodes().forEach(_=>{d(w,E,f.node(_))}),{graph:f,buckets:w,zeroIdx:E}}function d(p,g,f){f.out?f.in?p[f.out-f.in+g].enqueue(f):p[p.length-1].enqueue(f):p[0].enqueue(f)}function h(p){const g=[];for(let f=0;f<p;f++)g.push(f);return g}return Dc}var $c,hm;function wt(){if(hm)return $c;hm=1;let e=Pn().Graph;$c={addBorderNode:g,addDummyNode:r,applyWithChunking:v,asNonCompoundGraph:l,buildLayerMatrix:d,intersectRect:a,mapValues:T,maxRank:w,normalizeRanks:h,notime:k,partition:E,pick:A,predecessorWeights:u,range:C,removeEmptyRanks:p,simplify:i,successorWeights:s,time:_,uniqueId:b,zipObject:D};function r(R,O,G,z){for(var j=z;R.hasNode(j);)j=b(z);return G.dummy=O,R.setNode(j,G),j}function i(R){let O=new e().setGraph(R.graph());return R.nodes().forEach(G=>O.setNode(G,R.node(G))),R.edges().forEach(G=>{let z=O.edge(G.v,G.w)||{weight:0,minlen:1},j=R.edge(G);O.setEdge(G.v,G.w,{weight:z.weight+j.weight,minlen:Math.max(z.minlen,j.minlen)})}),O}function l(R){let O=new e({multigraph:R.isMultigraph()}).setGraph(R.graph());return R.nodes().forEach(G=>{R.children(G).length||O.setNode(G,R.node(G))}),R.edges().forEach(G=>{O.setEdge(G,R.edge(G))}),O}function s(R){let O=R.nodes().map(G=>{let z={};return R.outEdges(G).forEach(j=>{z[j.w]=(z[j.w]||0)+R.edge(j).weight}),z});return D(R.nodes(),O)}function u(R){let O=R.nodes().map(G=>{let z={};return R.inEdges(G).forEach(j=>{z[j.v]=(z[j.v]||0)+R.edge(j).weight}),z});return D(R.nodes(),O)}function a(R,O){let G=R.x,z=R.y,j=O.x-G,ee=O.y-z,P=R.width/2,J=R.height/2;if(!j&&!ee)throw new Error("Not possible to find intersection inside of the rectangle");let F,X;return Math.abs(ee)*P>Math.abs(j)*J?(ee<0&&(J=-J),F=J*j/ee,X=J):(j<0&&(P=-P),F=P,X=P*ee/j),{x:G+F,y:z+X}}function d(R){let O=C(w(R)+1).map(()=>[]);return R.nodes().forEach(G=>{let z=R.node(G),j=z.rank;j!==void 0&&(O[j][z.order]=G)}),O}function h(R){let O=R.nodes().map(z=>{let j=R.node(z).rank;return j===void 0?Number.MAX_VALUE:j}),G=v(Math.min,O);R.nodes().forEach(z=>{let j=R.node(z);Object.hasOwn(j,"rank")&&(j.rank-=G)})}function p(R){let O=R.nodes().map(P=>R.node(P).rank),G=v(Math.min,O),z=[];R.nodes().forEach(P=>{let J=R.node(P).rank-G;z[J]||(z[J]=[]),z[J].push(P)});let j=0,ee=R.graph().nodeRankFactor;Array.from(z).forEach((P,J)=>{P===void 0&&J%ee!==0?--j:P!==void 0&&j&&P.forEach(F=>R.node(F).rank+=j)})}function g(R,O,G,z){let j={width:0,height:0};return arguments.length>=4&&(j.rank=G,j.order=z),r(R,"border",j,O)}function f(R,O=m){const G=[];for(let z=0;z<R.length;z+=O){const j=R.slice(z,z+O);G.push(j)}return G}const m=65535;function v(R,O){if(O.length>m){const G=f(O);return R.apply(null,G.map(z=>R.apply(null,z)))}else return R.apply(null,O)}function w(R){const G=R.nodes().map(z=>{let j=R.node(z).rank;return j===void 0?Number.MIN_VALUE:j});return v(Math.max,G)}function E(R,O){let G={lhs:[],rhs:[]};return R.forEach(z=>{O(z)?G.lhs.push(z):G.rhs.push(z)}),G}function _(R,O){let G=Date.now();try{return O()}finally{console.log(R+" time: "+(Date.now()-G)+"ms")}}function k(R,O){return O()}let S=0;function b(R){var O=++S;return R+(""+O)}function C(R,O,G=1){O==null&&(O=R,R=0);let z=ee=>ee<O;G<0&&(z=ee=>O<ee);const j=[];for(let ee=R;z(ee);ee+=G)j.push(ee);return j}function A(R,O){const G={};for(const z of O)R[z]!==void 0&&(G[z]=R[z]);return G}function T(R,O){let G=O;return typeof O=="string"&&(G=z=>z[O]),Object.entries(R).reduce((z,[j,ee])=>(z[j]=G(ee,j),z),{})}function D(R,O){return R.reduce((G,z,j)=>(G[z]=O[j],G),{})}return $c}var jc,pm;function jC(){if(pm)return jc;pm=1;let e=$C(),r=wt().uniqueId;jc={run:i,undo:s};function i(u){(u.graph().acyclicer==="greedy"?e(u,d(u)):l(u)).forEach(h=>{let p=u.edge(h);u.removeEdge(h),p.forwardName=h.name,p.reversed=!0,u.setEdge(h.w,h.v,p,r("rev"))});function d(h){return p=>h.edge(p).weight}}function l(u){let a=[],d={},h={};function p(g){Object.hasOwn(h,g)||(h[g]=!0,d[g]=!0,u.outEdges(g).forEach(f=>{Object.hasOwn(d,f.w)?a.push(f):p(f.w)}),delete d[g])}return u.nodes().forEach(p),a}function s(u){u.edges().forEach(a=>{let d=u.edge(a);if(d.reversed){u.removeEdge(a);let h=d.forwardName;delete d.reversed,delete d.forwardName,u.setEdge(a.w,a.v,d,h)}})}return jc}var Bc,gm;function BC(){if(gm)return Bc;gm=1;let e=wt();Bc={run:r,undo:l};function r(s){s.graph().dummyChains=[],s.edges().forEach(u=>i(s,u))}function i(s,u){let a=u.v,d=s.node(a).rank,h=u.w,p=s.node(h).rank,g=u.name,f=s.edge(u),m=f.labelRank;if(p===d+1)return;s.removeEdge(u);let v,w,E;for(E=0,++d;d<p;++E,++d)f.points=[],w={width:0,height:0,edgeLabel:f,edgeObj:u,rank:d},v=e.addDummyNode(s,"edge",w,"_d"),d===m&&(w.width=f.width,w.height=f.height,w.dummy="edge-label",w.labelpos=f.labelpos),s.setEdge(a,v,{weight:f.weight},g),E===0&&s.graph().dummyChains.push(v),a=v;s.setEdge(a,h,{weight:f.weight},g)}function l(s){s.graph().dummyChains.forEach(u=>{let a=s.node(u),d=a.edgeLabel,h;for(s.setEdge(a.edgeObj,d);a.dummy;)h=s.successors(u)[0],s.removeNode(u),d.points.push({x:a.x,y:a.y}),a.dummy==="edge-label"&&(d.x=a.x,d.y=a.y,d.width=a.width,d.height=a.height),u=h,a=s.node(u)})}return Bc}var Fc,mm;function ia(){if(mm)return Fc;mm=1;const{applyWithChunking:e}=wt();Fc={longestPath:r,slack:i};function r(l){var s={};function u(a){var d=l.node(a);if(Object.hasOwn(s,a))return d.rank;s[a]=!0;let h=l.outEdges(a).map(g=>g==null?Number.POSITIVE_INFINITY:u(g.w)-l.edge(g).minlen);var p=e(Math.min,h);return p===Number.POSITIVE_INFINITY&&(p=0),d.rank=p}l.sources().forEach(u)}function i(l,s){return l.node(s.w).rank-l.node(s.v).rank-l.edge(s).minlen}return Fc}var Hc,ym;function dv(){if(ym)return Hc;ym=1;var e=Pn().Graph,r=ia().slack;Hc=i;function i(a){var d=new e({directed:!1}),h=a.nodes()[0],p=a.nodeCount();d.setNode(h,{});for(var g,f;l(d,a)<p;)g=s(d,a),f=d.hasNode(g.v)?r(a,g):-r(a,g),u(d,a,f);return d}function l(a,d){function h(p){d.nodeEdges(p).forEach(g=>{var f=g.v,m=p===f?g.w:f;!a.hasNode(m)&&!r(d,g)&&(a.setNode(m,{}),a.setEdge(p,m,{}),h(m))})}return a.nodes().forEach(h),a.nodeCount()}function s(a,d){return d.edges().reduce((p,g)=>{let f=Number.POSITIVE_INFINITY;return a.hasNode(g.v)!==a.hasNode(g.w)&&(f=r(d,g)),f<p[0]?[f,g]:p},[Number.POSITIVE_INFINITY,null])[1]}function u(a,d,h){a.nodes().forEach(p=>d.node(p).rank+=h)}return Hc}var Uc,vm;function FC(){if(vm)return Uc;vm=1;var e=dv(),r=ia().slack,i=ia().longestPath,l=Pn().alg.preorder,s=Pn().alg.postorder,u=wt().simplify;Uc=a,a.initLowLimValues=g,a.initCutValues=d,a.calcCutValue=p,a.leaveEdge=m,a.enterEdge=v,a.exchangeEdges=w;function a(S){S=u(S),i(S);var b=e(S);g(b),d(b,S);for(var C,A;C=m(b);)A=v(b,S,C),w(b,S,C,A)}function d(S,b){var C=s(S,S.nodes());C=C.slice(0,C.length-1),C.forEach(A=>h(S,b,A))}function h(S,b,C){var A=S.node(C),T=A.parent;S.edge(C,T).cutvalue=p(S,b,C)}function p(S,b,C){var A=S.node(C),T=A.parent,D=!0,R=b.edge(C,T),O=0;return R||(D=!1,R=b.edge(T,C)),O=R.weight,b.nodeEdges(C).forEach(G=>{var z=G.v===C,j=z?G.w:G.v;if(j!==T){var ee=z===D,P=b.edge(G).weight;if(O+=ee?P:-P,_(S,C,j)){var J=S.edge(C,j).cutvalue;O+=ee?-J:J}}}),O}function g(S,b){arguments.length<2&&(b=S.nodes()[0]),f(S,{},1,b)}function f(S,b,C,A,T){var D=C,R=S.node(A);return b[A]=!0,S.neighbors(A).forEach(O=>{Object.hasOwn(b,O)||(C=f(S,b,C,O,A))}),R.low=D,R.lim=C++,T?R.parent=T:delete R.parent,C}function m(S){return S.edges().find(b=>S.edge(b).cutvalue<0)}function v(S,b,C){var A=C.v,T=C.w;b.hasEdge(A,T)||(A=C.w,T=C.v);var D=S.node(A),R=S.node(T),O=D,G=!1;D.lim>R.lim&&(O=R,G=!0);var z=b.edges().filter(j=>G===k(S,S.node(j.v),O)&&G!==k(S,S.node(j.w),O));return z.reduce((j,ee)=>r(b,ee)<r(b,j)?ee:j)}function w(S,b,C,A){var T=C.v,D=C.w;S.removeEdge(T,D),S.setEdge(A.v,A.w,{}),g(S),d(S,b),E(S,b)}function E(S,b){var C=S.nodes().find(T=>!b.node(T).parent),A=l(S,C);A=A.slice(1),A.forEach(T=>{var D=S.node(T).parent,R=b.edge(T,D),O=!1;R||(R=b.edge(D,T),O=!0),b.node(T).rank=b.node(D).rank+(O?R.minlen:-R.minlen)})}function _(S,b,C){return S.hasEdge(b,C)}function k(S,b,C){return C.low<=b.lim&&b.lim<=C.lim}return Uc}var Vc,xm;function HC(){if(xm)return Vc;xm=1;var e=ia(),r=e.longestPath,i=dv(),l=FC();Vc=s;function s(h){var p=h.graph().ranker;if(p instanceof Function)return p(h);switch(h.graph().ranker){case"network-simplex":d(h);break;case"tight-tree":a(h);break;case"longest-path":u(h);break;case"none":break;default:d(h)}}var u=r;function a(h){r(h),i(h)}function d(h){l(h)}return Vc}var Wc,wm;function UC(){if(wm)return Wc;wm=1,Wc=e;function e(l){let s=i(l);l.graph().dummyChains.forEach(u=>{let a=l.node(u),d=a.edgeObj,h=r(l,s,d.v,d.w),p=h.path,g=h.lca,f=0,m=p[f],v=!0;for(;u!==d.w;){if(a=l.node(u),v){for(;(m=p[f])!==g&&l.node(m).maxRank<a.rank;)f++;m===g&&(v=!1)}if(!v){for(;f<p.length-1&&l.node(m=p[f+1]).minRank<=a.rank;)f++;m=p[f]}l.setParent(u,m),u=l.successors(u)[0]}})}function r(l,s,u,a){let d=[],h=[],p=Math.min(s[u].low,s[a].low),g=Math.max(s[u].lim,s[a].lim),f,m;f=u;do f=l.parent(f),d.push(f);while(f&&(s[f].low>p||g>s[f].lim));for(m=f,f=a;(f=l.parent(f))!==m;)h.push(f);return{path:d.concat(h.reverse()),lca:m}}function i(l){let s={},u=0;function a(d){let h=u;l.children(d).forEach(a),s[d]={low:h,lim:u++}}return l.children().forEach(a),s}return Wc}var Gc,Em;function VC(){if(Em)return Gc;Em=1;let e=wt();Gc={run:r,cleanup:u};function r(a){let d=e.addDummyNode(a,"root",{},"_root"),h=l(a),p=Object.values(h),g=e.applyWithChunking(Math.max,p)-1,f=2*g+1;a.graph().nestingRoot=d,a.edges().forEach(v=>a.edge(v).minlen*=f);let m=s(a)+1;a.children().forEach(v=>i(a,d,f,m,g,h,v)),a.graph().nodeRankFactor=f}function i(a,d,h,p,g,f,m){let v=a.children(m);if(!v.length){m!==d&&a.setEdge(d,m,{weight:0,minlen:h});return}let w=e.addBorderNode(a,"_bt"),E=e.addBorderNode(a,"_bb"),_=a.node(m);a.setParent(w,m),_.borderTop=w,a.setParent(E,m),_.borderBottom=E,v.forEach(k=>{i(a,d,h,p,g,f,k);let S=a.node(k),b=S.borderTop?S.borderTop:k,C=S.borderBottom?S.borderBottom:k,A=S.borderTop?p:2*p,T=b!==C?1:g-f[m]+1;a.setEdge(w,b,{weight:A,minlen:T,nestingEdge:!0}),a.setEdge(C,E,{weight:A,minlen:T,nestingEdge:!0})}),a.parent(m)||a.setEdge(d,w,{weight:0,minlen:g+f[m]})}function l(a){var d={};function h(p,g){var f=a.children(p);f&&f.length&&f.forEach(m=>h(m,g+1)),d[p]=g}return a.children().forEach(p=>h(p,1)),d}function s(a){return a.edges().reduce((d,h)=>d+a.edge(h).weight,0)}function u(a){var d=a.graph();a.removeNode(d.nestingRoot),delete d.nestingRoot,a.edges().forEach(h=>{var p=a.edge(h);p.nestingEdge&&a.removeEdge(h)})}return Gc}var qc,_m;function WC(){if(_m)return qc;_m=1;let e=wt();qc=r;function r(l){function s(u){let a=l.children(u),d=l.node(u);if(a.length&&a.forEach(s),Object.hasOwn(d,"minRank")){d.borderLeft=[],d.borderRight=[];for(let h=d.minRank,p=d.maxRank+1;h<p;++h)i(l,"borderLeft","_bl",u,d,h),i(l,"borderRight","_br",u,d,h)}}l.children().forEach(s)}function i(l,s,u,a,d,h){let p={width:0,height:0,rank:h,borderType:s},g=d[s][h-1],f=e.addDummyNode(l,"border",p,u);d[s][h]=f,l.setParent(f,a),g&&l.setEdge(g,f,{weight:1})}return qc}var Yc,bm;function GC(){if(bm)return Yc;bm=1,Yc={adjust:e,undo:r};function e(h){let p=h.graph().rankdir.toLowerCase();(p==="lr"||p==="rl")&&i(h)}function r(h){let p=h.graph().rankdir.toLowerCase();(p==="bt"||p==="rl")&&s(h),(p==="lr"||p==="rl")&&(a(h),i(h))}function i(h){h.nodes().forEach(p=>l(h.node(p))),h.edges().forEach(p=>l(h.edge(p)))}function l(h){let p=h.width;h.width=h.height,h.height=p}function s(h){h.nodes().forEach(p=>u(h.node(p))),h.edges().forEach(p=>{let g=h.edge(p);g.points.forEach(u),Object.hasOwn(g,"y")&&u(g)})}function u(h){h.y=-h.y}function a(h){h.nodes().forEach(p=>d(h.node(p))),h.edges().forEach(p=>{let g=h.edge(p);g.points.forEach(d),Object.hasOwn(g,"x")&&d(g)})}function d(h){let p=h.x;h.x=h.y,h.y=p}return Yc}var Xc,km;function qC(){if(km)return Xc;km=1;let e=wt();Xc=r;function r(i){let l={},s=i.nodes().filter(g=>!i.children(g).length),u=s.map(g=>i.node(g).rank),a=e.applyWithChunking(Math.max,u),d=e.range(a+1).map(()=>[]);function h(g){if(l[g])return;l[g]=!0;let f=i.node(g);d[f.rank].push(g),i.successors(g).forEach(h)}return s.sort((g,f)=>i.node(g).rank-i.node(f).rank).forEach(h),d}return Xc}var Kc,Sm;function YC(){if(Sm)return Kc;Sm=1;let e=wt().zipObject;Kc=r;function r(l,s){let u=0;for(let a=1;a<s.length;++a)u+=i(l,s[a-1],s[a]);return u}function i(l,s,u){let a=e(u,u.map((m,v)=>v)),d=s.flatMap(m=>l.outEdges(m).map(v=>({pos:a[v.w],weight:l.edge(v).weight})).sort((v,w)=>v.pos-w.pos)),h=1;for(;h<u.length;)h<<=1;let p=2*h-1;h-=1;let g=new Array(p).fill(0),f=0;return d.forEach(m=>{let v=m.pos+h;g[v]+=m.weight;let w=0;for(;v>0;)v%2&&(w+=g[v+1]),v=v-1>>1,g[v]+=m.weight;f+=m.weight*w}),f}return Kc}var Qc,Nm;function XC(){if(Nm)return Qc;Nm=1,Qc=e;function e(r,i=[]){return i.map(l=>{let s=r.inEdges(l);if(s.length){let u=s.reduce((a,d)=>{let h=r.edge(d),p=r.node(d.v);return{sum:a.sum+h.weight*p.order,weight:a.weight+h.weight}},{sum:0,weight:0});return{v:l,barycenter:u.sum/u.weight,weight:u.weight}}else return{v:l}})}return Qc}var Zc,Cm;function KC(){if(Cm)return Zc;Cm=1;let e=wt();Zc=r;function r(s,u){let a={};s.forEach((h,p)=>{let g=a[h.v]={indegree:0,in:[],out:[],vs:[h.v],i:p};h.barycenter!==void 0&&(g.barycenter=h.barycenter,g.weight=h.weight)}),u.edges().forEach(h=>{let p=a[h.v],g=a[h.w];p!==void 0&&g!==void 0&&(g.indegree++,p.out.push(a[h.w]))});let d=Object.values(a).filter(h=>!h.indegree);return i(d)}function i(s){let u=[];function a(h){return p=>{p.merged||(p.barycenter===void 0||h.barycenter===void 0||p.barycenter>=h.barycenter)&&l(h,p)}}function d(h){return p=>{p.in.push(h),--p.indegree===0&&s.push(p)}}for(;s.length;){let h=s.pop();u.push(h),h.in.reverse().forEach(a(h)),h.out.forEach(d(h))}return u.filter(h=>!h.merged).map(h=>e.pick(h,["vs","i","barycenter","weight"]))}function l(s,u){let a=0,d=0;s.weight&&(a+=s.barycenter*s.weight,d+=s.weight),u.weight&&(a+=u.barycenter*u.weight,d+=u.weight),s.vs=u.vs.concat(s.vs),s.barycenter=a/d,s.weight=d,s.i=Math.min(u.i,s.i),u.merged=!0}return Zc}var Jc,Rm;function QC(){if(Rm)return Jc;Rm=1;let e=wt();Jc=r;function r(s,u){let a=e.partition(s,w=>Object.hasOwn(w,"barycenter")),d=a.lhs,h=a.rhs.sort((w,E)=>E.i-w.i),p=[],g=0,f=0,m=0;d.sort(l(!!u)),m=i(p,h,m),d.forEach(w=>{m+=w.vs.length,p.push(w.vs),g+=w.barycenter*w.weight,f+=w.weight,m=i(p,h,m)});let v={vs:p.flat(!0)};return f&&(v.barycenter=g/f,v.weight=f),v}function i(s,u,a){let d;for(;u.length&&(d=u[u.length-1]).i<=a;)u.pop(),s.push(d.vs),a++;return a}function l(s){return(u,a)=>u.barycenter<a.barycenter?-1:u.barycenter>a.barycenter?1:s?a.i-u.i:u.i-a.i}return Jc}var ed,Tm;function ZC(){if(Tm)return ed;Tm=1;let e=XC(),r=KC(),i=QC();ed=l;function l(a,d,h,p){let g=a.children(d),f=a.node(d),m=f?f.borderLeft:void 0,v=f?f.borderRight:void 0,w={};m&&(g=g.filter(S=>S!==m&&S!==v));let E=e(a,g);E.forEach(S=>{if(a.children(S.v).length){let b=l(a,S.v,h,p);w[S.v]=b,Object.hasOwn(b,"barycenter")&&u(S,b)}});let _=r(E,h);s(_,w);let k=i(_,p);if(m&&(k.vs=[m,k.vs,v].flat(!0),a.predecessors(m).length)){let S=a.node(a.predecessors(m)[0]),b=a.node(a.predecessors(v)[0]);Object.hasOwn(k,"barycenter")||(k.barycenter=0,k.weight=0),k.barycenter=(k.barycenter*k.weight+S.order+b.order)/(k.weight+2),k.weight+=2}return k}function s(a,d){a.forEach(h=>{h.vs=h.vs.flatMap(p=>d[p]?d[p].vs:p)})}function u(a,d){a.barycenter!==void 0?(a.barycenter=(a.barycenter*a.weight+d.barycenter*d.weight)/(a.weight+d.weight),a.weight+=d.weight):(a.barycenter=d.barycenter,a.weight=d.weight)}return ed}var td,Mm;function JC(){if(Mm)return td;Mm=1;let e=Pn().Graph,r=wt();td=i;function i(s,u,a,d){d||(d=s.nodes());let h=l(s),p=new e({compound:!0}).setGraph({root:h}).setDefaultNodeLabel(g=>s.node(g));return d.forEach(g=>{let f=s.node(g),m=s.parent(g);(f.rank===u||f.minRank<=u&&u<=f.maxRank)&&(p.setNode(g),p.setParent(g,m||h),s[a](g).forEach(v=>{let w=v.v===g?v.w:v.v,E=p.edge(w,g),_=E!==void 0?E.weight:0;p.setEdge(w,g,{weight:s.edge(v).weight+_})}),Object.hasOwn(f,"minRank")&&p.setNode(g,{borderLeft:f.borderLeft[u],borderRight:f.borderRight[u]}))}),p}function l(s){for(var u;s.hasNode(u=r.uniqueId("_root")););return u}return td}var nd,Am;function e2(){if(Am)return nd;Am=1,nd=e;function e(r,i,l){let s={},u;l.forEach(a=>{let d=r.parent(a),h,p;for(;d;){if(h=r.parent(d),h?(p=s[h],s[h]=d):(p=u,u=d),p&&p!==d){i.setEdge(p,d);return}d=h}})}return nd}var rd,Im;function t2(){if(Im)return rd;Im=1;let e=qC(),r=YC(),i=ZC(),l=JC(),s=e2(),u=Pn().Graph,a=wt();rd=d;function d(f,m){if(m&&typeof m.customOrder=="function"){m.customOrder(f,d);return}let v=a.maxRank(f),w=h(f,a.range(1,v+1),"inEdges"),E=h(f,a.range(v-1,-1,-1),"outEdges"),_=e(f);if(g(f,_),m&&m.disableOptimalOrderHeuristic)return;let k=Number.POSITIVE_INFINITY,S;for(let b=0,C=0;C<4;++b,++C){p(b%2?w:E,b%4>=2),_=a.buildLayerMatrix(f);let A=r(f,_);A<k&&(C=0,S=Object.assign({},_),k=A)}g(f,S)}function h(f,m,v){const w=new Map,E=(_,k)=>{w.has(_)||w.set(_,[]),w.get(_).push(k)};for(const _ of f.nodes()){const k=f.node(_);if(typeof k.rank=="number"&&E(k.rank,_),typeof k.minRank=="number"&&typeof k.maxRank=="number")for(let S=k.minRank;S<=k.maxRank;S++)S!==k.rank&&E(S,_)}return m.map(function(_){return l(f,_,v,w.get(_)||[])})}function p(f,m){let v=new u;f.forEach(function(w){let E=w.graph().root,_=i(w,E,v,m);_.vs.forEach((k,S)=>w.node(k).order=S),s(w,v,_.vs)})}function g(f,m){Object.values(m).forEach(v=>v.forEach((w,E)=>f.node(w).order=E))}return rd}var id,Lm;function n2(){if(Lm)return id;Lm=1;let e=Pn().Graph,r=wt();id={positionX:v,findType1Conflicts:i,findType2Conflicts:l,addConflict:u,hasConflict:a,verticalAlignment:d,horizontalCompaction:h,alignCoordinates:f,findSmallestWidthAlignment:g,balance:m};function i(_,k){let S={};function b(C,A){let T=0,D=0,R=C.length,O=A[A.length-1];return A.forEach((G,z)=>{let j=s(_,G),ee=j?_.node(j).order:R;(j||G===O)&&(A.slice(D,z+1).forEach(P=>{_.predecessors(P).forEach(J=>{let F=_.node(J),X=F.order;(X<T||ee<X)&&!(F.dummy&&_.node(P).dummy)&&u(S,J,P)})}),D=z+1,T=ee)}),A}return k.length&&k.reduce(b),S}function l(_,k){let S={};function b(A,T,D,R,O){let G;r.range(T,D).forEach(z=>{G=A[z],_.node(G).dummy&&_.predecessors(G).forEach(j=>{let ee=_.node(j);ee.dummy&&(ee.order<R||ee.order>O)&&u(S,j,G)})})}function C(A,T){let D=-1,R,O=0;return T.forEach((G,z)=>{if(_.node(G).dummy==="border"){let j=_.predecessors(G);j.length&&(R=_.node(j[0]).order,b(T,O,z,D,R),O=z,D=R)}b(T,O,T.length,R,A.length)}),T}return k.length&&k.reduce(C),S}function s(_,k){if(_.node(k).dummy)return _.predecessors(k).find(S=>_.node(S).dummy)}function u(_,k,S){if(k>S){let C=k;k=S,S=C}let b=_[k];b||(_[k]=b={}),b[S]=!0}function a(_,k,S){if(k>S){let b=k;k=S,S=b}return!!_[k]&&Object.hasOwn(_[k],S)}function d(_,k,S,b){let C={},A={},T={};return k.forEach(D=>{D.forEach((R,O)=>{C[R]=R,A[R]=R,T[R]=O})}),k.forEach(D=>{let R=-1;D.forEach(O=>{let G=b(O);if(G.length){G=G.sort((j,ee)=>T[j]-T[ee]);let z=(G.length-1)/2;for(let j=Math.floor(z),ee=Math.ceil(z);j<=ee;++j){let P=G[j];A[O]===O&&R<T[P]&&!a(S,O,P)&&(A[P]=O,A[O]=C[O]=C[P],R=T[P])}}})}),{root:C,align:A}}function h(_,k,S,b,C){let A={},T=p(_,k,S,C),D=C?"borderLeft":"borderRight";function R(z,j){let ee=T.nodes(),P=ee.pop(),J={};for(;P;)J[P]?z(P):(J[P]=!0,ee.push(P),ee=ee.concat(j(P))),P=ee.pop()}function O(z){A[z]=T.inEdges(z).reduce((j,ee)=>Math.max(j,A[ee.v]+T.edge(ee)),0)}function G(z){let j=T.outEdges(z).reduce((P,J)=>Math.min(P,A[J.w]-T.edge(J)),Number.POSITIVE_INFINITY),ee=_.node(z);j!==Number.POSITIVE_INFINITY&&ee.borderType!==D&&(A[z]=Math.max(A[z],j))}return R(O,T.predecessors.bind(T)),R(G,T.successors.bind(T)),Object.keys(b).forEach(z=>A[z]=A[S[z]]),A}function p(_,k,S,b){let C=new e,A=_.graph(),T=w(A.nodesep,A.edgesep,b);return k.forEach(D=>{let R;D.forEach(O=>{let G=S[O];if(C.setNode(G),R){var z=S[R],j=C.edge(z,G);C.setEdge(z,G,Math.max(T(_,O,R),j||0))}R=O})}),C}function g(_,k){return Object.values(k).reduce((S,b)=>{let C=Number.NEGATIVE_INFINITY,A=Number.POSITIVE_INFINITY;Object.entries(b).forEach(([D,R])=>{let O=E(_,D)/2;C=Math.max(R+O,C),A=Math.min(R-O,A)});const T=C-A;return T<S[0]&&(S=[T,b]),S},[Number.POSITIVE_INFINITY,null])[1]}function f(_,k){let S=Object.values(k),b=r.applyWithChunking(Math.min,S),C=r.applyWithChunking(Math.max,S);["u","d"].forEach(A=>{["l","r"].forEach(T=>{let D=A+T,R=_[D];if(R===k)return;let O=Object.values(R),G=b-r.applyWithChunking(Math.min,O);T!=="l"&&(G=C-r.applyWithChunking(Math.max,O)),G&&(_[D]=r.mapValues(R,z=>z+G))})})}function m(_,k){return r.mapValues(_.ul,(S,b)=>{if(k)return _[k.toLowerCase()][b];{let C=Object.values(_).map(A=>A[b]).sort((A,T)=>A-T);return(C[1]+C[2])/2}})}function v(_){let k=r.buildLayerMatrix(_),S=Object.assign(i(_,k),l(_,k)),b={},C;["u","d"].forEach(T=>{C=T==="u"?k:Object.values(k).reverse(),["l","r"].forEach(D=>{D==="r"&&(C=C.map(z=>Object.values(z).reverse()));let R=(T==="u"?_.predecessors:_.successors).bind(_),O=d(_,C,S,R),G=h(_,C,O.root,O.align,D==="r");D==="r"&&(G=r.mapValues(G,z=>-z)),b[T+D]=G})});let A=g(_,b);return f(b,A),m(b,_.graph().align)}function w(_,k,S){return(b,C,A)=>{let T=b.node(C),D=b.node(A),R=0,O;if(R+=T.width/2,Object.hasOwn(T,"labelpos"))switch(T.labelpos.toLowerCase()){case"l":O=-T.width/2;break;case"r":O=T.width/2;break}if(O&&(R+=S?O:-O),O=0,R+=(T.dummy?k:_)/2,R+=(D.dummy?k:_)/2,R+=D.width/2,Object.hasOwn(D,"labelpos"))switch(D.labelpos.toLowerCase()){case"l":O=D.width/2;break;case"r":O=-D.width/2;break}return O&&(R+=S?O:-O),O=0,R}}function E(_,k){return _.node(k).width}return id}var od,Om;function r2(){if(Om)return od;Om=1;let e=wt(),r=n2().positionX;od=i;function i(s){s=e.asNonCompoundGraph(s),l(s),Object.entries(r(s)).forEach(([u,a])=>s.node(u).x=a)}function l(s){let u=e.buildLayerMatrix(s),a=s.graph().ranksep,d=0;u.forEach(h=>{const p=h.reduce((g,f)=>{const m=s.node(f).height;return g>m?g:m},0);h.forEach(g=>s.node(g).y=d+p/2),d+=p+a})}return od}var sd,Pm;function i2(){if(Pm)return sd;Pm=1;let e=jC(),r=BC(),i=HC(),l=wt().normalizeRanks,s=UC(),u=wt().removeEmptyRanks,a=VC(),d=WC(),h=GC(),p=t2(),g=r2(),f=wt(),m=Pn().Graph;sd=v;function v(U,q){let Q=q&&q.debugTiming?f.time:f.notime;Q("layout",()=>{let re=Q("  buildLayoutGraph",()=>R(U));Q("  runLayout",()=>w(re,Q,q)),Q("  updateInputGraph",()=>E(U,re))})}function w(U,q,Q){q("    makeSpaceForEdgeLabels",()=>O(U)),q("    removeSelfEdges",()=>I(U)),q("    acyclic",()=>e.run(U)),q("    nestingGraph.run",()=>a.run(U)),q("    rank",()=>i(f.asNonCompoundGraph(U))),q("    injectEdgeLabelProxies",()=>G(U)),q("    removeEmptyRanks",()=>u(U)),q("    nestingGraph.cleanup",()=>a.cleanup(U)),q("    normalizeRanks",()=>l(U)),q("    assignRankMinMax",()=>z(U)),q("    removeEdgeLabelProxies",()=>j(U)),q("    normalize.run",()=>r.run(U)),q("    parentDummyChains",()=>s(U)),q("    addBorderSegments",()=>d(U)),q("    order",()=>p(U,Q)),q("    insertSelfEdges",()=>$(U)),q("    adjustCoordinateSystem",()=>h.adjust(U)),q("    position",()=>g(U)),q("    positionSelfEdges",()=>H(U)),q("    removeBorderNodes",()=>X(U)),q("    normalize.undo",()=>r.undo(U)),q("    fixupEdgeLabelCoords",()=>J(U)),q("    undoCoordinateSystem",()=>h.undo(U)),q("    translateGraph",()=>ee(U)),q("    assignNodeIntersects",()=>P(U)),q("    reversePoints",()=>F(U)),q("    acyclic.undo",()=>e.undo(U))}function E(U,q){U.nodes().forEach(Q=>{let re=U.node(Q),ae=q.node(Q);re&&(re.x=ae.x,re.y=ae.y,re.rank=ae.rank,q.children(Q).length&&(re.width=ae.width,re.height=ae.height))}),U.edges().forEach(Q=>{let re=U.edge(Q),ae=q.edge(Q);re.points=ae.points,Object.hasOwn(ae,"x")&&(re.x=ae.x,re.y=ae.y)}),U.graph().width=q.graph().width,U.graph().height=q.graph().height}let _=["nodesep","edgesep","ranksep","marginx","marginy"],k={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},S=["acyclicer","ranker","rankdir","align"],b=["width","height","rank"],C={width:0,height:0},A=["minlen","weight","width","height","labeloffset"],T={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},D=["labelpos"];function R(U){let q=new m({multigraph:!0,compound:!0}),Q=V(U.graph());return q.setGraph(Object.assign({},k,L(Q,_),f.pick(Q,S))),U.nodes().forEach(re=>{let ae=V(U.node(re));const oe=L(ae,b);Object.keys(C).forEach(se=>{oe[se]===void 0&&(oe[se]=C[se])}),q.setNode(re,oe),q.setParent(re,U.parent(re))}),U.edges().forEach(re=>{let ae=V(U.edge(re));q.setEdge(re,Object.assign({},T,L(ae,A),f.pick(ae,D)))}),q}function O(U){let q=U.graph();q.ranksep/=2,U.edges().forEach(Q=>{let re=U.edge(Q);re.minlen*=2,re.labelpos.toLowerCase()!=="c"&&(q.rankdir==="TB"||q.rankdir==="BT"?re.width+=re.labeloffset:re.height+=re.labeloffset)})}function G(U){U.edges().forEach(q=>{let Q=U.edge(q);if(Q.width&&Q.height){let re=U.node(q.v),oe={rank:(U.node(q.w).rank-re.rank)/2+re.rank,e:q};f.addDummyNode(U,"edge-proxy",oe,"_ep")}})}function z(U){let q=0;U.nodes().forEach(Q=>{let re=U.node(Q);re.borderTop&&(re.minRank=U.node(re.borderTop).rank,re.maxRank=U.node(re.borderBottom).rank,q=Math.max(q,re.maxRank))}),U.graph().maxRank=q}function j(U){U.nodes().forEach(q=>{let Q=U.node(q);Q.dummy==="edge-proxy"&&(U.edge(Q.e).labelRank=Q.rank,U.removeNode(q))})}function ee(U){let q=Number.POSITIVE_INFINITY,Q=0,re=Number.POSITIVE_INFINITY,ae=0,oe=U.graph(),se=oe.marginx||0,me=oe.marginy||0;function Te(Ee){let ye=Ee.x,Le=Ee.y,We=Ee.width,Be=Ee.height;q=Math.min(q,ye-We/2),Q=Math.max(Q,ye+We/2),re=Math.min(re,Le-Be/2),ae=Math.max(ae,Le+Be/2)}U.nodes().forEach(Ee=>Te(U.node(Ee))),U.edges().forEach(Ee=>{let ye=U.edge(Ee);Object.hasOwn(ye,"x")&&Te(ye)}),q-=se,re-=me,U.nodes().forEach(Ee=>{let ye=U.node(Ee);ye.x-=q,ye.y-=re}),U.edges().forEach(Ee=>{let ye=U.edge(Ee);ye.points.forEach(Le=>{Le.x-=q,Le.y-=re}),Object.hasOwn(ye,"x")&&(ye.x-=q),Object.hasOwn(ye,"y")&&(ye.y-=re)}),oe.width=Q-q+se,oe.height=ae-re+me}function P(U){U.edges().forEach(q=>{let Q=U.edge(q),re=U.node(q.v),ae=U.node(q.w),oe,se;Q.points?(oe=Q.points[0],se=Q.points[Q.points.length-1]):(Q.points=[],oe=ae,se=re),Q.points.unshift(f.intersectRect(re,oe)),Q.points.push(f.intersectRect(ae,se))})}function J(U){U.edges().forEach(q=>{let Q=U.edge(q);if(Object.hasOwn(Q,"x"))switch((Q.labelpos==="l"||Q.labelpos==="r")&&(Q.width-=Q.labeloffset),Q.labelpos){case"l":Q.x-=Q.width/2+Q.labeloffset;break;case"r":Q.x+=Q.width/2+Q.labeloffset;break}})}function F(U){U.edges().forEach(q=>{let Q=U.edge(q);Q.reversed&&Q.points.reverse()})}function X(U){U.nodes().forEach(q=>{if(U.children(q).length){let Q=U.node(q),re=U.node(Q.borderTop),ae=U.node(Q.borderBottom),oe=U.node(Q.borderLeft[Q.borderLeft.length-1]),se=U.node(Q.borderRight[Q.borderRight.length-1]);Q.width=Math.abs(se.x-oe.x),Q.height=Math.abs(ae.y-re.y),Q.x=oe.x+Q.width/2,Q.y=re.y+Q.height/2}}),U.nodes().forEach(q=>{U.node(q).dummy==="border"&&U.removeNode(q)})}function I(U){U.edges().forEach(q=>{if(q.v===q.w){var Q=U.node(q.v);Q.selfEdges||(Q.selfEdges=[]),Q.selfEdges.push({e:q,label:U.edge(q)}),U.removeEdge(q)}})}function $(U){var q=f.buildLayerMatrix(U);q.forEach(Q=>{var re=0;Q.forEach((ae,oe)=>{var se=U.node(ae);se.order=oe+re,(se.selfEdges||[]).forEach(me=>{f.addDummyNode(U,"selfedge",{width:me.label.width,height:me.label.height,rank:se.rank,order:oe+ ++re,e:me.e,label:me.label},"_se")}),delete se.selfEdges})})}function H(U){U.nodes().forEach(q=>{var Q=U.node(q);if(Q.dummy==="selfedge"){var re=U.node(Q.e.v),ae=re.x+re.width/2,oe=re.y,se=Q.x-ae,me=re.height/2;U.setEdge(Q.e,Q.label),U.removeNode(q),Q.label.points=[{x:ae+2*se/3,y:oe-me},{x:ae+5*se/6,y:oe-me},{x:ae+se,y:oe},{x:ae+5*se/6,y:oe+me},{x:ae+2*se/3,y:oe+me}],Q.label.x=Q.x,Q.label.y=Q.y}})}function L(U,q){return f.mapValues(f.pick(U,q),Number)}function V(U){var q={};return U&&Object.entries(U).forEach(([Q,re])=>{typeof Q=="string"&&(Q=Q.toLowerCase()),q[Q]=re}),q}return sd}var ld,zm;function o2(){if(zm)return ld;zm=1;let e=wt(),r=Pn().Graph;ld={debugOrdering:i};function i(l){let s=e.buildLayerMatrix(l),u=new r({compound:!0,multigraph:!0}).setGraph({});return l.nodes().forEach(a=>{u.setNode(a,{label:a}),u.setParent(a,"layer"+l.node(a).rank)}),l.edges().forEach(a=>u.setEdge(a.v,a.w,{},a.name)),s.forEach((a,d)=>{let h="layer"+d;u.setNode(h,{rank:"same"}),a.reduce((p,g)=>(u.setEdge(p,g,{style:"invis"}),g))}),u}return ld}var ad,Dm;function s2(){return Dm||(Dm=1,ad="1.1.8"),ad}var ud,$m;function l2(){return $m||($m=1,ud={graphlib:Pn(),layout:i2(),debug:o2(),util:{time:wt().time,notime:wt().notime},version:s2()}),ud}var a2=l2();const jm=oa(a2);function u2(e,r,i={}){const{direction:l="TB",nodeWidth:s=280,nodeHeight:u=180,rankSep:a=80,nodeSep:d=40}=i,h=new jm.graphlib.Graph().setDefaultEdgeLabel(()=>({}));return h.setGraph({rankdir:l,ranksep:a,nodesep:d}),e.forEach(p=>{var f;const g=Number((f=p.data)==null?void 0:f.estimatedHeight)||u;h.setNode(p.id,{width:s,height:g})}),r.forEach(p=>{h.setEdge(p.source,p.target)}),jm.layout(h),e.map(p=>{var m;const g=h.node(p.id),f=Number((m=p.data)==null?void 0:m.estimatedHeight)||u;return{...p,position:{x:g.x-s/2,y:g.y-f/2}}})}let Jo=[],Pl=[];const zl={},Bm=["#4F46E5","#0891B2","#059669","#D97706","#DC2626","#7C3AED","#DB2777","#2563EB","#65A30D","#EA580C","#6D28D9","#0D9488","#CA8A04","#E11D48","#1D4ED8"];function Td(e){if(!zl[e]){const r=Object.keys(zl).length%Bm.length;zl[e]=Bm[r]}return zl[e]}function c2(e){const r=Math.min(Object.keys(e.attributes).length,8),i=e.relations.some(l=>l.count>0);return 60+r*22+(i?30:0)+20}function cd(e,r,i=[]){const l=Math.max(.4,1-r*.15);return{id:e.key,type:"modelNode",position:{x:0,y:0},data:{...e,expandedRelations:i,depth:r,color:Td(e.model),opacity:l,estimatedHeight:c2(e)}}}function d2(){const[e,r]=Z.useState([]),[i,l]=Z.useState([]),[s,u]=Z.useState(!1),[a,d]=Z.useState(null),[h,p]=Z.useState(null),[g,f]=Z.useState(null),[m,v]=Z.useState(new Set),w=Z.useRef(new Map),E=Z.useRef(new Map),_=Z.useRef(new Map),[k,S]=Z.useState(0),b=Z.useCallback((F,X)=>{const I=u2(F,X);Jo=I,Pl=X,r(I),l(X)},[]),C=Z.useCallback(async(F,X)=>{u(!0),d(null);try{const{node:I}=await sN(F,X);w.current=new Map([[I.key,I]]),E.current=new Map([[I.key,0]]),v(new Set),f(I.key);const $=cd(I,0);b([$],[]),p(I.key)}catch(I){d(I instanceof Error?I.message:"Unknown error")}finally{u(!1)}},[b]),A=Z.useCallback(async(F,X,I=1)=>{const $=`${F}:${X.name}`;u(!0),d(null);try{const[H,L]=dd(F),V=await lN(H,L,X.name,I),q=(E.current.get(F)??0)+1;v(se=>{const me=new Set(se);return me.add($),me});let Q=[...Jo],re=[...Pl];const ae=`more:${F}:${X.name}:`;Q=Q.filter(se=>!se.id.startsWith(ae)),re=re.filter(se=>!se.target.startsWith(ae));const oe=Q.findIndex(se=>se.id===F);if(oe!==-1){const se=Q[oe],me=se.data.expandedRelations||[];Q[oe]={...se,data:{...se.data,expandedRelations:[...me,X.name]}}}if(V.nodes.forEach(se=>{w.current.set(se.key,se);const me=E.current.get(se.key),Te=me!==void 0?Math.min(me,q):q;if(E.current.set(se.key,Te),Q.findIndex(Le=>Le.id===se.key)===-1){const Le=cd(se,Te);Q.push(Le)}const ye=`e:${F}->${se.key}:${X.name}`;re.some(Le=>Le.id===ye)||re.push({id:ye,source:F,target:se.key,label:`${X.name}`,type:"smoothstep",animated:!0,style:{stroke:Td(X.class_name),strokeWidth:2}})}),V.has_more){const se=`more:${F}:${X.name}:${V.page+1}`;Q.push({id:se,type:"loadMoreNode",position:{x:0,y:0},data:{sourceKey:F,relation:X,nextPage:V.page+1,remaining:V.total-V.page*V.per_page,color:Td(X.class_name),estimatedHeight:40}}),re.push({id:`e:${F}->${se}`,source:F,target:se,type:"smoothstep",style:{stroke:"#94A3B8",strokeDasharray:"5,5"}})}b(Q,re),V.nodes.length>0&&p(V.nodes[0].key)}catch(H){d(H instanceof Error?H.message:"Unknown error")}finally{u(!1)}},[b]),T=Z.useCallback(async F=>{const X=w.current.get(F);if(X)for(const I of X.relations){if(I.count===0)continue;const $=`${F}:${I.name}`;m.has($)||await A(F,I,1)}},[A,m]),D=Z.useCallback(F=>{const X=F.filter(I=>I.type!=="remove");r(I=>{const $=J0(X,I);return Jo=$,$})},[]),R=Z.useCallback(()=>{const F=e.filter(H=>H.type==="modelNode").map(H=>({...w.current.get(H.id)||{key:H.id,model:"",record_id:"",attributes:{},relations:[]},position:H.position})),X=i.filter(H=>!H.id.startsWith("e:stub:")&&!H.target.startsWith("stub:")&&!H.target.startsWith("more:")).map(H=>({source:H.source,target:H.target,relation:H.label||"",macro:""})),I=g?{model:dd(g)[0],id:dd(g)[1]}:null,$={};return _.current.forEach((H,L)=>{H.length>0&&($[L]=H)}),{version:1,timestamp:new Date().toISOString(),root:I,nodes:F,expandedRelations:Array.from(m),edges:X,comments:$}},[e,i,g,m]),O=Z.useCallback(F=>{w.current=new Map,E.current=new Map,_.current=new Map,F.comments&&Object.entries(F.comments).forEach(([H,L])=>{_.current.set(H,L)}),S(H=>H+1);const X=F.nodes.map((H,L)=>{const V={key:H.key,model:H.model,record_id:H.record_id,attributes:H.attributes,relations:H.relations};return w.current.set(H.key,V),E.current.set(H.key,L===0?0:1),{...cd(V,L===0?0:1),position:H.position}}),I=F.edges.map(H=>({id:`e:${H.source}->${H.target}:${H.relation}`,source:H.source,target:H.target,label:H.relation,type:"smoothstep",animated:!0,style:{strokeWidth:2}}));Jo=X,Pl=I,r(X),l(I);const $=F.root?`${F.root.model}:${F.root.id}`:null;return f($),v(new Set(F.expandedRelations)),$},[]),G=Z.useCallback(()=>{r([]),l([]),f(null),v(new Set),p(null),w.current=new Map,E.current=new Map,_.current=new Map,S(F=>F+1),Jo=[],Pl=[],d(null)},[]),z=Z.useCallback(()=>{p(null)},[]),j=Z.useCallback(F=>_.current.get(F)||[],[k]),ee=Z.useCallback((F,X,I)=>{const $=_.current.get(F)||[];$.push({id:`${Date.now()}-${Math.random().toString(36).slice(2,7)}`,text:X,type:I,timestamp:new Date().toISOString()}),_.current.set(F,$),S(H=>H+1)},[]),P=Z.useCallback(F=>w.current.get(F),[]),J=Z.useMemo(()=>{const F=new Set;return _.current.forEach((X,I)=>{X.length>0&&F.add(I)}),F},[k]);return{flowNodes:e,flowEdges:i,loading:s,error:a,rootKey:g,focusNodeKey:h,expandedRelations:m,loadRootNode:C,expandRelation:A,expandNode:T,onNodesChange:D,exportGraph:R,importGraph:O,clearGraph:G,clearFocus:z,getComments:j,addComment:ee,getNodeData:P,nodeKeysWithComments:J}}function dd(e){const r=e.indexOf(":");return[e.substring(0,r),e.substring(r+1)]}function f2(){const e=d2(),[r,i]=Z.useState([]),[l,s]=Z.useState(null),u=r.find(m=>m.key===l)||null,a=Z.useCallback(m=>{const v=`table:${m}`;i(w=>w.some(E=>E.key===v)?w:[...w,{type:"table",model:m,key:v}]),s(v)},[]),d=Z.useCallback((m,v)=>{const w=`graph:${m}:${v}`;i(E=>E.some(_=>_.key===w)?E:[...E,{type:"graph",model:m,id:v,key:w}]),s(w),e.loadRootNode(m,v)},[e]),h=Z.useCallback(m=>{i(v=>{const w=v.filter(E=>E.key!==m);return l===m&&s(w.length>0?w[w.length-1].key:null),w})},[l]),p=Z.useCallback((m,v)=>{d(m,v)},[d]),g=Z.useCallback(m=>{const v=e.importGraph(m);if(v){const[w,E]=[v.substring(0,v.indexOf(":")),v.substring(v.indexOf(":")+1)],_=`graph:${w}:${E}`;i(k=>k.some(S=>S.key===_)?k:[...k,{type:"graph",model:w,id:E,key:_}]),s(_)}},[e]),f=Z.useCallback((m,v)=>{d(m,v)},[d]);return M.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',background:"#f8fafc"},children:[M.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 16px",background:"#fff",borderBottom:"1px solid #e2e8f0",zIndex:10,flexShrink:0},children:[M.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[M.jsx("h1",{style:{fontSize:15,fontWeight:700,color:"#1E293B",margin:0,whiteSpace:"nowrap"},children:"Models Viz"}),M.jsx(uN,{onSearch:p,loading:e.loading})]}),M.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.error&&M.jsx("span",{style:{color:"#EF4444",fontSize:12},children:e.error}),M.jsx(cN,{onExport:e.exportGraph,onImport:g,onClear:e.clearGraph,hasGraph:e.flowNodes.length>0})]})]}),M.jsxs("div",{style:{flex:1,display:"flex",overflow:"hidden"},children:[M.jsxs("div",{style:{width:220,borderRight:"1px solid #e2e8f0",background:"#fff",flexShrink:0,display:"flex",flexDirection:"column"},children:[M.jsx("div",{style:{padding:"8px 12px",borderBottom:"1px solid #e2e8f0",fontSize:11,fontWeight:600,color:"#64748B",textTransform:"uppercase",letterSpacing:.5},children:"Models"}),M.jsx(dN,{onModelClick:a,activeModel:(u==null?void 0:u.type)==="table"?u.model:void 0})]}),M.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[M.jsx(fN,{tabs:r,activeTabKey:l,onTabClick:s,onTabClose:h}),M.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[!u&&M.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"#94A3B8",fontSize:14,flexDirection:"column",gap:8},children:[M.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#CBD5E1",strokeWidth:"1.5",children:[M.jsx("circle",{cx:"12",cy:"12",r:"3"}),M.jsx("path",{d:"M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"})]}),M.jsx("div",{children:"Click a model on the left to browse records"}),M.jsx("div",{style:{fontSize:12},children:"Or enter Model + ID above to explore the graph"})]}),r.map(m=>M.jsxs("div",{style:{display:m.key===l?"flex":"none",flexDirection:"column",height:"100%"},children:[m.type==="table"&&M.jsx(hN,{model:m.model,onRecordClick:f}),m.type==="graph"&&M.jsx(ky,{children:M.jsx(kC,{nodes:e.flowNodes,edges:e.flowEdges,onNodesChange:e.onNodesChange,onExpandRelation:e.expandRelation,focusNodeKey:e.focusNodeKey,onFocusHandled:e.clearFocus,getComments:e.getComments,addComment:e.addComment,getNodeData:e.getNodeData,nodeKeysWithComments:e.nodeKeysWithComments})})]},m.key))]})]})]})]})}Jx.createRoot(document.getElementById("root")).render(M.jsx(Z.StrictMode,{children:M.jsx(f2,{})}));
